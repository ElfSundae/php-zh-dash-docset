<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>得到指定年份的3月21日到复活节之间的天数</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.easter-date.html">? easter_date</a></li>
      <li style="float: right;"><a href="function.frenchtojd.html">FrenchToJD ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.calendar.html">日历 函数</a></li>
    <li>得到指定年份的3月21日到复活节之间的天数</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.easter-days" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">easter_days</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">easter_days</span> &mdash; <span class="dc-title">得到指定年份的3月21日到复活节之间的天数</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.easter-days-description">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">int</span> <span class="methodname"><strong>easter_days</strong></span>
    ([ <span class="methodparam"><span class="type">int</span> <code class="parameter">$year</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$method</code><span class="initializer"> = CAL_EASTER_DEFAULT</span></span>
  ]] )</div>

  <p class="para rdfs-comment">
   返回指定年份的3月21日到复活节之间的天数，如果没有指定年份，默认是当年。
  </p>
  <p class="para">
   这个函数可以用来代替<span class="function"><a href="function.easter-date.html" class="function">easter_date()</a></span>函数来计算Unix时间戳以外年份的复活节日期。（比如1970年以前或2037年以后）
  </p>
  <p class="para">
    复活节的日期是由尼西亚议会在AD325年确定的为每年春分月圆后的第一个星期日。春分一般是在3月21日，这就简化为只要计算满月的日期和紧挨的星期日的日期。这里所用的算法是在532年由Dionysius Exiguus所介绍的，参考了Julian历法和Gregorian历法这两个历法来提高精确度。（在1753年以前用Julian历法计算，该历法是一个以19年为周期来确定月亮的相位的历法。在1753年以后用Gregorian历法计算，该历法由Clavius和Lilius发明，由Pope Gregory 8世在1582年推广）
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.easter-days-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">year</code></dt>

     <dd>

      <p class="para">
       正数形式的年份
      </p>
     </dd>

      
    
     <dt>
<code class="parameter">method</code></dt>

     <dd>

      <p class="para"> 
       当设置为<strong><code>CAL_EASTER_ROMAN</code></strong>时可以用Gregorian历法来计算1582－1752之间的复活节日期。更多可用的常量参考<a href="calendar.constants.html" class="link">calendar constants</a>。    
       </p>
     </dd>

      
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.easter-days-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   根据给定参数<code class="parameter">year</code>年份而返回的3月21日至复活节的天数。
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.easter-days-changelog">
  <h3 class="title">更新日志</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>版本</th>
       <th>说明</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>Since 4.3.0</td>
       <td>
        参数<code class="parameter">year</code> 可选，缺省默认值是当年。
       </td>
      </tr>

      <tr>
       <td>Since 4.3.0</td>
       <td>
        引入参数 <code class="parameter">method</code>。
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.easter-days-examples">
  <h3 class="title">范例</h3>
  <p class="para">
   <div class="example" id="example-2258">
    <p><strong>Example #1 <span class="function"><strong>easter_days()</strong></span> example</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">easter_days</span><span style="color: #007700">(</span><span style="color: #0000BB">1999</span><span style="color: #007700">);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;14,&nbsp;i.e.&nbsp;April&nbsp;4<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">easter_days</span><span style="color: #007700">(</span><span style="color: #0000BB">1492</span><span style="color: #007700">);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;32,&nbsp;i.e.&nbsp;April&nbsp;22<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">easter_days</span><span style="color: #007700">(</span><span style="color: #0000BB">1913</span><span style="color: #007700">);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;&nbsp;2,&nbsp;i.e.&nbsp;March&nbsp;23<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.easter-days-seealso">
  <h3 class="title">参见</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.easter-date.html" class="function" rel="rdfs-seeAlso">easter_date()</a> - 得到指定年份的复活节午夜时的Unix时间戳。</span></li>
   </ul>
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="16932""></a>
  <div class="note">
   <strong class="user">ian at eiloart dot com-NOSPAM</strong>
   <a href="#16932" class="date">19-Nov-2001 08:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Also, be aware that the eastern orthodox churches sometimes have different dates for easter. See, for example &lt;<a href="http://webexhibits.org/calendars/calendar-christian-easter.html&gt;. And note that the dates of easter a subject to change,&nbsp; for example, the churches might some day decide to unify the dates." rel="nofollow" target="_blank">http://webexhibits.org/calendars/calendar-christian-easter.html&gt;. And note that the dates of easter a subject to change,&nbsp; for example, the churches might some day decide to unify the dates.</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="14805""></a>
  <div class="note">
   <strong class="user">martin at diers dot cc</strong>
   <a href="#14805" class="date">15-Aug-2001 07:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This function appears to be Britanno-centric. When attempting to calculate the Gregorian date for Easter for years prior to 1753, the function returns the number or days since March 21st in the Julian Calendar, even though the Gregorian system was in effect in the rest of Europe since 1582. If you wish to calculate the date of easter for a Gregorian date from 1582 onward, use the following function, which duplicates the funcionality of easter_days:
<br />

<br />
<span class="default">&lt;?php
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">easter_days2</span><span class="keyword">(</span><span class="default">$year</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">#First calculate the date of easter using Delambre's algorithm.
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$a </span><span class="keyword">= </span><span class="default">$year </span><span class="keyword">% </span><span class="default">19</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$b </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$year </span><span class="keyword">/ </span><span class="default">100</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$c </span><span class="keyword">= </span><span class="default">$year </span><span class="keyword">% </span><span class="default">100</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$d </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$b </span><span class="keyword">/ </span><span class="default">4</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$e </span><span class="keyword">= </span><span class="default">$b </span><span class="keyword">% </span><span class="default">4</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$f </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">((</span><span class="default">$b </span><span class="keyword">+ </span><span class="default">8</span><span class="keyword">) / </span><span class="default">25</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$g </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">((</span><span class="default">$b </span><span class="keyword">- </span><span class="default">$f </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">) / </span><span class="default">3</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$h </span><span class="keyword">= (</span><span class="default">19 </span><span class="keyword">* </span><span class="default">$a </span><span class="keyword">+ </span><span class="default">$b </span><span class="keyword">- </span><span class="default">$d </span><span class="keyword">- </span><span class="default">$g </span><span class="keyword">+ </span><span class="default">15</span><span class="keyword">) % </span><span class="default">30</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$c </span><span class="keyword">/ </span><span class="default">4</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$k </span><span class="keyword">= </span><span class="default">$c </span><span class="keyword">% </span><span class="default">4</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$l </span><span class="keyword">= (</span><span class="default">32 </span><span class="keyword">+ </span><span class="default">2 </span><span class="keyword">* </span><span class="default">$e </span><span class="keyword">+ </span><span class="default">2 </span><span class="keyword">* </span><span class="default">$i </span><span class="keyword">- </span><span class="default">$h </span><span class="keyword">- </span><span class="default">$k</span><span class="keyword">) % </span><span class="default">7</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$m </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">((</span><span class="default">$a </span><span class="keyword">+ </span><span class="default">11 </span><span class="keyword">* </span><span class="default">$h </span><span class="keyword">+ </span><span class="default">22 </span><span class="keyword">* </span><span class="default">$l</span><span class="keyword">) / </span><span class="default">451</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$n </span><span class="keyword">= (</span><span class="default">$h </span><span class="keyword">+ </span><span class="default">$l </span><span class="keyword">- </span><span class="default">7 </span><span class="keyword">* </span><span class="default">$m </span><span class="keyword">+ </span><span class="default">114</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$month </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$n </span><span class="keyword">/ </span><span class="default">31</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$day </span><span class="keyword">= </span><span class="default">$n </span><span class="keyword">% </span><span class="default">31 </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">;
<br />

<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">#Return the difference between the JulianDayCount for easter and March 21'st
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; #of the same year, in order to duplicate the functionality of the easter_days function
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">GregorianToJD</span><span class="keyword">(</span><span class="default">$month</span><span class="keyword">, </span><span class="default">$day</span><span class="keyword">, </span><span class="default">$year</span><span class="keyword">) - </span><span class="default">GregorianToJD</span><span class="keyword">(</span><span class="default">3</span><span class="keyword">,</span><span class="default">21</span><span class="keyword">,</span><span class="default">$year</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; }
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
