<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>PHP 标记</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="language.basic-syntax.html">? 基本语法</a></li>
      <li style="float: right;"><a href="language.basic-syntax.phpmode.html">从 HTML 中分离 ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="language.basic-syntax.html">基本语法</a></li>
    <li>PHP 标记</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="language.basic-syntax.phptags" class="sect1">
  <h2 class="title">PHP 标记</h2>
  <p class="para">
   当解析一个文件时，PHP 会寻找起始和结束标记，也就是
   <em>&lt;?php</em> 和 <em>?&gt;</em>，这告诉
   PHP 开始和停止解析二者之间的代码。此种解析方式使得 PHP
   可以被嵌入到各种不同的文档中去，而任何起始和结束标记之外的部分都会被
   PHP 解析器忽略。
  </p>
  <p class="para">
   PHP 也允许使用短标记 <em>&lt;?</em> 和
   <em>?&gt;</em>，但不鼓励使用。只有通过激活 <var class="filename">php.ini</var>
   中的 <a href="ini.core.html#ini.short-open-tag" class="link">short_open_tag</a>
   配置指令或者在编译 PHP 时使用了配置选项 <strong class="option unknown">--enable-short-tags</strong>

   时才能使用短标记。
  </p>
  <p class="para">
   如果文件内容是纯 PHP 代码，最好在文件末尾删除 PHP
   结束标记。这可以避免在 PHP 结束标记之后万一意外加入了空格或者换行符，会导致
   PHP 开始输出这些空白，而脚本中此时并无输出的意图。
   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">"Hello&nbsp;world"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;...&nbsp;more&nbsp;code<br /><br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">"Last&nbsp;statement"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;脚本至此结束，并无&nbsp;PHP&nbsp;结束标记</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="118827""></a>
  <div class="note">
   <strong class="user">crazytonyi at gmail dot com</strong>
   <a href="#118827" class="date">12-Feb-2016 07:49</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Regarding earlier note by @purkrt :<br />
<br />
&gt; I would like to stress out that the opening tag is "&lt;?php[whitespace]", not just "&lt;?php"<br />
<br />
This is absolutely correct, but the wording may confuse some developers less familiar with the extent of the term "[whitespace]".<br />
<br />
Whitespace, in this context, would be any character that generated vertical or horizontal space, including tabs ( \t ), newlines ( \n ), and carriage returns ( \r ), as well as a space character ( \s ). So reusing purkrt's example:<br />
<br />
&lt;?php/*blah*/ echo "a"?&gt; <br />
<br />
would not work, as mentioned, but :<br />
<br />
<span class="default">&lt;?php </span><span class="comment">/*php followed by space*/ </span><span class="keyword">echo </span><span class="string">"a"</span><span class="default">?&gt;<br />
</span><br />
will work, as well as :<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/*php followed by end-of-line*/ </span><span class="keyword">echo </span><span class="string">"a"</span><span class="default">?&gt;<br />
</span><br />
and :<br />
<br />
<span class="default">&lt;?php&nbsp; &nbsp; </span><span class="comment">/*php followed by tab*/ </span><span class="keyword">echo </span><span class="string">"a"</span><span class="default">?&gt;<br />
</span><br />
I just wanted to clarify this to prevent anyone from misreading purkrt's note to mean that a the opening tag --even when being on its own line--required a space ( \s ) character. The following would work but is not at all necessary or how the earlier comment should be interpreted :<br />
<br />
<span class="default">&lt;?php <br />
</span><span class="comment">/*php followed by a space and end-of-line*/ </span><span class="keyword">echo </span><span class="string">"a"</span><span class="default">?&gt;<br />
</span><br />
The end-of-line character is whitespace, so it is all that you would need.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="118605""></a>
  <div class="note">
   <strong class="user">jcastromail at yahoo dot es</strong>
   <a href="#118605" class="date">07-Jan-2016 09:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Its important:<br />
<br />
this code (for web)<br />
&nbsp;&nbsp;&nbsp; &lt;pre&gt;<br />
&nbsp;&nbsp;&nbsp; I<br />
&nbsp;&nbsp;&nbsp; &lt;? echo "am;" ?&gt;<br />
&nbsp;&nbsp;&nbsp; Groot<br />
&nbsp;&nbsp;&nbsp; &lt;/pre&gt;<br />
<br />
Generates the next result:<br />
&nbsp;&nbsp;&nbsp; I<br />
&nbsp;&nbsp;&nbsp; amGroot<br />
instead of <br />
&nbsp;&nbsp;&nbsp; I<br />
&nbsp;&nbsp;&nbsp; am<br />
&nbsp;&nbsp;&nbsp; Groot<br />
The last tag "?&gt;" deletes the end of the line.<br />
<br />
However, if we changed the line<br />
&nbsp;&nbsp;&nbsp; &lt;? echo "am"; ?&gt;<br />
by<br />
&nbsp;&nbsp;&nbsp; &lt;? echo "am"; ?&gt;.&nbsp; (or&nbsp; a space)<br />
then the result is :<br />
&nbsp;&nbsp;&nbsp; I<br />
&nbsp;&nbsp;&nbsp; am.<br />
&nbsp;&nbsp;&nbsp; Groot</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="116883""></a>
  <div class="note">
   <strong class="user">purkrt at gmail dot com</strong>
   <a href="#116883" class="date">15-Mar-2015 10:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I would like to stress out that the opening tag is "&lt;?php[whitespace]", not just "&lt;?php". While this might seem blatantly obvious, I thought for some time that<br />
<br />
&lt;?php/*blah*/ echo "a"?&gt; <br />
<br />
would work, and it does not; the comment does not work as whitespace. I've run into this while converting some older code with short open tag.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="116094""></a>
  <div class="note">
   <strong class="user">mario</strong>
   <a href="#116094" class="date">09-Nov-2014 06:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A few related notes, partly covered elsewhere in the manual:<br />
<br />
&nbsp; → Since PHP 5.4 the inline echo <span class="default">&lt;?= ?&gt;</span> short tags are always<br />
&nbsp;&nbsp;&nbsp; enabled regardless of the short_open_tag (php.ini) setting. <br />
<br />
&nbsp; → PHP tags are infrequently also referred to as open/close "tokens"<br />
&nbsp;&nbsp;&nbsp; (as per the tokenizers T_OPEN_TAG / _ECHO, and T_CLOSE_TAG naming).<br />
<br />
&nbsp; → The historic ASP-style &lt;% %&gt; and even more rarely used<br />
&nbsp;&nbsp;&nbsp; <span class="default">&lt;script language=PHP&gt;&lt;/script&gt;</span> tags are to be repealed in PHP7.<br />
&nbsp;&nbsp;&nbsp; <a href="http://wiki.php.net/rfc/remove_alternative_php_tags" rel="nofollow" target="_blank">http://wiki.php.net/rfc/remove_alternative_php_tags</a><br />
<br />
There also exists a small tool called "phptags tidier" for consistently rewriting PHP short/long tags.&nbsp; It's suitable to normalize include and template scripts, e.g. employ the always-enabled long <span class="default">&lt;?php ?&gt;</span> tags, and/or relieve whitespace padding before/after PHP tags:<br />
<br />
&nbsp;&nbsp;&nbsp; phptags --long --whitespace --warn&nbsp; *.php<br />
<br />
Instead of reliably fixing the common whitespace/BOM issues around tags, it can also just remove all ?&gt; close tags with `--unclose --tokenizer` as advised afore.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="115894""></a>
  <div class="note">
   <strong class="user">alexander dot podgorny at somewhere dot com</strong>
   <a href="#115894" class="date">11-Oct-2014 01:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
One reason to use long tags over short is to avoid confusion with &lt;?xml ?&gt; notation.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="111645""></a>
  <div class="note">
   <strong class="user">preda dot vlad at yahoo dot com</strong>
   <a href="#111645" class="date">12-Mar-2013 06:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
So here are the valid ways to open PHP tags:<br />
<br />
<span class="default">&lt;?php ?&gt;</span> // standard tags<br />
&lt;? ?&gt; // short tags, need short_open_tag enabled in php.ini<br />
&lt;% %&gt; // asp tags, need asp_tags enabled in php.ini<br />
<span class="default">&lt;script language="php"&gt; &lt;/script&gt;</span> // case insensitive<br />
<br />
PSR-1 coding standards suggest to only use <span class="default">&lt;?php ?&gt;</span> or <span class="default">&lt;?= ?&gt;</span> (echo short tags) - and no other variations, and PSR-2 suggests to not close the tags in PHP only files.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
