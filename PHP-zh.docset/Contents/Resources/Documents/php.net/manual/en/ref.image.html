<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>GD 和图像处理 函数</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="image.examples.merged-watermark.html">? 使用 imagecopymerge 函数创建半透明水印</a></li>
      <li style="float: right;"><a href="function.gd-info.html">gd_info ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="book.image.html">GD</a></li>
    <li>GD 和图像处理 函数</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="ref.image" class="reference">
 <h1 class="title">GD 和图像处理 函数</h1>

 



  

































 







 






















































































 























































































 







 























 















 














































































































































  























































  







  





















  







  























 













































  















































  





















































































  
































  





































  















  















































  






























































<h2>Table of Contents</h2><ul class="chunklist chunklist_reference"><li><a href="function.gd-info.html">gd_info</a> &mdash; 取得当前安装的 GD 库的信息</li><li><a href="function.getimagesize.html">getimagesize</a> &mdash; 取得图像大小</li><li><a href="function.getimagesizefromstring.html">getimagesizefromstring</a> &mdash; 从字符串中获取图像尺寸信息</li><li><a href="function.image-type-to-extension.html">image_type_to_extension</a> &mdash; 取得图像类型的文件后缀</li><li><a href="function.image-type-to-mime-type.html">image_type_to_mime_type</a> &mdash; 取得 getimagesize，exif_read_data，exif_thumbnail，exif_imagetype
    所返回的图像类型的 MIME 类型</li><li><a href="function.image2wbmp.html">image2wbmp</a> &mdash; 以 WBMP 格式将图像输出到浏览器或文件</li><li><a href="function.imageaffine.html">imageaffine</a> &mdash; 返回经过仿射变换后的图像，剪切区域可选</li><li><a href="function.imageaffinematrixconcat.html">imageaffinematrixconcat</a> &mdash; Concat two matrices (as in doing many ops in one go)</li><li><a href="function.imageaffinematrixget.html">imageaffinematrixget</a> &mdash; Return an image containing the affine tramsformed src image, using an optional clipping area</li><li><a href="function.imagealphablending.html">imagealphablending</a> &mdash; 设定图像的混色模式</li><li><a href="function.imageantialias.html">imageantialias</a> &mdash; 是否使用抗锯齿（antialias）功能</li><li><a href="function.imagearc.html">imagearc</a> &mdash; 画椭圆弧</li><li><a href="function.imagechar.html">imagechar</a> &mdash; 水平地画一个字符</li><li><a href="function.imagecharup.html">imagecharup</a> &mdash; 垂直地画一个字符</li><li><a href="function.imagecolorallocate.html">imagecolorallocate</a> &mdash; 为一幅图像分配颜色</li><li><a href="function.imagecolorallocatealpha.html">imagecolorallocatealpha</a> &mdash; 为一幅图像分配颜色 + alpha</li><li><a href="function.imagecolorat.html">imagecolorat</a> &mdash; 取得某像素的颜色索引值</li><li><a href="function.imagecolorclosest.html">imagecolorclosest</a> &mdash; 取得与指定的颜色最接近的颜色的索引值</li><li><a href="function.imagecolorclosestalpha.html">imagecolorclosestalpha</a> &mdash; 取得与指定的颜色加透明度最接近的颜色</li><li><a href="function.imagecolorclosesthwb.html">imagecolorclosesthwb</a> &mdash; 取得与给定颜色最接近的色度的黑白色的索引</li><li><a href="function.imagecolordeallocate.html">imagecolordeallocate</a> &mdash; 取消图像颜色的分配</li><li><a href="function.imagecolorexact.html">imagecolorexact</a> &mdash; 取得指定颜色的索引值</li><li><a href="function.imagecolorexactalpha.html">imagecolorexactalpha</a> &mdash; 取得指定的颜色加透明度的索引值</li><li><a href="function.imagecolormatch.html">imagecolormatch</a> &mdash; 使一个图像中调色板版本的颜色与真彩色版本更能匹配</li><li><a href="function.imagecolorresolve.html">imagecolorresolve</a> &mdash; 取得指定颜色的索引值或有可能得到的最接近的替代值</li><li><a href="function.imagecolorresolvealpha.html">imagecolorresolvealpha</a> &mdash; 取得指定颜色 + alpha 的索引值或有可能得到的最接近的替代值</li><li><a href="function.imagecolorset.html">imagecolorset</a> &mdash; 给指定调色板索引设定颜色</li><li><a href="function.imagecolorsforindex.html">imagecolorsforindex</a> &mdash; 取得某索引的颜色</li><li><a href="function.imagecolorstotal.html">imagecolorstotal</a> &mdash; 取得一幅图像的调色板中颜色的数目</li><li><a href="function.imagecolortransparent.html">imagecolortransparent</a> &mdash; 将某个颜色定义为透明色</li><li><a href="function.imageconvolution.html">imageconvolution</a> &mdash; 用系数 div 和 offset 申请一个 3x3 的卷积矩阵</li><li><a href="function.imagecopy.html">imagecopy</a> &mdash; 拷贝图像的一部分</li><li><a href="function.imagecopymerge.html">imagecopymerge</a> &mdash; 拷贝并合并图像的一部分</li><li><a href="function.imagecopymergegray.html">imagecopymergegray</a> &mdash; 用灰度拷贝并合并图像的一部分</li><li><a href="function.imagecopyresampled.html">imagecopyresampled</a> &mdash; 重采样拷贝部分图像并调整大小</li><li><a href="function.imagecopyresized.html">imagecopyresized</a> &mdash; 拷贝部分图像并调整大小</li><li><a href="function.imagecreate.html">imagecreate</a> &mdash; 新建一个基于调色板的图像</li><li><a href="function.imagecreatefromgd2.html">imagecreatefromgd2</a> &mdash; 从 GD2 文件或 URL 新建一图像</li><li><a href="function.imagecreatefromgd2part.html">imagecreatefromgd2part</a> &mdash; 从给定的 GD2 文件或 URL 中的部分新建一图像</li><li><a href="function.imagecreatefromgd.html">imagecreatefromgd</a> &mdash; 从 GD 文件或 URL 新建一图像</li><li><a href="function.imagecreatefromgif.html">imagecreatefromgif</a> &mdash; 由文件或 URL 创建一个新图象。</li><li><a href="function.imagecreatefromjpeg.html">imagecreatefromjpeg</a> &mdash; 由文件或 URL 创建一个新图象。</li><li><a href="function.imagecreatefrompng.html">imagecreatefrompng</a> &mdash; 由文件或 URL 创建一个新图象。</li><li><a href="function.imagecreatefromstring.html">imagecreatefromstring</a> &mdash; 从字符串中的图像流新建一图像</li><li><a href="function.imagecreatefromwbmp.html">imagecreatefromwbmp</a> &mdash; 由文件或 URL 创建一个新图象。</li><li><a href="function.imagecreatefromwebp.html">imagecreatefromwebp</a> &mdash; 由文件或 URL 创建一个新图象。</li><li><a href="function.imagecreatefromxbm.html">imagecreatefromxbm</a> &mdash; 由文件或 URL 创建一个新图象。</li><li><a href="function.imagecreatefromxpm.html">imagecreatefromxpm</a> &mdash; 由文件或 URL 创建一个新图象。</li><li><a href="function.imagecreatetruecolor.html">imagecreatetruecolor</a> &mdash; 新建一个真彩色图像</li><li><a href="function.imagecrop.html">imagecrop</a> &mdash; Crop an image using the given coordinates and size, x, y, width and height</li><li><a href="function.imagecropauto.html">imagecropauto</a> &mdash; Crop an image automatically using one of the available modes</li><li><a href="function.imagedashedline.html">imagedashedline</a> &mdash; 画一虚线</li><li><a href="function.imagedestroy.html">imagedestroy</a> &mdash; 销毁一图像</li><li><a href="function.imageellipse.html">imageellipse</a> &mdash; 画一个椭圆</li><li><a href="function.imagefill.html">imagefill</a> &mdash; 区域填充</li><li><a href="function.imagefilledarc.html">imagefilledarc</a> &mdash; 画一椭圆弧且填充</li><li><a href="function.imagefilledellipse.html">imagefilledellipse</a> &mdash; 画一椭圆并填充</li><li><a href="function.imagefilledpolygon.html">imagefilledpolygon</a> &mdash; 画一多边形并填充</li><li><a href="function.imagefilledrectangle.html">imagefilledrectangle</a> &mdash; 画一矩形并填充</li><li><a href="function.imagefilltoborder.html">imagefilltoborder</a> &mdash; 区域填充到指定颜色的边界为止</li><li><a href="function.imagefilter.html">imagefilter</a> &mdash; 对图像使用过滤器</li><li><a href="function.imageflip.html">imageflip</a> &mdash; Flips an image using a given mode</li><li><a href="function.imagefontheight.html">imagefontheight</a> &mdash; 取得字体高度</li><li><a href="function.imagefontwidth.html">imagefontwidth</a> &mdash; 取得字体宽度</li><li><a href="function.imageftbbox.html">imageftbbox</a> &mdash; 给出一个使用 FreeType 2 字体的文本框</li><li><a href="function.imagefttext.html">imagefttext</a> &mdash; 使用 FreeType 2 字体将文本写入图像</li><li><a href="function.imagegammacorrect.html">imagegammacorrect</a> &mdash; 对 GD 图像应用 gamma 修正</li><li><a href="function.imagegd2.html">imagegd2</a> &mdash; 将 GD2 图像输出到浏览器或文件</li><li><a href="function.imagegd.html">imagegd</a> &mdash; 将 GD 图像输出到浏览器或文件</li><li><a href="function.imagegif.html">imagegif</a> &mdash; 输出图象到浏览器或文件。</li><li><a href="function.imagegrabscreen.html">imagegrabscreen</a> &mdash; Captures the whole screen</li><li><a href="function.imagegrabwindow.html">imagegrabwindow</a> &mdash; Captures a window</li><li><a href="function.imageinterlace.html">imageinterlace</a> &mdash; 激活或禁止隔行扫描</li><li><a href="function.imageistruecolor.html">imageistruecolor</a> &mdash; 检查图像是否为真彩色图像</li><li><a href="function.imagejpeg.html">imagejpeg</a> &mdash; 输出图象到浏览器或文件。</li><li><a href="function.imagelayereffect.html">imagelayereffect</a> &mdash; 设定 alpha 混色标志以使用绑定的 libgd 分层效果</li><li><a href="function.imageline.html">imageline</a> &mdash; 画一条线段</li><li><a href="function.imageloadfont.html">imageloadfont</a> &mdash; 载入一新字体</li><li><a href="function.imagepalettecopy.html">imagepalettecopy</a> &mdash; 将调色板从一幅图像拷贝到另一幅</li><li><a href="function.imagepalettetotruecolor.html">imagepalettetotruecolor</a> &mdash; Converts a palette based image to true color</li><li><a href="function.imagepng.html">imagepng</a> &mdash; 以 PNG 格式将图像输出到浏览器或文件</li><li><a href="function.imagepolygon.html">imagepolygon</a> &mdash; 画一个多边形</li><li><a href="function.imagepsbbox.html">imagepsbbox</a> &mdash; 给出一个使用 PostScript Type1 字体的文本方框</li><li><a href="function.imagepsencodefont.html">imagepsencodefont</a> &mdash; 改变字体中的字符编码矢量</li><li><a href="function.imagepsextendfont.html">imagepsextendfont</a> &mdash; 扩充或精简字体</li><li><a href="function.imagepsfreefont.html">imagepsfreefont</a> &mdash; 释放一个 PostScript Type 1 字体所占用的内存</li><li><a href="function.imagepsloadfont.html">imagepsloadfont</a> &mdash; 从文件中加载一个 PostScript Type 1 字体</li><li><a href="function.imagepsslantfont.html">imagepsslantfont</a> &mdash; 倾斜某字体</li><li><a href="function.imagepstext.html">imagepstext</a> &mdash; 用 PostScript Type1 字体把文本字符串画在图像上</li><li><a href="function.imagerectangle.html">imagerectangle</a> &mdash; 画一个矩形</li><li><a href="function.imagerotate.html">imagerotate</a> &mdash; 用给定角度旋转图像</li><li><a href="function.imagesavealpha.html">imagesavealpha</a> &mdash; 设置标记以在保存 PNG 图像时保存完整的 alpha 通道信息（与单一透明色相反）</li><li><a href="function.imagescale.html">imagescale</a> &mdash; Scale an image using the given new width and height</li><li><a href="function.imagesetbrush.html">imagesetbrush</a> &mdash; 设定画线用的画笔图像</li><li><a href="function.imagesetinterpolation.html">imagesetinterpolation</a> &mdash; Set the interpolation method</li><li><a href="function.imagesetpixel.html">imagesetpixel</a> &mdash; 画一个单一像素</li><li><a href="function.imagesetstyle.html">imagesetstyle</a> &mdash; 设定画线的风格</li><li><a href="function.imagesetthickness.html">imagesetthickness</a> &mdash; 设定画线的宽度</li><li><a href="function.imagesettile.html">imagesettile</a> &mdash; 设定用于填充的贴图</li><li><a href="function.imagestring.html">imagestring</a> &mdash; 水平地画一行字符串</li><li><a href="function.imagestringup.html">imagestringup</a> &mdash; 垂直地画一行字符串</li><li><a href="function.imagesx.html">imagesx</a> &mdash; 取得图像宽度</li><li><a href="function.imagesy.html">imagesy</a> &mdash; 取得图像高度</li><li><a href="function.imagetruecolortopalette.html">imagetruecolortopalette</a> &mdash; 将真彩色图像转换为调色板图像</li><li><a href="function.imagettfbbox.html">imagettfbbox</a> &mdash; 取得使用 TrueType 字体的文本的范围</li><li><a href="function.imagettftext.html">imagettftext</a> &mdash; 用 TrueType 字体向图像写入文本</li><li><a href="function.imagetypes.html">imagetypes</a> &mdash; 返回当前 PHP 版本所支持的图像类型</li><li><a href="function.imagewbmp.html">imagewbmp</a> &mdash; 以 WBMP 格式将图像输出到浏览器或文件</li><li><a href="function.imagewebp.html">imagewebp</a> &mdash; 将 WebP 格式的图像输出到浏览器或文件</li><li><a href="function.imagexbm.html">imagexbm</a> &mdash; 将 XBM 图像输出到浏览器或文件</li><li><a href="function.iptcembed.html">iptcembed</a> &mdash; 将二进制 IPTC 数据嵌入到一幅 JPEG 图像中</li><li><a href="function.iptcparse.html">iptcparse</a> &mdash; 将二进制 IPTC 块解析为单个标记</li><li><a href="function.jpeg2wbmp.html">jpeg2wbmp</a> &mdash; 将 JPEG 图像文件转换为 WBMP 图像文件</li><li><a href="function.png2wbmp.html">png2wbmp</a> &mdash; 将 PNG 图像文件转换为 WBMP 图像文件</li></ul>
</div>
<div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="106150""></a>
  <div class="note">
   <strong class="user">ingo at jache dot de</strong>
   <a href="#106150" class="date">14-Oct-2011 12:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I know this might look somewhat superfluous to others, but i once came across a situation where i needed a *strong* blur on an image without having ImageMagick installed. Executing the convolution-filter several times on the same image is awfully slow and still doesn't give a good blur.<br />
<br />
The function below accepts a truecolor-image and a blur-factor between 0.0 and 1.0. Beware: It's still quite slow.<br />
<br />
<span class="default">&lt;?php<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">blurImage</span><span class="keyword">(</span><span class="default">$srcimg</span><span class="keyword">,</span><span class="default">$blur</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$blur </span><span class="keyword">= </span><span class="default">$blur</span><span class="keyword">*</span><span class="default">$blur</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$blur </span><span class="keyword">= </span><span class="default">max</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">min</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">,</span><span class="default">$blur</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$srcw </span><span class="keyword">= </span><span class="default">imagesx</span><span class="keyword">(</span><span class="default">$srcimg</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$srch </span><span class="keyword">= </span><span class="default">imagesy</span><span class="keyword">(</span><span class="default">$srcimg</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$dstimg </span><span class="keyword">= </span><span class="default">imagecreatetruecolor</span><span class="keyword">(</span><span class="default">$srcw</span><span class="keyword">,</span><span class="default">$srch</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$f1a </span><span class="keyword">= </span><span class="default">$blur</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$f1b </span><span class="keyword">= </span><span class="default">1.0 </span><span class="keyword">- </span><span class="default">$blur</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$cr </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$cg </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$cb </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$nr </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$ng </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$nb </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rgb </span><span class="keyword">= </span><span class="default">imagecolorat</span><span class="keyword">(</span><span class="default">$srcimg</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$or </span><span class="keyword">= (</span><span class="default">$rgb </span><span class="keyword">&gt;&gt; </span><span class="default">16</span><span class="keyword">) &amp; </span><span class="default">0xFF</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$og </span><span class="keyword">= (</span><span class="default">$rgb </span><span class="keyword">&gt;&gt; </span><span class="default">8</span><span class="keyword">) &amp; </span><span class="default">0xFF</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ob </span><span class="keyword">= (</span><span class="default">$rgb</span><span class="keyword">) &amp; </span><span class="default">0xFF</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//-------------------------------------------------<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // first line is a special case<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //-------------------------------------------------<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$x </span><span class="keyword">= </span><span class="default">$srcw</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$y </span><span class="keyword">= </span><span class="default">$srch</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; while (</span><span class="default">$x</span><span class="keyword">--)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//horizontal blurren<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rgb </span><span class="keyword">= </span><span class="default">imagecolorat</span><span class="keyword">(</span><span class="default">$srcimg</span><span class="keyword">,</span><span class="default">$x</span><span class="keyword">,</span><span class="default">$y</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$cr </span><span class="keyword">= (</span><span class="default">$rgb </span><span class="keyword">&gt;&gt; </span><span class="default">16</span><span class="keyword">) &amp; </span><span class="default">0xFF</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$cg </span><span class="keyword">= (</span><span class="default">$rgb </span><span class="keyword">&gt;&gt; </span><span class="default">8</span><span class="keyword">) &amp; </span><span class="default">0xFF</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$cb </span><span class="keyword">= (</span><span class="default">$rgb</span><span class="keyword">) &amp; </span><span class="default">0xFF</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$nr </span><span class="keyword">= (</span><span class="default">$cr </span><span class="keyword">* </span><span class="default">$f1a</span><span class="keyword">) + (</span><span class="default">$or </span><span class="keyword">* </span><span class="default">$f1b</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ng </span><span class="keyword">= (</span><span class="default">$cg </span><span class="keyword">* </span><span class="default">$f1a</span><span class="keyword">) + (</span><span class="default">$og </span><span class="keyword">* </span><span class="default">$f1b</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$nb </span><span class="keyword">= (</span><span class="default">$cb </span><span class="keyword">* </span><span class="default">$f1a</span><span class="keyword">) + (</span><span class="default">$ob </span><span class="keyword">* </span><span class="default">$f1b</span><span class="keyword">);&nbsp; &nbsp; <br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$or </span><span class="keyword">= </span><span class="default">$nr</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$og </span><span class="keyword">= </span><span class="default">$ng</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ob </span><span class="keyword">= </span><span class="default">$nb</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">imagesetpixel</span><span class="keyword">(</span><span class="default">$dstimg</span><span class="keyword">,</span><span class="default">$x</span><span class="keyword">,</span><span class="default">$y</span><span class="keyword">,(</span><span class="default">$nr </span><span class="keyword">&lt;&lt; </span><span class="default">16</span><span class="keyword">) | (</span><span class="default">$ng </span><span class="keyword">&lt;&lt; </span><span class="default">8</span><span class="keyword">) | (</span><span class="default">$nb</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//-------------------------------------------------<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //-------------------------------------------------<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // now process the entire picture<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //-------------------------------------------------<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$y </span><span class="keyword">= </span><span class="default">$srch</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; while (</span><span class="default">$y</span><span class="keyword">--)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rgb </span><span class="keyword">= </span><span class="default">imagecolorat</span><span class="keyword">(</span><span class="default">$srcimg</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$y</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$or </span><span class="keyword">= (</span><span class="default">$rgb </span><span class="keyword">&gt;&gt; </span><span class="default">16</span><span class="keyword">) &amp; </span><span class="default">0xFF</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$og </span><span class="keyword">= (</span><span class="default">$rgb </span><span class="keyword">&gt;&gt; </span><span class="default">8</span><span class="keyword">) &amp; </span><span class="default">0xFF</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ob </span><span class="keyword">= (</span><span class="default">$rgb</span><span class="keyword">) &amp; </span><span class="default">0xFF</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$x </span><span class="keyword">= </span><span class="default">$srcw</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; while (</span><span class="default">$x</span><span class="keyword">--)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//horizontal <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rgb </span><span class="keyword">= </span><span class="default">imagecolorat</span><span class="keyword">(</span><span class="default">$srcimg</span><span class="keyword">,</span><span class="default">$x</span><span class="keyword">,</span><span class="default">$y</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$cr </span><span class="keyword">= (</span><span class="default">$rgb </span><span class="keyword">&gt;&gt; </span><span class="default">16</span><span class="keyword">) &amp; </span><span class="default">0xFF</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$cg </span><span class="keyword">= (</span><span class="default">$rgb </span><span class="keyword">&gt;&gt; </span><span class="default">8</span><span class="keyword">) &amp; </span><span class="default">0xFF</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$cb </span><span class="keyword">= (</span><span class="default">$rgb</span><span class="keyword">) &amp; </span><span class="default">0xFF</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$nr </span><span class="keyword">= (</span><span class="default">$cr </span><span class="keyword">* </span><span class="default">$f1a</span><span class="keyword">) + (</span><span class="default">$or </span><span class="keyword">* </span><span class="default">$f1b</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ng </span><span class="keyword">= (</span><span class="default">$cg </span><span class="keyword">* </span><span class="default">$f1a</span><span class="keyword">) + (</span><span class="default">$og </span><span class="keyword">* </span><span class="default">$f1b</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$nb </span><span class="keyword">= (</span><span class="default">$cb </span><span class="keyword">* </span><span class="default">$f1a</span><span class="keyword">) + (</span><span class="default">$ob </span><span class="keyword">* </span><span class="default">$f1b</span><span class="keyword">);&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$or </span><span class="keyword">= </span><span class="default">$nr</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$og </span><span class="keyword">= </span><span class="default">$ng</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ob </span><span class="keyword">= </span><span class="default">$nb</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//vertical <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rgb </span><span class="keyword">= </span><span class="default">imagecolorat</span><span class="keyword">(</span><span class="default">$dstimg</span><span class="keyword">,</span><span class="default">$x</span><span class="keyword">,</span><span class="default">$y</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$vr </span><span class="keyword">= (</span><span class="default">$rgb </span><span class="keyword">&gt;&gt; </span><span class="default">16</span><span class="keyword">) &amp; </span><span class="default">0xFF</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$vg </span><span class="keyword">= (</span><span class="default">$rgb </span><span class="keyword">&gt;&gt; </span><span class="default">8</span><span class="keyword">) &amp; </span><span class="default">0xFF</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$vb </span><span class="keyword">= (</span><span class="default">$rgb</span><span class="keyword">) &amp; </span><span class="default">0xFF</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$nr </span><span class="keyword">= (</span><span class="default">$nr </span><span class="keyword">* </span><span class="default">$f1a</span><span class="keyword">) + (</span><span class="default">$vr </span><span class="keyword">* </span><span class="default">$f1b</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ng </span><span class="keyword">= (</span><span class="default">$ng </span><span class="keyword">* </span><span class="default">$f1a</span><span class="keyword">) + (</span><span class="default">$vg </span><span class="keyword">* </span><span class="default">$f1b</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$nb </span><span class="keyword">= (</span><span class="default">$nb </span><span class="keyword">* </span><span class="default">$f1a</span><span class="keyword">) + (</span><span class="default">$vb </span><span class="keyword">* </span><span class="default">$f1b</span><span class="keyword">);&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$vr </span><span class="keyword">= </span><span class="default">$nr</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$vg </span><span class="keyword">= </span><span class="default">$ng</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$vb </span><span class="keyword">= </span><span class="default">$nb</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">imagesetpixel</span><span class="keyword">(</span><span class="default">$dstimg</span><span class="keyword">,</span><span class="default">$x</span><span class="keyword">,</span><span class="default">$y</span><span class="keyword">,(</span><span class="default">$nr </span><span class="keyword">&lt;&lt; </span><span class="default">16</span><span class="keyword">) | (</span><span class="default">$ng </span><span class="keyword">&lt;&lt; </span><span class="default">8</span><span class="keyword">) | (</span><span class="default">$nb</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//-------------------------------------------------<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">$dstimg</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; <br />
<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$srcimg </span><span class="keyword">= </span><span class="default">imagecreatefromjpeg</span><span class="keyword">(</span><span class="string">"test.jpg"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$dstimg </span><span class="keyword">= </span><span class="default">blurImage</span><span class="keyword">(</span><span class="default">$srcimg</span><span class="keyword">,</span><span class="default">0.2</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">header</span><span class="keyword">(</span><span class="string">'Content-type: image/jpeg'</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; echo( </span><span class="default">imagejpeg</span><span class="keyword">(</span><span class="default">$dstimg</span><span class="keyword">) );<br />
&nbsp;&nbsp;&nbsp; exit();<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; <br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="87238""></a>
  <div class="note">
   <strong class="user">chuckstudios at gmail dot com</strong>
   <a href="#87238" class="date">26-Nov-2008 06:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I wrote a simple function to convert an image resource to PGM (portable graymap) in order to feed it to an OCR program. It works just like the rest of the image output functions, and will convert to grayscale for you:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">imagepgm</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, </span><span class="default">$filename </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$pgm </span><span class="keyword">= </span><span class="string">"P5 "</span><span class="keyword">.</span><span class="default">imagesx</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">).</span><span class="string">" "</span><span class="keyword">.</span><span class="default">imagesy</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">).</span><span class="string">" 255\n"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for(</span><span class="default">$y </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$y </span><span class="keyword">&lt; </span><span class="default">imagesy</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">); </span><span class="default">$y</span><span class="keyword">++)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for(</span><span class="default">$x </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$x </span><span class="keyword">&lt; </span><span class="default">imagesx</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">); </span><span class="default">$x</span><span class="keyword">++)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$colors </span><span class="keyword">= </span><span class="default">imagecolorsforindex</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, </span><span class="default">imagecolorat</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, </span><span class="default">$x</span><span class="keyword">, </span><span class="default">$y</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$pgm </span><span class="keyword">.= </span><span class="default">chr</span><span class="keyword">(</span><span class="default">0.3 </span><span class="keyword">* </span><span class="default">$colors</span><span class="keyword">[</span><span class="string">"red"</span><span class="keyword">] + </span><span class="default">0.59 </span><span class="keyword">* </span><span class="default">$colors</span><span class="keyword">[</span><span class="string">"green"</span><span class="keyword">] + </span><span class="default">0.11 </span><span class="keyword">* </span><span class="default">$colors</span><span class="keyword">[</span><span class="string">"blue"</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$filename </span><span class="keyword">!= </span><span class="default">null</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$fp </span><span class="keyword">= </span><span class="default">fopen</span><span class="keyword">(</span><span class="default">$filename</span><span class="keyword">, </span><span class="string">"w"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">fwrite</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">, </span><span class="default">$pgm</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$pgm</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="82138""></a>
  <div class="note">
   <strong class="user">dev at kingthief dot com</strong>
   <a href="#82138" class="date">28-Mar-2008 05:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I've developed a well-documented, fairly rock-solid API for creating on the fly, anti-aliased, rounded corner images, including full alpha transparency support for all you PNG lovers.<br />
<br />
go here to download the package:<br />
<a href="http://sourceforge.net/projects/roundedphp/" rel="nofollow" target="_blank">http://sourceforge.net/projects/roundedphp/</a><br />
<br />
go here for a live demo:<br />
<a href="http://dev.kingthief.com/demos/roundedphp/" rel="nofollow" target="_blank">http://dev.kingthief.com/demos/roundedphp/</a><br />
<br />
Installation is similar to PEAR.<br />
<br />
Enjoy!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="79996""></a>
  <div class="note">
   <strong class="user">ph_corp at yahoo dot fr</strong>
   <a href="#79996" class="date">23-Dec-2007 12:19</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">/**<br />
HSL/RGB conversion functions<br />
very useful for a lot of applications<br />
**/<br />
<br />
</span><span class="keyword">function </span><span class="default">RBGtoHSL </span><span class="keyword">( </span><span class="default">$R</span><span class="keyword">, </span><span class="default">$G</span><span class="keyword">, </span><span class="default">$B </span><span class="keyword">)<br />
{<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$var_R </span><span class="keyword">= ( </span><span class="default">$R </span><span class="keyword">/ </span><span class="default">255 </span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$var_G </span><span class="keyword">= ( </span><span class="default">$G </span><span class="keyword">/ </span><span class="default">255 </span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$var_B </span><span class="keyword">= ( </span><span class="default">$B </span><span class="keyword">/ </span><span class="default">255 </span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$var_Min </span><span class="keyword">= </span><span class="default">min</span><span class="keyword">( </span><span class="default">$var_R</span><span class="keyword">, </span><span class="default">$var_G</span><span class="keyword">, </span><span class="default">$var_B </span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$var_Max </span><span class="keyword">= </span><span class="default">max</span><span class="keyword">( </span><span class="default">$var_R</span><span class="keyword">, </span><span class="default">$var_G</span><span class="keyword">, </span><span class="default">$var_B </span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$del_Max </span><span class="keyword">= </span><span class="default">$var_Max </span><span class="keyword">- </span><span class="default">$var_Min<br />
<br />
&nbsp;&nbsp;&nbsp; $L </span><span class="keyword">= ( </span><span class="default">$var_Max </span><span class="keyword">+ </span><span class="default">$var_Min </span><span class="keyword">) / </span><span class="default">2</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; if ( </span><span class="default">$del_Max </span><span class="keyword">== </span><span class="default">0 </span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$H </span><span class="keyword">= </span><span class="default">0<br />
&nbsp;&nbsp; &nbsp; &nbsp; $S </span><span class="keyword">= </span><span class="default">0<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">}<br />
&nbsp;&nbsp;&nbsp; else<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ( </span><span class="default">$L </span><span class="keyword">&lt; </span><span class="default">0.5 </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$S </span><span class="keyword">= </span><span class="default">$del_Max </span><span class="keyword">/ ( </span><span class="default">$var_Max </span><span class="keyword">+ </span><span class="default">$var_Min </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$S </span><span class="keyword">= </span><span class="default">$del_Max </span><span class="keyword">/ ( </span><span class="default">2 </span><span class="keyword">- </span><span class="default">$var_Max </span><span class="keyword">- </span><span class="default">$var_Min </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$del_R </span><span class="keyword">= ( ( ( </span><span class="default">$var_Max </span><span class="keyword">- </span><span class="default">$var_R </span><span class="keyword">) / </span><span class="default">6 </span><span class="keyword">) + ( </span><span class="default">$del_Max </span><span class="keyword">/ </span><span class="default">2 </span><span class="keyword">) ) / </span><span class="default">$del_Max</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$del_G </span><span class="keyword">= ( ( ( </span><span class="default">$var_Max </span><span class="keyword">- </span><span class="default">$var_G </span><span class="keyword">) / </span><span class="default">6 </span><span class="keyword">) + ( </span><span class="default">$del_Max </span><span class="keyword">/ </span><span class="default">2 </span><span class="keyword">) ) / </span><span class="default">$del_Max</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$del_B </span><span class="keyword">= ( ( ( </span><span class="default">$var_Max </span><span class="keyword">- </span><span class="default">$var_B </span><span class="keyword">) / </span><span class="default">6 </span><span class="keyword">) + ( </span><span class="default">$del_Max </span><span class="keyword">/ </span><span class="default">2 </span><span class="keyword">) ) / </span><span class="default">$del_Max</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ( </span><span class="default">$var_R </span><span class="keyword">== </span><span class="default">$var_Max </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$H </span><span class="keyword">= </span><span class="default">$del_B </span><span class="keyword">- </span><span class="default">$del_G</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else if ( </span><span class="default">$var_G </span><span class="keyword">== </span><span class="default">$var_Max </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$H </span><span class="keyword">= ( </span><span class="default">1 </span><span class="keyword">/ </span><span class="default">3 </span><span class="keyword">) + </span><span class="default">$del_R </span><span class="keyword">- </span><span class="default">$del_B</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else if ( </span><span class="default">$var_B </span><span class="keyword">== </span><span class="default">$var_Max </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$H </span><span class="keyword">= ( </span><span class="default">2 </span><span class="keyword">/ </span><span class="default">3 </span><span class="keyword">) + </span><span class="default">$del_G </span><span class="keyword">- </span><span class="default">$del_R</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ( </span><span class="default">$H </span><span class="keyword">&lt; </span><span class="default">0 </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$H </span><span class="keyword">+= </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ( </span><span class="default">$H </span><span class="keyword">&gt; </span><span class="default">1 </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$H </span><span class="keyword">-= </span><span class="default">1<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">}<br />
<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; return array( </span><span class="default">$H</span><span class="keyword">, </span><span class="default">$S</span><span class="keyword">, </span><span class="default">$L </span><span class="keyword">);<br />
<br />
}<br />
<br />
function </span><span class="default">HuetoRGB</span><span class="keyword">( </span><span class="default">$v1</span><span class="keyword">, </span><span class="default">$v2</span><span class="keyword">, </span><span class="default">$vH </span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if ( </span><span class="default">$vH </span><span class="keyword">&lt; </span><span class="default">0 </span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$vH </span><span class="keyword">+= </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if ( </span><span class="default">$vH </span><span class="keyword">&gt; </span><span class="default">1 </span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$vH </span><span class="keyword">-= </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if ( ( </span><span class="default">6 </span><span class="keyword">* </span><span class="default">$vH </span><span class="keyword">) &lt; </span><span class="default">1 </span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return ( </span><span class="default">$v1 </span><span class="keyword">+ ( </span><span class="default">$v2 </span><span class="keyword">- </span><span class="default">$v1 </span><span class="keyword">) * </span><span class="default">6 </span><span class="keyword">* </span><span class="default">$vH </span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if ( ( </span><span class="default">2 </span><span class="keyword">* </span><span class="default">$vH </span><span class="keyword">) &lt; </span><span class="default">1 </span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return ( </span><span class="default">$v2 </span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if ( ( </span><span class="default">3 </span><span class="keyword">* </span><span class="default">$vH </span><span class="keyword">) &lt; </span><span class="default">2 </span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return ( </span><span class="default">$v1 </span><span class="keyword">+ ( </span><span class="default">$v2 </span><span class="keyword">- </span><span class="default">$v1 </span><span class="keyword">) * ( ( </span><span class="default">2 </span><span class="keyword">/ </span><span class="default">3 </span><span class="keyword">) - </span><span class="default">$vH </span><span class="keyword">) * </span><span class="default">6 </span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return ( </span><span class="default">$v1 </span><span class="keyword">)<br />
}<br />
<br />
function </span><span class="default">HSLtoRGB </span><span class="keyword">( </span><span class="default">$H</span><span class="keyword">, </span><span class="default">$S</span><span class="keyword">, </span><span class="default">$L </span><span class="keyword">)<br />
{<br />
<br />
&nbsp;&nbsp;&nbsp; if ( </span><span class="default">$S </span><span class="keyword">== </span><span class="default">0 </span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$R </span><span class="keyword">= </span><span class="default">$L </span><span class="keyword">* </span><span class="default">255</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$G </span><span class="keyword">= </span><span class="default">$L </span><span class="keyword">* </span><span class="default">255</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$B </span><span class="keyword">= </span><span class="default">$L </span><span class="keyword">* </span><span class="default">255</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; else<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ( </span><span class="default">$L </span><span class="keyword">&lt; </span><span class="default">0.5 </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$var_2 </span><span class="keyword">= </span><span class="default">$L </span><span class="keyword">* ( </span><span class="default">1 </span><span class="keyword">+ </span><span class="default">$S </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$var_2 </span><span class="keyword">= ( </span><span class="default">$L </span><span class="keyword">+ </span><span class="default">$S </span><span class="keyword">) - ( </span><span class="default">$S </span><span class="keyword">* </span><span class="default">$L </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$var_1 </span><span class="keyword">= </span><span class="default">2 </span><span class="keyword">* </span><span class="default">$L </span><span class="keyword">- </span><span class="default">$var_2</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$R </span><span class="keyword">= </span><span class="default">255 </span><span class="keyword">* </span><span class="default">HuetoRGB</span><span class="keyword">( </span><span class="default">$var_1</span><span class="keyword">, </span><span class="default">$var_2</span><span class="keyword">, </span><span class="default">$H </span><span class="keyword">+ ( </span><span class="default">1 </span><span class="keyword">/ </span><span class="default">3 </span><span class="keyword">) );<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$G </span><span class="keyword">= </span><span class="default">255 </span><span class="keyword">* </span><span class="default">HuetoRGB</span><span class="keyword">( </span><span class="default">$var_1</span><span class="keyword">, </span><span class="default">$var_2</span><span class="keyword">, </span><span class="default">$H </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$B </span><span class="keyword">= </span><span class="default">255 </span><span class="keyword">* </span><span class="default">HuetoRGB</span><span class="keyword">( </span><span class="default">$var_1</span><span class="keyword">, </span><span class="default">$var_2</span><span class="keyword">, </span><span class="default">$H </span><span class="keyword">- ( </span><span class="default">1 </span><span class="keyword">/ </span><span class="default">3 </span><span class="keyword">) );<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; return array( </span><span class="default">$R</span><span class="keyword">, </span><span class="default">$G</span><span class="keyword">, </span><span class="default">$B </span><span class="keyword">);<br />
<br />
}<br />
<br />
function </span><span class="default">distance </span><span class="keyword">( </span><span class="default">$R1</span><span class="keyword">, </span><span class="default">$G1</span><span class="keyword">, </span><span class="default">$B1</span><span class="keyword">, </span><span class="default">$R2</span><span class="keyword">, </span><span class="default">$G2</span><span class="keyword">, </span><span class="default">$B2 </span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">sqrt </span><span class="keyword">( ( </span><span class="default">$R1 </span><span class="keyword">- </span><span class="default">$R2 </span><span class="keyword">)*( </span><span class="default">$R1 </span><span class="keyword">- </span><span class="default">$R2 </span><span class="keyword">) + ( </span><span class="default">$G1 </span><span class="keyword">- </span><span class="default">$G2 </span><span class="keyword">)*( </span><span class="default">$G1 </span><span class="keyword">- </span><span class="default">$G2 </span><span class="keyword">) + ( </span><span class="default">$B1 </span><span class="keyword">- </span><span class="default">$B2 </span><span class="keyword">)*( </span><span class="default">$B1 </span><span class="keyword">- </span><span class="default">$B2 </span><span class="keyword">) );<br />
&nbsp;&nbsp;&nbsp; return ( </span><span class="default">$result </span><span class="keyword">);<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="63689""></a>
  <div class="note">
   <strong class="user">shd at earthling dot net</strong>
   <a href="#63689" class="date">28-Mar-2006 01:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you happen to need a way to output a Windows BMP file (e.g. when using the PEAR ExcelWriter), feel free to use the following code:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">imagebmp </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$fn </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if (!</span><span class="default">$im</span><span class="keyword">) return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$fn </span><span class="keyword">=== </span><span class="default">false</span><span class="keyword">) </span><span class="default">$fn </span><span class="keyword">= </span><span class="string">'php://output'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$f </span><span class="keyword">= </span><span class="default">fopen </span><span class="keyword">(</span><span class="default">$fn</span><span class="keyword">, </span><span class="string">"w"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if (!</span><span class="default">$f</span><span class="keyword">) return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//Image dimensions<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$biWidth </span><span class="keyword">= </span><span class="default">imagesx </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$biHeight </span><span class="keyword">= </span><span class="default">imagesy </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$biBPLine </span><span class="keyword">= </span><span class="default">$biWidth </span><span class="keyword">* </span><span class="default">3</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$biStride </span><span class="keyword">= (</span><span class="default">$biBPLine </span><span class="keyword">+ </span><span class="default">3</span><span class="keyword">) &amp; ~</span><span class="default">3</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$biSizeImage </span><span class="keyword">= </span><span class="default">$biStride </span><span class="keyword">* </span><span class="default">$biHeight</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$bfOffBits </span><span class="keyword">= </span><span class="default">54</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$bfSize </span><span class="keyword">= </span><span class="default">$bfOffBits </span><span class="keyword">+ </span><span class="default">$biSizeImage</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//BITMAPFILEHEADER<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">fwrite </span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">, </span><span class="string">'BM'</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">fwrite </span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">, </span><span class="default">pack </span><span class="keyword">(</span><span class="string">'VvvV'</span><span class="keyword">, </span><span class="default">$bfSize</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$bfOffBits</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//BITMAPINFO (BITMAPINFOHEADER)<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">fwrite </span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">, </span><span class="default">pack </span><span class="keyword">(</span><span class="string">'VVVvvVVVVVV'</span><span class="keyword">, </span><span class="default">40</span><span class="keyword">, </span><span class="default">$biWidth</span><span class="keyword">, </span><span class="default">$biHeight</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, </span><span class="default">24</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$biSizeImage</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$numpad </span><span class="keyword">= </span><span class="default">$biStride </span><span class="keyword">- </span><span class="default">$biBPLine</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; for (</span><span class="default">$y </span><span class="keyword">= </span><span class="default">$biHeight </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">; </span><span class="default">$y </span><span class="keyword">&gt;= </span><span class="default">0</span><span class="keyword">; --</span><span class="default">$y</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for (</span><span class="default">$x </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$x </span><span class="keyword">&lt; </span><span class="default">$biWidth</span><span class="keyword">; ++</span><span class="default">$x</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$col </span><span class="keyword">= </span><span class="default">imagecolorat </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$x</span><span class="keyword">, </span><span class="default">$y</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">fwrite </span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">, </span><span class="default">pack </span><span class="keyword">(</span><span class="string">'V'</span><span class="keyword">, </span><span class="default">$col</span><span class="keyword">), </span><span class="default">3</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$numpad</span><span class="keyword">; ++</span><span class="default">$i</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">fwrite </span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">, </span><span class="default">pack </span><span class="keyword">(</span><span class="string">'C'</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">fclose </span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
It works the same way as regular imagejpeg/imagepng do and only supports GD2.0 true colour bitmaps (which is what's required by ExcelWriter).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="63064""></a>
  <div class="note">
   <strong class="user">felipensp at gmail dot com</strong>
   <a href="#63064" class="date">13-Mar-2006 06:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Representation decimal of a color in hexadecimal for use on functions of library GD.<br />
<br />
<span class="default">&lt;?php<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Representation hexadecimal<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$var </span><span class="keyword">= </span><span class="string">'#FFFFFF'</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">getRgbFromGd</span><span class="keyword">(</span><span class="default">$color_hex</span><span class="keyword">) {<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">array_map</span><span class="keyword">(</span><span class="string">'hexdec'</span><span class="keyword">, </span><span class="default">explode</span><span class="keyword">(</span><span class="string">'|'</span><span class="keyword">, </span><span class="default">wordwrap</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$color_hex</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">), </span><span class="default">2</span><span class="keyword">, </span><span class="string">'|'</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">)));<br />
<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">getRgbFromGd</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">));<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Output: Array ( [0] =&gt; 255 [1] =&gt; 255 [2] =&gt; 255 )<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="60410""></a>
  <div class="note">
   <strong class="user">peter dot hulstaert at gmail dot com</strong>
   <a href="#60410" class="date">06-Jan-2006 02:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
While I was searching for a good way to draw a graph, I stumbled on skumar2k15's script.<br />
<br />
I have taken the liberty to improve multiple aspects of it.<br />
<br />
1. The array can grow and shrink in size, the graph will adjust accordingly.<br />
2. All the values in the array are recalculated so they won't get bigger than the height of the graph.<br />
3. I inserted the possibility to keep a percentage off the height away from the edge.<br />
4. You can adjust the size of the grid.<br />
5. Everything will adjust when you change the height of width.<br />
<br />
&lt;? <br />
header("Content-type: image/png");<br />
<br />
// Define variables<br />
$Values=array(50,90,30,155,50,40,320,50,40,86,240,128,650,540,320);<br />
$imgWidth=500;<br />
$imgHeight=200;<br />
$grid=25;<br />
$graphspacing=0.05;<br />
<br />
//Creation of new array with hight adjusted values<br />
while (list($key, $val) = each($Values)) <br />
&nbsp;&nbsp;&nbsp; {if($val&gt;$max){$max=$val;}}<br />
<br />
for ($i=0; $i&lt;count($Values); $i++){<br />
$graphValues[$i] = $Values[$i] * (($imgHeight*(1-$graphspacing))/$max);<br />
}<br />
// Create image and define colors<br />
<br />
$image=imagecreate($imgWidth, $imgHeight);<br />
$colorWhite=imagecolorallocate($image, 255, 255, 255);<br />
$colorGrey=imagecolorallocate($image, 192, 192, 192);<br />
$colorBlue=imagecolorallocate($image, 0, 0, 255);<br />
<br />
// Create border around image<br />
imageline($image, 0, 0, 0, $imgHeight, $colorGrey);<br />
imageline($image, 0, 0, $imgWidth, 0, $colorGrey);<br />
imageline($image, $imgWidth-1, 0, $imgWidth-1, $imgHeight-1, $colorGrey);<br />
imageline($image, 0, $imgHeight-1, $imgWidth-1, $imgHeight-1, $colorGrey);<br />
<br />
// Create grid<br />
for ($i=1; $i&lt;($imgWidth/$grid); $i++)<br />
&nbsp;&nbsp;&nbsp; {imageline($image, $i*$grid, 0, $i*$grid, $imgHeight, $colorGrey);}<br />
for ($i=1; $i&lt;($imgHeight/$grid); $i++)<br />
&nbsp;&nbsp;&nbsp; {imageline($image, 0, $i*$grid, $imgWidth, $i*$grid, $colorGrey);}<br />
<br />
// Create line graph<br />
if($imgWidth/$grid&gt;count($graphValues)){$space=$grid;}<br />
else{$space = $imgWidth/(count($graphValues)-1);}<br />
<br />
for ($i=0; $i&lt;count($graphValues)-1; $i++)<br />
&nbsp;&nbsp;&nbsp; {imageline($image, $i*$space, ($imgHeight-$graphValues[$i]), ($i+1)*$space, ($imgHeight-$graphValues[$i+1]), $colorBlue);}<br />
<br />
// Output graph and clear image from memory<br />
imagepng($image);<br />
imagedestroy($image);<br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="57909""></a>
  <div class="note">
   <strong class="user">michal-ok at o2 dot pl</strong>
   <a href="#57909" class="date">18-Oct-2005 11:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The image sharpen function (by Alex R. Austin) provided below seems to be very resource hungry and I couldn't make it work on two different servers - trying to sharpen a 413 x 413 image I ended up with "Fatal error: Allowed memory size of 8388608 bytes exhausted" or "Internal Server Error" or the script terminated without notice. Because I had no priviliges to change the default memory limit on these servers I started looking for other sharpen functions. I have come across a php Unsharp Mask function which works like a charm on both of the servers I dealt with. It can be found at <a href="http://vikjavev.no/hovudsida/umtestside.php." rel="nofollow" target="_blank">http://vikjavev.no/hovudsida/umtestside.php.</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="57635""></a>
  <div class="note">
   <strong class="user">mslemko</strong>
   <a href="#57635" class="date">09-Oct-2005 09:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For fedora core 4 users that find that the gd library isn't installed, you can issue the command (as root)<br />
<br />
# yum install php-gd<br />
<br />
it should download and install the gd library. You will need to restart apache... phpinfo() should then tell you "GD Support&nbsp; &nbsp;&nbsp; enabled".</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="56144""></a>
  <div class="note">
   <strong class="user">timeshifting at gmail dot com</strong>
   <a href="#56144" class="date">25-Aug-2005 12:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To sharpen an image, rather than using the code below that produces a sharpening filter with php, use the built-in GD function "imageconvolution" which is designed for this purpose. Matrices can be used for sharpening, blurring, edge detection, etc, ala Photoshop.<br />
<br />
A sharpening example:<br />
<br />
<span class="default">&lt;?php<br />
<br />
$sharpenMatrix </span><span class="keyword">= array(-</span><span class="default">1</span><span class="keyword">,-</span><span class="default">1</span><span class="keyword">,-</span><span class="default">1</span><span class="keyword">,-</span><span class="default">1</span><span class="keyword">,</span><span class="default">16</span><span class="keyword">,-</span><span class="default">1</span><span class="keyword">,-</span><span class="default">1</span><span class="keyword">,-</span><span class="default">1</span><span class="keyword">,-</span><span class="default">1</span><span class="keyword">);<br />
</span><span class="default">$divisor </span><span class="keyword">= </span><span class="default">8</span><span class="keyword">;<br />
</span><span class="default">$offset </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
<br />
</span><span class="default">imageconvolution</span><span class="keyword">(</span><span class="default">$myImage</span><span class="keyword">, </span><span class="default">$sharpenMatrix</span><span class="keyword">, </span><span class="default">$divisor</span><span class="keyword">, </span><span class="default">$offset</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Below is some information on building different kinds of matrices. (If you have photoshop (or PSP, GIMP) you can test out your matrices before applying them in PHP)<br />
<br />
<a href="http://loriweb.pair.com/8udf-basics.html (covers blurs" rel="nofollow" target="_blank">http://loriweb.pair.com/8udf-basics.html (covers blurs</a>)<br />
<a href="http://loriweb.pair.com/8udf-sharpen.html" rel="nofollow" target="_blank">http://loriweb.pair.com/8udf-sharpen.html</a><br />
<a href="http://loriweb.pair.com/8udf-edges.html" rel="nofollow" target="_blank">http://loriweb.pair.com/8udf-edges.html</a><br />
<a href="http://loriweb.pair.com/8udf-emboss.html" rel="nofollow" target="_blank">http://loriweb.pair.com/8udf-emboss.html</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="37131""></a>
  <div class="note">
   <strong class="user">jeff at lushmedia dot com</strong>
   <a href="#37131" class="date">04-Nov-2003 05:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I wrote an online overview of the image functions that people might find useful. In addition to a general overview of the various function categories and code samples, I have included many interactive examples of the functions, allowing viewers to experiment with the parameters, and seeing the results in real time. The presentation is located at New York PHP<br />
<a href="http://www.nyphp.org/content/presentations/GDintro/" rel="nofollow" target="_blank">http://www.nyphp.org/content/presentations/GDintro/</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="31290""></a>
  <div class="note">
   <strong class="user">sellout at NoSpAm dot dharmadevil dot com</strong>
   <a href="#31290" class="date">16-Apr-2003 07:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A fun little function to output UPC-A 11-digit barcodes.<br />
Thanks to barcodeisland.com for the specs.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">UPCAbarcode</span><span class="keyword">(</span><span class="default">$code</span><span class="keyword">) {<br />
&nbsp; </span><span class="default">$lw </span><span class="keyword">= </span><span class="default">2</span><span class="keyword">; </span><span class="default">$hi </span><span class="keyword">= </span><span class="default">100</span><span class="keyword">;<br />
&nbsp; </span><span class="default">$Lencode </span><span class="keyword">= array(</span><span class="string">'0001101'</span><span class="keyword">,</span><span class="string">'0011001'</span><span class="keyword">,</span><span class="string">'0010011'</span><span class="keyword">,</span><span class="string">'0111101'</span><span class="keyword">,</span><span class="string">'0100011'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'0110001'</span><span class="keyword">,</span><span class="string">'0101111'</span><span class="keyword">,</span><span class="string">'0111011'</span><span class="keyword">,</span><span class="string">'0110111'</span><span class="keyword">,</span><span class="string">'0001011'</span><span class="keyword">);<br />
&nbsp; </span><span class="default">$Rencode </span><span class="keyword">= array(</span><span class="string">'1110010'</span><span class="keyword">,</span><span class="string">'1100110'</span><span class="keyword">,</span><span class="string">'1101100'</span><span class="keyword">,</span><span class="string">'1000010'</span><span class="keyword">,</span><span class="string">'1011100'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'1001110'</span><span class="keyword">,</span><span class="string">'1010000'</span><span class="keyword">,</span><span class="string">'1000100'</span><span class="keyword">,</span><span class="string">'1001000'</span><span class="keyword">,</span><span class="string">'1110100'</span><span class="keyword">);<br />
&nbsp; </span><span class="default">$ends </span><span class="keyword">= </span><span class="string">'101'</span><span class="keyword">; </span><span class="default">$center </span><span class="keyword">= </span><span class="string">'01010'</span><span class="keyword">;<br />
&nbsp; </span><span class="comment">/* UPC-A Must be 11 digits, we compute the checksum. */<br />
&nbsp; </span><span class="keyword">if ( </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$code</span><span class="keyword">) != </span><span class="default">11 </span><span class="keyword">) { die(</span><span class="string">"UPC-A Must be 11 digits."</span><span class="keyword">); }<br />
&nbsp; </span><span class="comment">/* Compute the EAN-13 Checksum digit */<br />
&nbsp; </span><span class="default">$ncode </span><span class="keyword">= </span><span class="string">'0'</span><span class="keyword">.</span><span class="default">$code</span><span class="keyword">;<br />
&nbsp; </span><span class="default">$even </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$odd </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp; for (</span><span class="default">$x</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$x</span><span class="keyword">&lt;</span><span class="default">12</span><span class="keyword">;</span><span class="default">$x</span><span class="keyword">++) {<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$x </span><span class="keyword">% </span><span class="default">2</span><span class="keyword">) { </span><span class="default">$odd </span><span class="keyword">+= </span><span class="default">$ncode</span><span class="keyword">[</span><span class="default">$x</span><span class="keyword">]; } else { </span><span class="default">$even </span><span class="keyword">+= </span><span class="default">$ncode</span><span class="keyword">[</span><span class="default">$x</span><span class="keyword">]; }<br />
&nbsp; }<br />
&nbsp; </span><span class="default">$code</span><span class="keyword">.=(</span><span class="default">10 </span><span class="keyword">- ((</span><span class="default">$odd </span><span class="keyword">* </span><span class="default">3 </span><span class="keyword">+ </span><span class="default">$even</span><span class="keyword">) % </span><span class="default">10</span><span class="keyword">)) % </span><span class="default">10</span><span class="keyword">;<br />
&nbsp; </span><span class="comment">/* Create the bar encoding using a binary string */<br />
&nbsp; </span><span class="default">$bars</span><span class="keyword">=</span><span class="default">$ends</span><span class="keyword">;<br />
&nbsp; </span><span class="default">$bars</span><span class="keyword">.=</span><span class="default">$Lencode</span><span class="keyword">[</span><span class="default">$code</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]];<br />
&nbsp; for(</span><span class="default">$x</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">;</span><span class="default">$x</span><span class="keyword">&lt;</span><span class="default">6</span><span class="keyword">;</span><span class="default">$x</span><span class="keyword">++) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$bars</span><span class="keyword">.=</span><span class="default">$Lencode</span><span class="keyword">[</span><span class="default">$code</span><span class="keyword">[</span><span class="default">$x</span><span class="keyword">]];<br />
&nbsp; }<br />
&nbsp; </span><span class="default">$bars</span><span class="keyword">.=</span><span class="default">$center</span><span class="keyword">;<br />
&nbsp; for(</span><span class="default">$x</span><span class="keyword">=</span><span class="default">6</span><span class="keyword">;</span><span class="default">$x</span><span class="keyword">&lt;</span><span class="default">12</span><span class="keyword">;</span><span class="default">$x</span><span class="keyword">++) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$bars</span><span class="keyword">.=</span><span class="default">$Rencode</span><span class="keyword">[</span><span class="default">$code</span><span class="keyword">[</span><span class="default">$x</span><span class="keyword">]];<br />
&nbsp; }<br />
&nbsp; </span><span class="default">$bars</span><span class="keyword">.=</span><span class="default">$ends</span><span class="keyword">;<br />
&nbsp; </span><span class="comment">/* Generate the Barcode Image */<br />
&nbsp; </span><span class="default">$img </span><span class="keyword">= </span><span class="default">ImageCreate</span><span class="keyword">(</span><span class="default">$lw</span><span class="keyword">*</span><span class="default">95</span><span class="keyword">+</span><span class="default">30</span><span class="keyword">,</span><span class="default">$hi</span><span class="keyword">+</span><span class="default">30</span><span class="keyword">);<br />
&nbsp; </span><span class="default">$fg </span><span class="keyword">= </span><span class="default">ImageColorAllocate</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">);<br />
&nbsp; </span><span class="default">$bg </span><span class="keyword">= </span><span class="default">ImageColorAllocate</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">);<br />
&nbsp; </span><span class="default">ImageFilledRectangle</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$lw</span><span class="keyword">*</span><span class="default">95</span><span class="keyword">+</span><span class="default">30</span><span class="keyword">, </span><span class="default">$hi</span><span class="keyword">+</span><span class="default">30</span><span class="keyword">, </span><span class="default">$bg</span><span class="keyword">);<br />
&nbsp; </span><span class="default">$shift</span><span class="keyword">=</span><span class="default">10</span><span class="keyword">;<br />
&nbsp; for (</span><span class="default">$x</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$x</span><span class="keyword">&lt;</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$bars</span><span class="keyword">);</span><span class="default">$x</span><span class="keyword">++) {<br />
&nbsp;&nbsp;&nbsp; if ((</span><span class="default">$x</span><span class="keyword">&lt;</span><span class="default">10</span><span class="keyword">) || (</span><span class="default">$x</span><span class="keyword">&gt;=</span><span class="default">45 </span><span class="keyword">&amp;&amp; </span><span class="default">$x</span><span class="keyword">&lt;</span><span class="default">50</span><span class="keyword">) || (</span><span class="default">$x </span><span class="keyword">&gt;=</span><span class="default">85</span><span class="keyword">)) { </span><span class="default">$sh</span><span class="keyword">=</span><span class="default">10</span><span class="keyword">; } else { </span><span class="default">$sh</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; }<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$bars</span><span class="keyword">[</span><span class="default">$x</span><span class="keyword">] == </span><span class="string">'1'</span><span class="keyword">) { </span><span class="default">$color </span><span class="keyword">= </span><span class="default">$fg</span><span class="keyword">; } else { </span><span class="default">$color </span><span class="keyword">= </span><span class="default">$bg</span><span class="keyword">; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">ImageFilledRectangle</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, (</span><span class="default">$x</span><span class="keyword">*</span><span class="default">$lw</span><span class="keyword">)+</span><span class="default">15</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">,(</span><span class="default">$x</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">)*</span><span class="default">$lw</span><span class="keyword">+</span><span class="default">14</span><span class="keyword">,</span><span class="default">$hi</span><span class="keyword">+</span><span class="default">5</span><span class="keyword">+</span><span class="default">$sh</span><span class="keyword">,</span><span class="default">$color</span><span class="keyword">);<br />
&nbsp; }<br />
&nbsp; </span><span class="comment">/* Add the Human Readable Label */<br />
&nbsp; </span><span class="default">ImageString</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">,</span><span class="default">$hi</span><span class="keyword">-</span><span class="default">5</span><span class="keyword">,</span><span class="default">$code</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">],</span><span class="default">$fg</span><span class="keyword">);<br />
&nbsp; for (</span><span class="default">$x</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$x</span><span class="keyword">&lt;</span><span class="default">5</span><span class="keyword">;</span><span class="default">$x</span><span class="keyword">++) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">ImageString</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">,</span><span class="default">$lw</span><span class="keyword">*(</span><span class="default">13</span><span class="keyword">+</span><span class="default">$x</span><span class="keyword">*</span><span class="default">6</span><span class="keyword">)+</span><span class="default">15</span><span class="keyword">,</span><span class="default">$hi</span><span class="keyword">+</span><span class="default">5</span><span class="keyword">,</span><span class="default">$code</span><span class="keyword">[</span><span class="default">$x</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">],</span><span class="default">$fg</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">ImageString</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">,</span><span class="default">$lw</span><span class="keyword">*(</span><span class="default">53</span><span class="keyword">+</span><span class="default">$x</span><span class="keyword">*</span><span class="default">6</span><span class="keyword">)+</span><span class="default">15</span><span class="keyword">,</span><span class="default">$hi</span><span class="keyword">+</span><span class="default">5</span><span class="keyword">,</span><span class="default">$code</span><span class="keyword">[</span><span class="default">$x</span><span class="keyword">+</span><span class="default">6</span><span class="keyword">],</span><span class="default">$fg</span><span class="keyword">);<br />
&nbsp; }<br />
&nbsp; </span><span class="default">ImageString</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">,</span><span class="default">$lw</span><span class="keyword">*</span><span class="default">95</span><span class="keyword">+</span><span class="default">17</span><span class="keyword">,</span><span class="default">$hi</span><span class="keyword">-</span><span class="default">5</span><span class="keyword">,</span><span class="default">$code</span><span class="keyword">[</span><span class="default">11</span><span class="keyword">],</span><span class="default">$fg</span><span class="keyword">);<br />
&nbsp; </span><span class="comment">/* Output the Header and Content. */<br />
&nbsp; </span><span class="default">header</span><span class="keyword">(</span><span class="string">"Content-Type: image/png"</span><span class="keyword">);<br />
&nbsp; </span><span class="default">ImagePNG</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">);<br />
}<br />
<br />
</span><span class="default">UPCAbarcode</span><span class="keyword">(</span><span class="string">'12345678901'</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
