<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>传递给脚本的参数数组</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="reserved.variables.argc.html">? $argc</a></li>
      <li style="float: right;"><a href="reserved.exceptions.html">预定义异常 ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="reserved.variables.html">预定义变量</a></li>
    <li>传递给脚本的参数数组</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="reserved.variables.argv" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">$argv</h1>
  <p class="refpurpose"><span class="refname">$argv</span> &mdash; <span class="dc-title">传递给脚本的参数数组</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-reserved.variables.argv-description">
  <h3 class="title">说明</h3>
  <p class="para">
   包含当运行于<a href="features.commandline.html" class="link">命令行</a>下时传递给当前脚本的参数的数组。
  </p>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <span class="simpara">
    第一个参数总是当前脚本的文件名，因此 <var class="varname"><var class="varname">$argv[0]</var></var> 就是脚本文件名。
   </span>
  </p></blockquote>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <span class="simpara">
    这个变量仅在 <a href="ini.core.html#ini.register-argc-argv" class="link">register_argc_argv</a> 打开时可用。
   </span>
  </p></blockquote>
 </div>

 
 <div class="refsect1 examples" id="refsect1-reserved.variables.argv-examples">
  <h3 class="title">范例</h3>
  <p class="para">
   <div class="example" id="variable.argv.basic">
    <p><strong>Example #1 <var class="varname"><var class="varname">$argv</var></var> 范例</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$argv</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>
     当使用这个命令执行：php script.php arg1 arg2 arg3
    </p></div>
    <div class="example-contents"><p>以上例程的输出类似于：</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
array(4) {
  [0]=&gt;
  string(10) &quot;script.php&quot;
  [1]=&gt;
  string(4) &quot;arg1&quot;
  [2]=&gt;
  string(4) &quot;arg2&quot;
  [3]=&gt;
  string(4) &quot;arg3&quot;
}
</pre></div>
    </div>
   </div>
  </p>
 </div>

 
 <div class="refsect1 seealso" id="refsect1-reserved.variables.argv-seealso">
  <h3 class="title">参见</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.getopt.html" class="function" rel="rdfs-seeAlso">getopt()</a> - 从命令行参数列表中获取选项</span></li>
   </ul>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="118803""></a>
  <div class="note">
   <strong class="user">fabio at naoimporta dot com</strong>
   <a href="#118803" class="date">09-Feb-2016 08:41</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
When you pass an option to the file that intercept the request, it will be transformed into an array item, and the option name will be lost. Only its content is captured.<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; var_dump</span><span class="keyword">(</span><span class="default">$argv</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
call&nbsp; :&nbsp; "php file.php --test=foo baz"<br />
<br />
will print<br />
<br />
array(3) {<br />
&nbsp; [0] =&gt;<br />
&nbsp; string(16) "file.php"<br />
&nbsp; [1] =&gt;<br />
&nbsp; string(3) "foo"<br />
&nbsp; [2] =&gt;<br />
&nbsp; string(3) "baz"<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="118368""></a>
  <div class="note">
   <strong class="user">php at simoneast dot net</strong>
   <a href="#118368" class="date">24-Nov-2015 04:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Sometimes $argv can be null, such as when "register-argc-argv" is set to false.&nbsp; In some cases I've found the variable is populated correctly when running "php-cli" instead of just "php" from the command line (or cron).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="117264""></a>
  <div class="note">
   <strong class="user">KRowe</strong>
   <a href="#117264" class="date">12-May-2015 06:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Improves on hamboy75's note by providing better support for positional arguments:<br />
<br />
&nbsp;&nbsp;&nbsp; foreach ($argv as $arg) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; $e=explode("=",$arg);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(count($e)==2)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $_GET[$e[0]]=$e[1];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $_GET[]=$e[0];<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; var_dump($_GET);<br />
<br />
Using this modification, arguments without an = are treated as positional (this is not web standard but generally works).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="113614""></a>
  <div class="note">
   <strong class="user">hamboy75 at example dot com</strong>
   <a href="#113614" class="date">06-Nov-2013 12:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To use $_GET so you dont need to support both if it could be used from command line and from web browser.<br />
<br />
foreach ($argv as $arg) {<br />
&nbsp;&nbsp;&nbsp; $e=explode("=",$arg);<br />
&nbsp;&nbsp;&nbsp; if(count($e)==2)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $_GET[$e[0]]=$e[1];<br />
&nbsp;&nbsp;&nbsp; else&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $_GET[$e[0]]=0;<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="111256""></a>
  <div class="note">
   <strong class="user">Jesse</strong>
   <a href="#111256" class="date">31-Jan-2013 08:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If your script is read from standard input or with the -r option, $argv[0] will be "-".<br />
<br />
If you use the "--" option to separate PHP's arguments from your script's arguments, $argv[1] will be "--" if your script is read from a file. But if your script is read from standard input or with the -r option, the "--" will be removed.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="105491""></a>
  <div class="note">
   <strong class="user">tufan dot oezduman at googlemail dot com</strong>
   <a href="#105491" class="date">22-Aug-2011 06:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Please note that, $argv and $argc need to be declared global, while trying to access within a class method. <br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">A<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public static function </span><span class="default">b</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$argv</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">var_dump</span><span class="keyword">(isset(</span><span class="default">$argv</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">A</span><span class="keyword">::</span><span class="default">b</span><span class="keyword">();<br />
</span><span class="default">?&gt;<br />
</span><br />
will output NULL bool(false)&nbsp; with a notice of "Undefined variable ..."<br />
<br />
whereas global $argv fixes that.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93532""></a>
  <div class="note">
   <strong class="user">Steve Schmitt</strong>
   <a href="#93532" class="date">15-Sep-2009 01:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you come from a shell scripting background, you might expect to find this topic under the heading "positional parameters".</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
