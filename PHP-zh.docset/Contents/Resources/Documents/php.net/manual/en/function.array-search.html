<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>在数组中搜索给定的值，如果成功则返回相应的键名</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.array-reverse.html">? array_reverse</a></li>
      <li style="float: right;"><a href="function.array-shift.html">array_shift ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.array.html">数组 函数</a></li>
    <li>在数组中搜索给定的值，如果成功则返回相应的键名</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.array-search" class="refentry">
   <div class="refnamediv">
    <h1 class="refname">array_search</h1>
    <p class="verinfo">(PHP 4 &gt;= 4.0.5, PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">array_search</span> &mdash; <span class="dc-title">
     在数组中搜索给定的值，如果成功则返回相应的键名
    </span></p>

   </div>
 <div class="refsect1 description" id="refsect1-function.array-search-description">
  <h3 class="title">说明</h3>
     <div class="methodsynopsis dc-description">
      <span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <span class="methodname"><strong>array_search</strong></span>
       ( <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$needle</code></span>
      , <span class="methodparam"><span class="type">array</span> <code class="parameter">$haystack</code></span>
   [, <span class="methodparam"><span class="type">bool</span> <code class="parameter">$strict</code><span class="initializer"> = false</span></span>
     ] )</div>

    <p class="para rdfs-comment">
     在 <code class="parameter">haystack</code> 中搜索
     <code class="parameter">needle</code> 参数。
    </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.array-search-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">needle</code></dt>

     <dd>

      <p class="para">
       搜索的值。
      </p>
      <blockquote class="note"><p><strong class="note">Note</strong>: 
       <p class="para">
        如果 <code class="parameter">needle</code> 是字符串，则比较以区分大小写的方式进行。
       </p>
      </p></blockquote>
     </dd>

    
    
     <dt>
<code class="parameter">haystack</code></dt>

     <dd>

      <p class="para">
       这个数组。
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">strict</code></dt>

     <dd>

      <p class="para">
       如果可选的第三个参数 <code class="parameter">strict</code> 为 <strong><code>TRUE</code></strong>，则
     <span class="function"><strong>array_search()</strong></span> 将在 <code class="parameter">haystack</code>
     中检查<em class="emphasis">完全相同</em>的元素。
       这意味着同样检查 <code class="parameter">haystack</code> 里 <code class="parameter">needle</code> 的 <a href="language.types.html" class="link">类型</a>，并且对象需是同一个实例。
      </p>
     </dd>

    
   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.array-search-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   如果找到了 <code class="parameter">needle</code> 则返回它的键，否则返回 <strong><code>FALSE</code></strong>。
  </p>
  <p class="para">
   如果 <code class="parameter">needle</code> 在
     <code class="parameter">haystack</code>
     中出现不止一次，则返回第一个匹配的键。要返回所有匹配值的键，应该用
     <span class="function"><a href="function.array-keys.html" class="function">array_keys()</a></span> 加上可选参数
     <code class="parameter">search_value</code> 来代替。
  </p>
  <div class="warning"><strong class="warning">Warning</strong><p class="simpara">此函数可能返回布尔值
<strong><code>FALSE</code></strong>，但也可能返回等同于 <strong><code>FALSE</code></strong> 的非布尔值。请阅读 <a href="language.types.boolean.html" class="link">布尔类型</a>章节以获取更多信息。应使用
<a href="language.operators.comparison.html" class="link">===
运算符</a>来测试此函数的返回值。</p></div>
 </div>

 <div class="refsect1 changelog" id="refsect1-function.array-search-changelog">
  <h3 class="title">更新日志</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>版本</th>
       <th>说明</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>5.3.0</td>
       <td>
        As with all internal PHP functions as of 5.3.0,
        <span class="function"><strong>array_search()</strong></span> returns <strong><code>NULL</code></strong> if invalid parameters
        are passed to it.
       </td>
      </tr>

      <tr>
       <td>4.2.0</td>
       <td>
        在 PHP 4.2.0 之前，<span class="function"><strong>array_search()</strong></span> 在失败时返回
      <strong><code>NULL</code></strong> 而不是 <strong><code>FALSE</code></strong>。
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>

  <div class="refsect1 examples" id="refsect1-function.array-search-examples">
  <h3 class="title">范例</h3>
  <p class="para">
   <div class="example" id="example-5391">
    <p><strong>Example #1 <span class="function"><strong>array_search()</strong></span> 例子</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$array&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">0&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'blue'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'red'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'green'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'red'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$key&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_search</span><span style="color: #007700">(</span><span style="color: #DD0000">'green'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$array</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;$key&nbsp;=&nbsp;2;<br /></span><span style="color: #0000BB">$key&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_search</span><span style="color: #007700">(</span><span style="color: #DD0000">'red'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$array</span><span style="color: #007700">);&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$key&nbsp;=&nbsp;1;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-function.array-search-seealso">
  <h3 class="title">参见</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.array-keys.html" class="function" rel="rdfs-seeAlso">array_keys()</a> - 返回数组中部分的或所有的键名</span></li>
    <li class="member"><span class="function"><a href="function.array-values.html" class="function" rel="rdfs-seeAlso">array_values()</a> - 返回数组中所有的值</span></li>
    <li class="member"><span class="function"><a href="function.array-key-exists.html" class="function" rel="rdfs-seeAlso">array_key_exists()</a> - 检查给定的键名或索引是否存在于数组中</span></li>
    <li class="member"><span class="function"><a href="function.in-array.html" class="function" rel="rdfs-seeAlso">in_array()</a> - 检查数组中是否存在某个值</span></li>
   </ul>
  </p>
 </div>

  </div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="119294""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#119294" class="date">07-May-2016 09:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
for xfoxawy soulution if the value you're searching for is a boolean or 0 then you should check it like this...<br />
<br />
<span class="default">&lt;?php<br />
$key </span><span class="keyword">= </span><span class="default">array_search</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">array_column</span><span class="keyword">(</span><span class="default">$userdb</span><span class="keyword">, </span><span class="string">'uid'</span><span class="keyword">)); <br />
if(</span><span class="default">$key </span><span class="keyword">!= </span><span class="default">null</span><span class="keyword">){ <br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"found something."</span><span class="keyword">; <br />
}else{ <br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"found nothing."</span><span class="keyword">; <br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="118537""></a>
  <div class="note">
   <strong class="user">hyder7nh at gmail dot com</strong>
   <a href="#118537" class="date">23-Dec-2015 05:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
When using array_search in if statements with array elements that use integers for keys, if the key [0] matches, the statement would always return false.<br />
<br />
This is because array_search returns the key of the value that matches with the first argument. If statements check if the return value is true or false(boolean), 0 is boolean for false.<br />
<br />
This problem shouldn't occur with key names that are strings.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">//$f would be 0, because key [0] matches the first argument<br />
</span><span class="default">$f </span><span class="keyword">= </span><span class="default">array_search</span><span class="keyword">(</span><span class="string">'photo'</span><span class="keyword">, array(</span><span class="string">'photo'</span><span class="keyword">, </span><span class="string">'audio'</span><span class="keyword">));<br />
<br />
</span><span class="comment">//$f statement would fall to else condition because $f is 0 and 0 is false<br />
</span><span class="keyword">if(</span><span class="default">$f</span><span class="keyword">==</span><span class="default">true</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">'found&lt;br/&gt;'</span><span class="keyword">;<br />
}<br />
else<br />
{<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">'not found&lt;br/&gt;'</span><span class="keyword">;<br />
}<br />
<br />
if(</span><span class="default">array_search</span><span class="keyword">(</span><span class="string">'photo'</span><span class="keyword">, array(</span><span class="string">'photo'</span><span class="keyword">)))<br />
{<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">'FOUND'</span><span class="keyword">;<br />
}<br />
else<br />
{<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">'NOT FOUND'</span><span class="keyword">;<br />
} <br />
<br />
Use </span><span class="default">the </span><span class="keyword">=== </span><span class="default">operator to get around this problem</span><span class="keyword">.</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="117837""></a>
  <div class="note">
   <strong class="user">maciej at speccode dot com</strong>
   <a href="#117837" class="date">18-Aug-2015 02:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
FYI, remember that strict mode is something that might save you hours.<br />
<br />
If you're searching for a string and you have a "true" boolean on the way - you will get it as result (first occurrence). Example below:<br />
<br />
<span class="default">&lt;?php<br />
<br />
$arr </span><span class="keyword">= [<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'foo'&nbsp; &nbsp; </span><span class="keyword">=&gt; </span><span class="string">'bar'</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'abc'&nbsp; &nbsp; </span><span class="keyword">=&gt; </span><span class="string">'def'</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'bool'&nbsp;&nbsp; </span><span class="keyword">=&gt; </span><span class="default">true</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'target' </span><span class="keyword">=&gt; </span><span class="string">'xyz'<br />
</span><span class="keyword">];<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">( </span><span class="default">array_search</span><span class="keyword">( </span><span class="string">'xyz'</span><span class="keyword">, </span><span class="default">$arr </span><span class="keyword">) ); </span><span class="comment">//bool<br />
</span><span class="default">var_dump</span><span class="keyword">( </span><span class="default">array_search</span><span class="keyword">( </span><span class="string">'xyz'</span><span class="keyword">, </span><span class="default">$arr</span><span class="keyword">, </span><span class="default">true </span><span class="keyword">) ); </span><span class="comment">//target<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="117618""></a>
  <div class="note">
   <strong class="user">raat1979 at gmail dot com</strong>
   <a href="#117618" class="date">09-Jul-2015 06:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I needed to search for sequences of values in an array,<br />
In addition I needed to search from a given offset.<br />
Unfortunately for neither I could find a function to do this.<br />
<br />
This Is how I did it,<br />
The function returns the position where position 0 of the needle matches<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">array_find</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">,array </span><span class="default">$haystack</span><span class="keyword">,</span><span class="default">$offset</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">,</span><span class="default">$length</span><span class="keyword">=</span><span class="default">null</span><span class="keyword">,</span><span class="default">$strict </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">,</span><span class="default">$returnAll </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">,</span><span class="default">$resultsBeforeStart</span><span class="keyword">=</span><span class="default">false</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">count</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">)===</span><span class="default">0</span><span class="keyword">) return </span><span class="default">false</span><span class="keyword">; </span><span class="comment">//empty haystack never contain a needle<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if(</span><span class="default">$offset</span><span class="keyword">&gt;</span><span class="default">count</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">)) return </span><span class="default">false</span><span class="keyword">; </span><span class="comment">//looking higher then the top of the haystack will never find anything <br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if(</span><span class="default">$offset</span><span class="keyword">!==</span><span class="default">0</span><span class="keyword">)&nbsp; &nbsp; </span><span class="default">$haystack </span><span class="keyword">= </span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$offset</span><span class="keyword">, </span><span class="default">$length </span><span class="keyword">, </span><span class="default">true</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">) &amp;&amp; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">)===</span><span class="default">1</span><span class="keyword">) </span><span class="default">$needle </span><span class="keyword">= </span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if(!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$matches </span><span class="keyword">= </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">,</span><span class="default">$needle</span><span class="keyword">,</span><span class="default">$strict</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }else{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$needleKeys </span><span class="keyword">= </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">); </span><span class="comment">//becomes array(0=&gt;1,1=&gt;4);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$needlePositions </span><span class="keyword">= array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$needleKeys </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">=&gt;</span><span class="default">$pos</span><span class="keyword">){&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$needlePartPositions </span><span class="keyword">= </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">,</span><span class="default">$needle</span><span class="keyword">[</span><span class="default">$pos</span><span class="keyword">],</span><span class="default">$strict</span><span class="keyword">);&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">count</span><span class="keyword">(</span><span class="default">$needlePartPositions</span><span class="keyword">)===</span><span class="default">0</span><span class="keyword">) return </span><span class="default">false</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$needlePartPositions </span><span class="keyword">as </span><span class="default">$fkey</span><span class="keyword">=&gt;</span><span class="default">$fval</span><span class="keyword">){&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//we correct the found fosition based on the position in the needle, as a result <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; //all matches set at the match position relative to start of needle<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$matchStart </span><span class="keyword">= </span><span class="default">$fval</span><span class="keyword">-</span><span class="default">$pos</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$matchStart </span><span class="keyword">&gt;= </span><span class="default">0 </span><span class="keyword">&amp;&amp; (</span><span class="default">$matchStart</span><span class="keyword">&gt;=</span><span class="default">$offset </span><span class="keyword">|| </span><span class="default">$resultsBeforeStart</span><span class="keyword">)){&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(!isset(</span><span class="default">$needlePositions</span><span class="keyword">[</span><span class="default">$matchStart</span><span class="keyword">])){&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$needlePositions</span><span class="keyword">[</span><span class="default">$matchStart</span><span class="keyword">] = </span><span class="default">1</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }else{<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$needlePositions</span><span class="keyword">[</span><span class="default">$matchStart</span><span class="keyword">]++;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$matches </span><span class="keyword">= </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$needlePositions</span><span class="keyword">,</span><span class="default">count</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">),</span><span class="default">true</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//find all matches for which the position count matches the needle count<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">}<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$matches </span><span class="keyword">=== </span><span class="default">false</span><span class="keyword">) return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">count</span><span class="keyword">(</span><span class="default">$matches</span><span class="keyword">)===</span><span class="default">0</span><span class="keyword">) return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$returnAll</span><span class="keyword">) return </span><span class="default">$matches</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$matches</span><span class="keyword">);<br />
<br />
}<br />
<br />
</span><span class="default">$needle1 </span><span class="keyword">= array(</span><span class="default">1</span><span class="keyword">=&gt;</span><span class="string">'D'</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">=&gt;</span><span class="string">'G'</span><span class="keyword">);<br />
</span><span class="default">$needle2 </span><span class="keyword">= array(</span><span class="string">'D'</span><span class="keyword">,</span><span class="string">'E'</span><span class="keyword">);<br />
</span><span class="default">$needle3 </span><span class="keyword">= array(</span><span class="default">1</span><span class="keyword">=&gt;</span><span class="string">'D'</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">=&gt;</span><span class="string">'E'</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// 0&nbsp;&nbsp; 1&nbsp;&nbsp; 2&nbsp;&nbsp; 3&nbsp;&nbsp; 4&nbsp;&nbsp; 5&nbsp;&nbsp; 6&nbsp;&nbsp; 7&nbsp;&nbsp; 8&nbsp;&nbsp; 9&nbsp; 10&nbsp; 11&nbsp; 12&nbsp; 13&nbsp; 14&nbsp; 15&nbsp; 16&nbsp; 17&nbsp; 18&nbsp; 19&nbsp; 20&nbsp; 21&nbsp; 22&nbsp; 23&nbsp; 24&nbsp; 25 <br />
</span><span class="default">$haystack </span><span class="keyword">= array(</span><span class="string">'A'</span><span class="keyword">,</span><span class="string">'B'</span><span class="keyword">,</span><span class="string">'C'</span><span class="keyword">,</span><span class="string">'D'</span><span class="keyword">,</span><span class="string">'E'</span><span class="keyword">,</span><span class="string">'F'</span><span class="keyword">,</span><span class="string">'G'</span><span class="keyword">,</span><span class="string">'H'</span><span class="keyword">,</span><span class="string">'I'</span><span class="keyword">,</span><span class="string">'J'</span><span class="keyword">,</span><span class="string">'H'</span><span class="keyword">,</span><span class="string">'L'</span><span class="keyword">,</span><span class="string">'M'</span><span class="keyword">,</span><span class="string">'N'</span><span class="keyword">,</span><span class="string">'O'</span><span class="keyword">,</span><span class="string">'P'</span><span class="keyword">,</span><span class="string">'Q'</span><span class="keyword">,</span><span class="string">'R'</span><span class="keyword">,</span><span class="string">'S'</span><span class="keyword">,</span><span class="string">'T'</span><span class="keyword">,</span><span class="string">'U'</span><span class="keyword">,</span><span class="string">'V'</span><span class="keyword">,</span><span class="string">'W'</span><span class="keyword">,</span><span class="string">'X'</span><span class="keyword">,</span><span class="string">'Y'</span><span class="keyword">,</span><span class="string">'Z'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//26&nbsp; 27&nbsp; 28&nbsp; 29&nbsp; 30&nbsp; 31&nbsp; 32&nbsp; 33&nbsp; 34&nbsp; 35&nbsp; 36&nbsp; 37&nbsp; 38&nbsp; 39&nbsp; 40&nbsp; 41&nbsp; 42&nbsp; 43&nbsp; 44&nbsp; 55&nbsp; 46&nbsp; 47&nbsp; 48&nbsp; 49&nbsp; 50&nbsp; 51<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'A'</span><span class="keyword">,</span><span class="string">'B'</span><span class="keyword">,</span><span class="string">'C'</span><span class="keyword">,</span><span class="string">'D'</span><span class="keyword">,</span><span class="string">'E'</span><span class="keyword">,</span><span class="string">'F'</span><span class="keyword">,</span><span class="string">'G'</span><span class="keyword">,</span><span class="string">'H'</span><span class="keyword">,</span><span class="string">'I'</span><span class="keyword">,</span><span class="string">'J'</span><span class="keyword">,</span><span class="string">'H'</span><span class="keyword">,</span><span class="string">'L'</span><span class="keyword">,</span><span class="string">'M'</span><span class="keyword">,</span><span class="string">'N'</span><span class="keyword">,</span><span class="string">'O'</span><span class="keyword">,</span><span class="string">'P'</span><span class="keyword">,</span><span class="string">'Q'</span><span class="keyword">,</span><span class="string">'R'</span><span class="keyword">,</span><span class="string">'S'</span><span class="keyword">,</span><span class="string">'T'</span><span class="keyword">,</span><span class="string">'U'</span><span class="keyword">,</span><span class="string">'V'</span><span class="keyword">,</span><span class="string">'W'</span><span class="keyword">,</span><span class="string">'X'</span><span class="keyword">,</span><span class="string">'Y'</span><span class="keyword">,</span><span class="string">'Z'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//52&nbsp; 53&nbsp; 54&nbsp; 55&nbsp; 56&nbsp; &nbsp; &nbsp; 57&nbsp; 58&nbsp; 59&nbsp; 60&nbsp; 61&nbsp; 62&nbsp; 63&nbsp; 64&nbsp; 65&nbsp; 66&nbsp; 67&nbsp; 68&nbsp; 69&nbsp; 70&nbsp; 71&nbsp; 72&nbsp; 73&nbsp; 74&nbsp; 75&nbsp; 76<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'A'</span><span class="keyword">,</span><span class="string">'B'</span><span class="keyword">,</span><span class="string">'C'</span><span class="keyword">,</span><span class="string">'D'</span><span class="keyword">,</span><span class="string">'E'</span><span class="keyword">,&nbsp; &nbsp; </span><span class="string">'G'</span><span class="keyword">,</span><span class="string">'H'</span><span class="keyword">,</span><span class="string">'I'</span><span class="keyword">,</span><span class="string">'J'</span><span class="keyword">,</span><span class="string">'H'</span><span class="keyword">,</span><span class="string">'L'</span><span class="keyword">,</span><span class="string">'M'</span><span class="keyword">,</span><span class="string">'N'</span><span class="keyword">,</span><span class="string">'O'</span><span class="keyword">,</span><span class="string">'P'</span><span class="keyword">,</span><span class="string">'Q'</span><span class="keyword">,</span><span class="string">'R'</span><span class="keyword">,</span><span class="string">'S'</span><span class="keyword">,</span><span class="string">'T'</span><span class="keyword">,</span><span class="string">'U'</span><span class="keyword">,</span><span class="string">'V'</span><span class="keyword">,</span><span class="string">'W'</span><span class="keyword">,</span><span class="string">'X'</span><span class="keyword">,</span><span class="string">'Y'</span><span class="keyword">,</span><span class="string">'Z'</span><span class="keyword">);<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">array_find</span><span class="keyword">(</span><span class="default">$needle1</span><span class="keyword">,</span><span class="default">$haystack</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">null</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">));<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">array_find</span><span class="keyword">(</span><span class="default">$needle1</span><span class="keyword">,</span><span class="default">$haystack</span><span class="keyword">,</span><span class="default">29</span><span class="keyword">,</span><span class="default">null</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">));<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">array_find</span><span class="keyword">(</span><span class="default">$needle1</span><span class="keyword">,</span><span class="default">$haystack</span><span class="keyword">,</span><span class="default">29</span><span class="keyword">,</span><span class="default">null</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">));<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">array_find</span><span class="keyword">(</span><span class="default">$needle2</span><span class="keyword">,</span><span class="default">$haystack</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">null</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">));<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">array_find</span><span class="keyword">(</span><span class="default">$needle2</span><span class="keyword">,</span><span class="default">$haystack</span><span class="keyword">,</span><span class="default">55</span><span class="keyword">,</span><span class="default">null</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">,</span><span class="default">false</span><span class="keyword">));<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">array_find</span><span class="keyword">(</span><span class="default">$needle2</span><span class="keyword">,</span><span class="default">$haystack</span><span class="keyword">,</span><span class="default">56</span><span class="keyword">,</span><span class="default">null</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">,</span><span class="default">false</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">));<br />
<br />
</span><span class="default">?&gt;</span>&nbsp; &nbsp; &nbsp; &nbsp; <br />
// D is at position 3 and 29 but they are matched at position 1 of the needle<br />
// position 0 of the needle would therefore be at 2 and 28<br />
array(2) {<br />
&nbsp; [0]=&gt;&nbsp; int(2) <br />
&nbsp; [1]=&gt;&nbsp; int(28)<br />
}<br />
<br />
//no match after position 29 that is after the start position<br />
bool(false)<br />
<br />
// items in the needle are matched at position 29 but needle starts at 1, $resultsBeforeStart was true so this one is included<br />
array(1) {<br />
&nbsp; [0]=&gt;&nbsp; int(28)<br />
}<br />
<br />
// D,E found at 3 positions<br />
array(3) {<br />
&nbsp; [0]=&gt;&nbsp; int(3)<br />
&nbsp; [1]=&gt;&nbsp; int(29)<br />
&nbsp; [2]=&gt;&nbsp; int(55)<br />
}<br />
<br />
//search for D,E starting at position 55 finds 1 match<br />
int(55)<br />
<br />
//search for D,E starting at position 56 finds NO matches, even if $resultsBeforeStart is set to true because the needle starts at position 0<br />
bool(false)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="117200""></a>
  <div class="note">
   <strong class="user">superbueno at gmail dot com</strong>
   <a href="#117200" class="date">01-May-2015 08:19</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Like many others, === failed for a 0-indexed occurrence.&nbsp; My solution was to test if an integer returned:<br />
<br />
if ( is_int ( array_search($value, $array) ) ) return true;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="116908""></a>
  <div class="note">
   <strong class="user">emanuel dot tavares at connix dot com dot br</strong>
   <a href="#116908" class="date">20-Mar-2015 12:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Hi!<br />
<br />
I've tried to use array_search to fill an array with registers from a database seach with this:<br />
<br />
$registros = 0;<br />
<br />
while ( $row = $this-&gt;result-&gt;fetch_array() )<br />
{<br />
&nbsp;&nbsp; &nbsp;&nbsp; if ( !array_search($row[cd_subsecao], $this-&gt;listaSecoes) )<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $registros = array_push($this-&gt;listaSecoes, $row[cd_subsecao]);<br />
}<br />
<br />
But the result was:<br />
<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; obr<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; obr<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; obr<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; a10<br />
&nbsp;&nbsp;&nbsp; [4] =&gt; obr<br />
&nbsp;&nbsp;&nbsp; [5] =&gt; obr<br />
&nbsp;&nbsp;&nbsp; [6] =&gt; obr<br />
)<br />
<br />
It was caused by because the first element has repetitions.<br />
<br />
Then I've tried to substitute the !array_search.... for array_search(...) == FALSE, but it didn't worked too.<br />
<br />
The solution was to use the "===":<br />
<br />
$registros = 0;<br />
<br />
while ( $row = $this-&gt;result-&gt;fetch_array() )<br />
{<br />
&nbsp;&nbsp; &nbsp;&nbsp; if ( array_search($row[cd_subsecao], $this-&gt;listaSecoes) === FALSE)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $registros = array_push($this-&gt;listaSecoes, $row[cd_subsecao]);<br />
}<br />
<br />
It returned:<br />
<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; obr<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; a10<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="116635""></a>
  <div class="note">
   <strong class="user">xfoxawy at gmail dot com</strong>
   <a href="#116635" class="date">02-Feb-2015 08:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
in (PHP 5 &gt;= 5.5.0) you don't have to write your own function to search through a multi dimensional array<br />
<br />
ex : <br />
<br />
$userdb=Array<br />
(<br />
&nbsp;&nbsp;&nbsp; (0) =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (uid) =&gt; '100',<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (name) =&gt; 'Sandra Shush',<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (url) =&gt; 'urlof100'<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; ),<br />
<br />
&nbsp;&nbsp;&nbsp; (1) =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (uid) =&gt; '5465',<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (name) =&gt; 'Stefanie Mcmohn',<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (pic_square) =&gt; 'urlof100'<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; ),<br />
<br />
&nbsp;&nbsp;&nbsp; (2) =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (uid) =&gt; '40489',<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (name) =&gt; 'Michael',<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (pic_square) =&gt; 'urlof40489'<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
);<br />
<br />
simply u can use this<br />
<br />
$key = array_search(40489, array_column($userdb, 'uid'));</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="116518""></a>
  <div class="note">
   <strong class="user">nan at designpromote dot co dot uk</strong>
   <a href="#116518" class="date">17-Jan-2015 01:45</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
$array = ['a', 'b', 'c'];<br />
$key = array_search('a', $array); //$key = 0<br />
if ($key) <br />
{<br />
//even a element is found in array, but if (0) means false<br />
//...<br />
}<br />
<br />
//the correct way<br />
if (false !== $key)<br />
{<br />
//....<br />
}<br />
<br />
It's what the document stated "may also return a non-Boolean value which evaluates to FALSE."</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="115941""></a>
  <div class="note">
   <strong class="user">podarokua at gmail dot com</strong>
   <a href="#115941" class="date">17-Oct-2014 01:45</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is a method for getting all keys, containing searched value, recursively<br />
<br />
&nbsp; /**<br />
&nbsp;&nbsp; * Recursive array search.<br />
&nbsp;&nbsp; *<br />
&nbsp;&nbsp; * See <a href="http://php.net/manual/en/function.array-search.php#91365" rel="nofollow" target="_blank">http://php.net/manual/en/function.array-search.php#91365</a><br />
&nbsp;&nbsp; *<br />
&nbsp;&nbsp; * @param $needle<br />
&nbsp;&nbsp; *&nbsp;&nbsp; The searched value.<br />
&nbsp;&nbsp; * @param $haystack<br />
&nbsp;&nbsp; *&nbsp;&nbsp; The array.<br />
&nbsp;&nbsp; *<br />
&nbsp;&nbsp; * @return bool|int|string<br />
&nbsp;&nbsp; *&nbsp;&nbsp; Array of keys, containing values or FALSE if not found.<br />
&nbsp;&nbsp; */<br />
&nbsp; private function ras($needle, $haystack) {<br />
&nbsp;&nbsp;&nbsp; $keys = array();<br />
&nbsp;&nbsp;&nbsp; foreach ($haystack as $key =&gt; $value) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; if ($needle === $value OR (is_array($value) &amp;&amp; $this-&gt;ras(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $needle,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $value<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; ) !== FALSE)<br />
&nbsp;&nbsp; &nbsp;&nbsp; ) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $keys[] = $key;<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if (!empty($keys)) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; return $keys;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; return FALSE;<br />
&nbsp; }</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="115673""></a>
  <div class="note">
   <strong class="user">marvin dot petker at borntocreate dot de</strong>
   <a href="#115673" class="date">06-Sep-2014 01:08</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Be aware of using array_search() in conditional statements.<br />
<br />
$foo = array("one", "two");<br />
if( $key = array_search("one", $foo) ){<br />
&nbsp; echo "Found";<br />
}<br />
else{<br />
&nbsp; echo "Not found";<br />
}<br />
//Ouput: Not found<br />
<br />
"Not found" will be outputted beacause the returned key is 0 and that will be interpreted as false in conditional statements.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="115594""></a>
  <div class="note">
   <strong class="user">dk at danilok dot com</strong>
   <a href="#115594" class="date">22-Aug-2014 03:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I needed a way to return the value of a single specific key, thus:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">recursive_return_array_value_by_key</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$return </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$haystack </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$val</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$return </span><span class="keyword">= </span><span class="default">recursive_return_array_value_by_key</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$val</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else if(</span><span class="default">$needle </span><span class="keyword">=== </span><span class="default">$key</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="string">"</span><span class="default">$val</span><span class="string">\n"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$return</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114757""></a>
  <div class="note">
   <strong class="user">rAthur</strong>
   <a href="#114757" class="date">02-Apr-2014 05:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you're not running an older version of PHP (many servers are still on PHP 5.3), you can replace the function by this :<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">s</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">,</span><span class="default">$array</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$value</span><span class="keyword">==</span><span class="default">$needle</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$key</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
}<br />
<br />
echo </span><span class="default">s</span><span class="keyword">( </span><span class="string">'c'</span><span class="keyword">, array(</span><span class="string">'a'</span><span class="keyword">, </span><span class="string">'b'</span><span class="keyword">, </span><span class="string">'c'</span><span class="keyword">, </span><span class="string">'d'</span><span class="keyword">) ); </span><span class="comment">// returns 2<br />
</span><span class="keyword">echo </span><span class="default">s</span><span class="keyword">( </span><span class="string">'f'</span><span class="keyword">, array(</span><span class="string">'a'</span><span class="keyword">, </span><span class="string">'b'</span><span class="keyword">, </span><span class="string">'c'</span><span class="keyword">, </span><span class="string">'d'</span><span class="keyword">) ); </span><span class="comment">// returns false<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114756""></a>
  <div class="note">
   <strong class="user">rAthur</strong>
   <a href="#114756" class="date">02-Apr-2014 05:35</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you're not running an older version of PHP (many servers are still on PHP 5.3), you can replace the function by this :<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">s</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">,</span><span class="default">$array</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$value</span><span class="keyword">==</span><span class="default">$needle</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$key</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
}<br />
<br />
echo </span><span class="default">s</span><span class="keyword">( </span><span class="string">'c'</span><span class="keyword">, array(</span><span class="string">'a'</span><span class="keyword">, </span><span class="string">'b'</span><span class="keyword">, </span><span class="string">'c'</span><span class="keyword">, </span><span class="string">'d'</span><span class="keyword">) ); </span><span class="comment">// returns 2<br />
</span><span class="keyword">echo </span><span class="default">s</span><span class="keyword">( </span><span class="string">'f'</span><span class="keyword">, array(</span><span class="string">'a'</span><span class="keyword">, </span><span class="string">'b'</span><span class="keyword">, </span><span class="string">'c'</span><span class="keyword">, </span><span class="string">'d'</span><span class="keyword">) ); </span><span class="comment">// returns false<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114755""></a>
  <div class="note">
   <strong class="user">rAthur</strong>
   <a href="#114755" class="date">02-Apr-2014 05:35</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you're not running an older version of PHP (many servers are still on PHP 5.3), you can replace the function by this :<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">s</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">,</span><span class="default">$array</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$value</span><span class="keyword">==</span><span class="default">$needle</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$key</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
}<br />
<br />
echo </span><span class="default">s</span><span class="keyword">( </span><span class="string">'c'</span><span class="keyword">, array(</span><span class="string">'a'</span><span class="keyword">, </span><span class="string">'b'</span><span class="keyword">, </span><span class="string">'c'</span><span class="keyword">, </span><span class="string">'d'</span><span class="keyword">) ); </span><span class="comment">// returns 2<br />
</span><span class="keyword">echo </span><span class="default">s</span><span class="keyword">( </span><span class="string">'f'</span><span class="keyword">, array(</span><span class="string">'a'</span><span class="keyword">, </span><span class="string">'b'</span><span class="keyword">, </span><span class="string">'c'</span><span class="keyword">, </span><span class="string">'d'</span><span class="keyword">) ); </span><span class="comment">// returns false<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="110120""></a>
  <div class="note">
   <strong class="user">sunelbe at gmail dot com</strong>
   <a href="#110120" class="date">21-Sep-2012 09:19</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
hey i have a easy multidimensional array search function 
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">search</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$key</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">)
<br />
{
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$results </span><span class="keyword">= array();
<br />

<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">))
<br />
&nbsp;&nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (isset(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]) &amp;&amp; </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] == </span><span class="default">$value</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$results</span><span class="keyword">[] = </span><span class="default">$array</span><span class="keyword">;
<br />

<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$subarray</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$results </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$results</span><span class="keyword">, </span><span class="default">search</span><span class="keyword">(</span><span class="default">$subarray</span><span class="keyword">, </span><span class="default">$key</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">));
<br />
&nbsp;&nbsp;&nbsp; }
<br />

<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$results</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="107944""></a>
  <div class="note">
   <strong class="user">sneskid at hotmail dot com</strong>
   <a href="#107944" class="date">16-Mar-2012 05:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I had an array of arrays and needed to find the key of an element by comparing actual reference.<br />
Beware that even with strict equality (===) php will equate arrays via their elements recursively, not by a simple internal pointer check as with class objects. The === can be slow for massive arrays and also crash if they contain circular references.<br />
<br />
This function performs reference sniffing in order to return the key for an element that is exactly a reference of needle.<br />
<br />
<span class="default">&lt;?php <br />
</span><span class="keyword">function </span><span class="default">array_ref_search</span><span class="keyword">(&amp;</span><span class="default">$v</span><span class="keyword">, array &amp;</span><span class="default">$s</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">is_object</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">)){ return </span><span class="default">array_search</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">, </span><span class="default">$s</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">); }<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$s </span><span class="keyword">as </span><span class="default">$rK </span><span class="keyword">=&gt; &amp;</span><span class="default">$rV</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; { </span><span class="comment">// reference sniff<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$tV </span><span class="keyword">= </span><span class="default">$v</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if( (</span><span class="default">$rV </span><span class="keyword">=== (</span><span class="default">$v </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">)) &amp;&amp; (</span><span class="default">$rV </span><span class="keyword">=== (</span><span class="default">$v </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">)) ){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$v </span><span class="keyword">= </span><span class="default">$tV</span><span class="keyword">; return </span><span class="default">$rK</span><span class="keyword">; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$v </span><span class="keyword">= </span><span class="default">$tV</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">; </span><span class="comment">// use null for php &lt; 4.2.0<br />
</span><span class="keyword">}<br />
<br />
</span><span class="default">$list&nbsp;&nbsp; </span><span class="keyword">= array();<br />
</span><span class="default">$list</span><span class="keyword">[</span><span class="string">'A'</span><span class="keyword">] = &amp;</span><span class="default">$valA</span><span class="keyword">; </span><span class="default">$list</span><span class="keyword">[</span><span class="string">'B'</span><span class="keyword">] = &amp;</span><span class="default">$valB</span><span class="keyword">;<br />
<br />
</span><span class="default">$valA </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">; </span><span class="default">$valB </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br />
echo </span><span class="string">'array_ref_search: '</span><span class="keyword">, </span><span class="default">array_ref_search</span><span class="keyword">(</span><span class="default">$valB</span><span class="keyword">, </span><span class="default">$list</span><span class="keyword">), </span><span class="string">'&lt;/br&gt;'</span><span class="keyword">; </span><span class="comment">// key 'B'<br />
</span><span class="keyword">echo </span><span class="string">'array_search:&nbsp; &nbsp;&nbsp; '</span><span class="keyword">, </span><span class="default">array_search</span><span class="keyword">(</span><span class="default">$valB</span><span class="keyword">, </span><span class="default">$list</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">), </span><span class="string">'&lt;/br&gt;'</span><span class="keyword">; </span><span class="comment">// key 'A'<br />
<br />
</span><span class="default">$valA </span><span class="keyword">= array(</span><span class="default">1</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">); </span><span class="default">$valB </span><span class="keyword">= array(</span><span class="default">1</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">);<br />
echo </span><span class="string">'array_ref_search: '</span><span class="keyword">, </span><span class="default">array_ref_search</span><span class="keyword">(</span><span class="default">$valB</span><span class="keyword">, </span><span class="default">$list</span><span class="keyword">), </span><span class="string">'&lt;/br&gt;'</span><span class="keyword">; </span><span class="comment">// key 'B'<br />
</span><span class="keyword">echo </span><span class="string">'array_search:&nbsp; &nbsp;&nbsp; '</span><span class="keyword">, </span><span class="default">array_search</span><span class="keyword">(</span><span class="default">$valB</span><span class="keyword">, </span><span class="default">$list</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">), </span><span class="string">'&lt;/br&gt;'</span><span class="keyword">; </span><span class="comment">// key 'A' because ($valA === $valB) is true by elements<br />
<br />
</span><span class="default">$valB</span><span class="keyword">[] = &amp;</span><span class="default">$valB</span><span class="keyword">; </span><span class="comment">// circular reference<br />
</span><span class="keyword">echo </span><span class="string">'array_ref_search: '</span><span class="keyword">, </span><span class="default">array_ref_search</span><span class="keyword">(</span><span class="default">$valB</span><span class="keyword">, </span><span class="default">$list</span><span class="keyword">), </span><span class="string">'&lt;/br&gt;'</span><span class="keyword">; </span><span class="comment">// key 'B'<br />
</span><span class="keyword">echo </span><span class="string">'array_search:&nbsp; &nbsp;&nbsp; '</span><span class="keyword">, </span><span class="default">array_search</span><span class="keyword">(</span><span class="default">$valB</span><span class="keyword">, </span><span class="default">$list</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">), </span><span class="string">'&lt;/br&gt;'</span><span class="keyword">; </span><span class="comment">// crash because ($valB === $valB) causes infinite loop<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="106107""></a>
  <div class="note">
   <strong class="user">revoke</strong>
   <a href="#106107" class="date">11-Oct-2011 01:12</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Better solution of multidimensional searching.
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">multidimensional_search</span><span class="keyword">(</span><span class="default">$parents</span><span class="keyword">, </span><span class="default">$searched</span><span class="keyword">) {
<br />
&nbsp; if (empty(</span><span class="default">$searched</span><span class="keyword">) || empty(</span><span class="default">$parents</span><span class="keyword">)) {
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;
<br />
&nbsp; }
<br />
&nbsp;
<br />
&nbsp; foreach (</span><span class="default">$parents </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$exists </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$searched </span><span class="keyword">as </span><span class="default">$skey </span><span class="keyword">=&gt; </span><span class="default">$svalue</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$exists </span><span class="keyword">= (</span><span class="default">$exists </span><span class="keyword">&amp;&amp; IsSet(</span><span class="default">$parents</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">][</span><span class="default">$skey</span><span class="keyword">]) &amp;&amp; </span><span class="default">$parents</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">][</span><span class="default">$skey</span><span class="keyword">] == </span><span class="default">$svalue</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$exists</span><span class="keyword">){ return </span><span class="default">$key</span><span class="keyword">; }
<br />
&nbsp; }
<br />
&nbsp;
<br />
&nbsp; return </span><span class="default">false</span><span class="keyword">;
<br />
}
<br />

<br />
</span><span class="default">$parents </span><span class="keyword">= array();
<br />
</span><span class="default">$parents</span><span class="keyword">[] = array(</span><span class="string">'date'</span><span class="keyword">=&gt;</span><span class="default">1320883200</span><span class="keyword">, </span><span class="string">'uid'</span><span class="keyword">=&gt;</span><span class="default">3</span><span class="keyword">);
<br />
</span><span class="default">$parents</span><span class="keyword">[] = array(</span><span class="string">'date'</span><span class="keyword">=&gt;</span><span class="default">1320883200</span><span class="keyword">, </span><span class="string">'uid'</span><span class="keyword">=&gt;</span><span class="default">5</span><span class="keyword">);
<br />
</span><span class="default">$parents</span><span class="keyword">[] = array(</span><span class="string">'date'</span><span class="keyword">=&gt;</span><span class="default">1318204800</span><span class="keyword">, </span><span class="string">'uid'</span><span class="keyword">=&gt;</span><span class="default">5</span><span class="keyword">);
<br />

<br />
echo </span><span class="default">multidimensional_search</span><span class="keyword">(</span><span class="default">$parents</span><span class="keyword">, array(</span><span class="string">'date'</span><span class="keyword">=&gt;</span><span class="default">1320883200</span><span class="keyword">, </span><span class="string">'uid'</span><span class="keyword">=&gt;</span><span class="default">5</span><span class="keyword">)); </span><span class="comment">// 1
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="106056""></a>
  <div class="note">
   <strong class="user">stooshie at gmail dot com</strong>
   <a href="#106056" class="date">06-Oct-2011 11:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Example of a recursive binary search that returns the index rather than boolean.<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// returns the index of needle in haystack<br />
</span><span class="keyword">function </span><span class="default">binSearch</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// n is only needed if counting depth of search<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">global </span><span class="default">$n</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$n</span><span class="keyword">++;<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// get the length of passed array<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$l </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// if length is 0, problem<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if(</span><span class="default">$l </span><span class="keyword">&lt;= </span><span class="default">0</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return -</span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// get the mid element<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$m </span><span class="keyword">= ((</span><span class="default">$l</span><span class="keyword">+(</span><span class="default">$l</span><span class="keyword">%</span><span class="default">2</span><span class="keyword">))/</span><span class="default">2</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// if mid &gt;= length (e.g. l=1)<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if(</span><span class="default">$m </span><span class="keyword">&gt;= </span><span class="default">$l</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$m </span><span class="keyword">= </span><span class="default">$m</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// get the indexed element to compare to the passed element and branch accordingly<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$compare </span><span class="keyword">= </span><span class="default">$haystack</span><span class="keyword">[</span><span class="default">$m</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; switch(</span><span class="default">true</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case(</span><span class="default">$compare</span><span class="keyword">&gt;</span><span class="default">$needle</span><span class="keyword">):<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// recurse on the lower half<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$new_haystack </span><span class="keyword">= </span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$m</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$c </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$new_haystack</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$r </span><span class="keyword">= </span><span class="default">binSearch</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$new_haystack</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// return current index - (length of lower half - found index in lower half)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">$m </span><span class="keyword">- (</span><span class="default">$c </span><span class="keyword">- </span><span class="default">$r</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case(</span><span class="default">$compare</span><span class="keyword">&lt;</span><span class="default">$needle</span><span class="keyword">):<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// recurse on the upper half<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$new_haystack </span><span class="keyword">= </span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$m</span><span class="keyword">, (</span><span class="default">$l</span><span class="keyword">-</span><span class="default">$m</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$c </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$new_haystack</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$r </span><span class="keyword">= </span><span class="default">binSearch</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$new_haystack</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// return current position + found index in upper half<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">$m </span><span class="keyword">+ </span><span class="default">$r</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case(</span><span class="default">$compare</span><span class="keyword">==</span><span class="default">$needle</span><span class="keyword">):<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// found it, so return index<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">$m</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="105955""></a>
  <div class="note">
   <strong class="user">Dave C</strong>
   <a href="#105955" class="date">27-Sep-2011 10:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is a version of binary search that is done via recursion instead of iteration.&nbsp; Remember that your data needs to be presorted!
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">static function </span><span class="default">Bin_Search</span><span class="keyword">(&amp;</span><span class="default">$needle</span><span class="keyword">, &amp;</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$start</span><span class="keyword">, </span><span class="default">$end</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$end </span><span class="keyword">&lt; </span><span class="default">$start</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />

<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$mid </span><span class="keyword">= (int)((</span><span class="default">$end </span><span class="keyword">- </span><span class="default">$start</span><span class="keyword">) / </span><span class="default">2</span><span class="keyword">) + </span><span class="default">$start</span><span class="keyword">;
<br />
&nbsp; 
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$haystack</span><span class="keyword">[</span><span class="default">$mid</span><span class="keyword">] &gt; </span><span class="default">$needle</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">Bin_Search</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$start</span><span class="keyword">, </span><span class="default">$mid </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else if(</span><span class="default">$haystack</span><span class="keyword">[</span><span class="default">$mid</span><span class="keyword">] &lt; </span><span class="default">$needle</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">Bin_Search</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$mid </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">, </span><span class="default">$end</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="101869""></a>
  <div class="note">
   <strong class="user">stefano@takys dot it</strong>
   <a href="#101869" class="date">14-Jan-2011 10:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
for searching case insensitive better this:
<br />

<br />
<span class="default">&lt;?php
<br />
array_search</span><span class="keyword">(</span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">$element</span><span class="keyword">),</span><span class="default">array_map</span><span class="keyword">(</span><span class="string">'strtolower'</span><span class="keyword">,</span><span class="default">$array</span><span class="keyword">));
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="100057""></a>
  <div class="note">
   <strong class="user">robert at robert-gonzalez dot com</strong>
   <a href="#100057" class="date">22-Sep-2010 09:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I needed a way to find the parent hierarchy of a multidimensional array. Being the rogue that I am, I got to coding before searching the manual and came up with two little functions that will return a parent stack for a first find and a complete parent stack, similar in nature to the solution presented by jette at nerdgirl dot dk without all the extra stuff or use of eval(). ;)<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/**<br />
&nbsp;* Gets the parent stack of a string array element if it is found within the <br />
&nbsp;* parent array<br />
&nbsp;* <br />
&nbsp;* This will not search objects within an array, though I suspect you could <br />
&nbsp;* tweak it easily enough to do that<br />
&nbsp;*<br />
&nbsp;* @param string $child The string array element to search for<br />
&nbsp;* @param array $stack The stack to search within for the child<br />
&nbsp;* @return array An array containing the parent stack for the child if found,<br />
&nbsp;*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; false otherwise<br />
&nbsp;*/<br />
</span><span class="keyword">function </span><span class="default">getParentStack</span><span class="keyword">(</span><span class="default">$child</span><span class="keyword">, </span><span class="default">$stack</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$stack </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$v</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// If the current element of the array is an array, recurse it and capture the return<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$return </span><span class="keyword">= </span><span class="default">getParentStack</span><span class="keyword">(</span><span class="default">$child</span><span class="keyword">, </span><span class="default">$v</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// If the return is an array, stack it and return it<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$return</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return array(</span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$return</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Since we are not on an array, compare directly<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">$v </span><span class="keyword">== </span><span class="default">$child</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// And if we match, stack it and return it<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">return array(</span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$child</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Return false since there was nothing found<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">false</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="comment">/**<br />
&nbsp;* Gets the complete parent stack of a string array element if it is found <br />
&nbsp;* within the parent array<br />
&nbsp;* <br />
&nbsp;* This will not search objects within an array, though I suspect you could <br />
&nbsp;* tweak it easily enough to do that<br />
&nbsp;*<br />
&nbsp;* @param string $child The string array element to search for<br />
&nbsp;* @param array $stack The stack to search within for the child<br />
&nbsp;* @return array An array containing the parent stack for the child if found,<br />
&nbsp;*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; false otherwise<br />
&nbsp;*/<br />
</span><span class="keyword">function </span><span class="default">getParentStackComplete</span><span class="keyword">(</span><span class="default">$child</span><span class="keyword">, </span><span class="default">$stack</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$return </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$stack </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$v</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// If the current element of the array is an array, recurse it <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // and capture the return stack<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$stack </span><span class="keyword">= </span><span class="default">getParentStackComplete</span><span class="keyword">(</span><span class="default">$child</span><span class="keyword">, </span><span class="default">$v</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// If the return stack is an array, add it to the return<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$stack</span><span class="keyword">) &amp;&amp; !empty(</span><span class="default">$stack</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$return</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">] = </span><span class="default">$stack</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Since we are not on an array, compare directly<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">$v </span><span class="keyword">== </span><span class="default">$child</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// And if we match, stack it and return it<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$return</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">] = </span><span class="default">$child</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Return the stack<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">return empty(</span><span class="default">$return</span><span class="keyword">) ? </span><span class="default">false</span><span class="keyword">: </span><span class="default">$return</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="comment">// TESTING<br />
</span><span class="default">$array </span><span class="keyword">= array(<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'balloon' </span><span class="keyword">=&gt; array(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'red' </span><span class="keyword">=&gt; array(</span><span class="default">1 </span><span class="keyword">=&gt; </span><span class="string">'Love'</span><span class="keyword">, </span><span class="string">'Valentine'</span><span class="keyword">, </span><span class="string">'Heart'</span><span class="keyword">,),<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'green' </span><span class="keyword">=&gt; array(</span><span class="default">1 </span><span class="keyword">=&gt; </span><span class="string">'Summertime'</span><span class="keyword">, </span><span class="string">'Hope'</span><span class="keyword">,),<br />
&nbsp;&nbsp;&nbsp; ),<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'ribbon' </span><span class="keyword">=&gt; array(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'yellow' </span><span class="keyword">=&gt; array(</span><span class="default">2 </span><span class="keyword">=&gt; </span><span class="string">'Welcome'</span><span class="keyword">,),<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'red' </span><span class="keyword">=&gt; array(</span><span class="default">3 </span><span class="keyword">=&gt; </span><span class="string">'Love'</span><span class="keyword">, </span><span class="string">'Love'</span><span class="keyword">,),<br />
&nbsp;&nbsp;&nbsp; ),<br />
);<br />
<br />
</span><span class="default">$s </span><span class="keyword">= </span><span class="default">getParentStack</span><span class="keyword">(</span><span class="string">'Love'</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">);<br />
</span><span class="default">$c </span><span class="keyword">= </span><span class="default">getParentStackComplete</span><span class="keyword">(</span><span class="string">'Love'</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">);<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">, </span><span class="default">$c</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Output:<br />
<br />
array<br />
&nbsp; 'balloon' =&gt; <br />
&nbsp;&nbsp;&nbsp; array<br />
&nbsp;&nbsp; &nbsp;&nbsp; 'red' =&gt; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 1 =&gt; string 'Love' (length=4)<br />
<br />
array<br />
&nbsp; 'balloon' =&gt; <br />
&nbsp;&nbsp;&nbsp; array<br />
&nbsp;&nbsp; &nbsp;&nbsp; 'red' =&gt; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 1 =&gt; string 'Love' (length=4)<br />
&nbsp; 'ribbon' =&gt; <br />
&nbsp;&nbsp;&nbsp; array<br />
&nbsp;&nbsp; &nbsp;&nbsp; 'red' =&gt; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 3 =&gt; string 'Love' (length=4)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 4 =&gt; string 'Love' (length=4)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="99964""></a>
  <div class="note">
   <strong class="user">hanan dot ali dot shaikh at googlemail dot com</strong>
   <a href="#99964" class="date">17-Sep-2010 10:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In this code I write a code to find next and previous element of an array using current element of that array. Let suppose if we are in element 9 and have to access its next and previous element then this code be helpful for someone.<br />
<br />
<span class="default">&lt;?php<br />
$myArray </span><span class="keyword">= array(</span><span class="default">4</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">,</span><span class="default">7</span><span class="keyword">,</span><span class="default">9</span><span class="keyword">,</span><span class="default">10</span><span class="keyword">,</span><span class="default">11</span><span class="keyword">,</span><span class="default">13</span><span class="keyword">,</span><span class="default">19</span><span class="keyword">,</span><span class="default">25</span><span class="keyword">);<br />
<br />
</span><span class="default">$currentElement </span><span class="keyword">= </span><span class="default">9</span><span class="keyword">;<br />
</span><span class="default">$firstElement </span><span class="keyword">= </span><span class="default">current</span><span class="keyword">(</span><span class="default">$myArray</span><span class="keyword">);<br />
</span><span class="default">$lastElement </span><span class="keyword">= </span><span class="default">$myArray</span><span class="keyword">[</span><span class="default">sizeof</span><span class="keyword">(</span><span class="default">$myArray</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">];<br />
<br />
</span><span class="default">$currentKey </span><span class="keyword">= </span><span class="default">array_search</span><span class="keyword">(</span><span class="default">$currentElement</span><span class="keyword">, </span><span class="default">$myArray</span><span class="keyword">);<br />
</span><span class="default">$currentValue </span><span class="keyword">= </span><span class="default">$myArray</span><span class="keyword">[</span><span class="default">$currentKey</span><span class="keyword">];<br />
<br />
</span><span class="default">$previousValue </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />
</span><span class="default">$nextValue </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />
if(</span><span class="default">$currentElement</span><span class="keyword">!=</span><span class="default">$lastElement</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$nextKey </span><span class="keyword">= </span><span class="default">$currentKey </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$nextValue </span><span class="keyword">= </span><span class="default">$myArray</span><span class="keyword">[</span><span class="default">$nextKey</span><span class="keyword">];<br />
}<br />
<br />
if(</span><span class="default">$currentElement</span><span class="keyword">!=</span><span class="default">$firstElement</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$previousKey </span><span class="keyword">= </span><span class="default">$currentKey </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$previousValue </span><span class="keyword">= </span><span class="default">$myArray</span><span class="keyword">[</span><span class="default">$previousKey</span><span class="keyword">];<br />
}<br />
<br />
echo </span><span class="default">$previousValue</span><span class="keyword">.</span><span class="string">"--"</span><span class="keyword">.</span><span class="default">$currentValue</span><span class="keyword">.</span><span class="string">"--"</span><span class="keyword">.</span><span class="default">$nextValue</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Thanks,<br />
Hanan Ali</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93833""></a>
  <div class="note">
   <strong class="user">codeslinger at compsalot dot com</strong>
   <a href="#93833" class="date">02-Oct-2009 09:22</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
one thing to be very aware of is that array_search() will fail if the needle is a string and the array itself contains values that are mixture of numbers and strings.&nbsp; (or even a string that looks like a number)
<br />

<br />
The problem is that unless you specify "strict" the match is done using ==&nbsp; &nbsp; and in that case any string will match a numeric value of zero which is not what you want.
<br />

<br />
-----
<br />

<br />
also, php can lookup an index pretty darn fast.&nbsp; for many scenarios, it is practical to maintain multiple arrays, one in which the index of the array is the search key and the normal array that contains the data.
<br />

<br />
<span class="default">&lt;?php
<br />

<br />
&nbsp; $normal</span><span class="keyword">[</span><span class="default">$index</span><span class="keyword">] = array(</span><span class="string">'key'</span><span class="keyword">=&gt;</span><span class="default">$key</span><span class="keyword">, </span><span class="string">'data'</span><span class="keyword">=&gt;</span><span class="string">'foo'</span><span class="keyword">);
<br />
&nbsp; </span><span class="default">$inverse</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$index</span><span class="keyword">;
<br />

<br />
&nbsp; </span><span class="comment">//very fast lookup, this beats any other kind of search
<br />

<br />
&nbsp; </span><span class="keyword">if (</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">, </span><span class="default">$inverse</span><span class="keyword">)) 
<br />
&nbsp; {
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$index </span><span class="keyword">= </span><span class="default">$inverse</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">];
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$normal</span><span class="keyword">[</span><span class="default">$index</span><span class="keyword">];
<br />
&nbsp; }
<br />

<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93352""></a>
  <div class="note">
   <strong class="user">temporal dot pl at gmail dot com</strong>
   <a href="#93352" class="date">05-Sep-2009 12:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Sometimes you need to find a given value in a sorted array or - if not found - detect the place where it should be. After that you can for example split the array into two halves, the&nbsp; greater and the smaller one.<br />
<br />
greenmr, dennis.decoene and php at celerondude had all posted very good binary search functions but these functions all return false if the needle was not found in the haystack. I've tweaked greenmr's code a little:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">Array_BinarySearch</span><span class="keyword">( </span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$comparator </span><span class="keyword">, &amp;</span><span class="default">$probe </span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$high </span><span class="keyword">= </span><span class="default">Count</span><span class="keyword">( </span><span class="default">$haystack </span><span class="keyword">) -</span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$low </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; while ( </span><span class="default">$high </span><span class="keyword">&gt;= </span><span class="default">$low </span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$probe </span><span class="keyword">= </span><span class="default">Floor</span><span class="keyword">( ( </span><span class="default">$high </span><span class="keyword">+ </span><span class="default">$low </span><span class="keyword">) / </span><span class="default">2 </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$comparison </span><span class="keyword">= </span><span class="default">$comparator</span><span class="keyword">( </span><span class="default">$haystack</span><span class="keyword">[</span><span class="default">$probe</span><span class="keyword">], </span><span class="default">$needle </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ( </span><span class="default">$comparison </span><span class="keyword">&lt; </span><span class="default">0 </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$low </span><span class="keyword">= </span><span class="default">$probe </span><span class="keyword">+</span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; elseif ( </span><span class="default">$comparison </span><span class="keyword">&gt; </span><span class="default">0 </span><span class="keyword">) <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$high </span><span class="keyword">= </span><span class="default">$probe </span><span class="keyword">-</span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//The loop ended without a match <br />
&nbsp;&nbsp;&nbsp; //Compensate for needle greater than highest haystack element<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if(</span><span class="default">$comparator</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">[</span><span class="default">count</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">], </span><span class="default">$needle</span><span class="keyword">) &lt; </span><span class="default">0</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$probe </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; } <br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Now, the function returns true if it finds something and false otherwise. If a needle was found, then $probe will contain it's position. Otherwise, $probe will contain position of where the needle would be if it were there :). This is possible because we pass $probe by reference.<br />
<br />
Example:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">//ultra-simple comparator :)<br />
</span><span class="keyword">function </span><span class="default">CompareNumbers</span><span class="keyword">(</span><span class="default">$obj</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$obj </span><span class="keyword">- </span><span class="default">$needle</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="comment">//use examples<br />
</span><span class="default">$testArr </span><span class="keyword">= array(</span><span class="default">10</span><span class="keyword">, </span><span class="default">20</span><span class="keyword">, </span><span class="default">30</span><span class="keyword">, </span><span class="default">40</span><span class="keyword">, </span><span class="default">50</span><span class="keyword">);<br />
</span><span class="default">$res </span><span class="keyword">= </span><span class="default">Array_BinarySearch</span><span class="keyword">(</span><span class="default">30</span><span class="keyword">, </span><span class="default">$testArr</span><span class="keyword">, </span><span class="string">'CompareNumbers'</span><span class="keyword">, </span><span class="default">$probe</span><span class="keyword">);<br />
echo (int)</span><span class="default">$res</span><span class="keyword">.</span><span class="string">' '</span><span class="keyword">.</span><span class="default">$probe</span><span class="keyword">.</span><span class="string">'&lt;br /&gt;'</span><span class="keyword">;<br />
</span><span class="comment">//output is: 1 2 - found at position 2<br />
<br />
</span><span class="default">$res </span><span class="keyword">= </span><span class="default">Array_BinarySearch</span><span class="keyword">(</span><span class="default">45</span><span class="keyword">, </span><span class="default">$testArr</span><span class="keyword">, </span><span class="string">'CompareNumbers'</span><span class="keyword">, </span><span class="default">$probe</span><span class="keyword">);<br />
echo (int)</span><span class="default">$res</span><span class="keyword">.</span><span class="string">' '</span><span class="keyword">.</span><span class="default">$probe</span><span class="keyword">.</span><span class="string">'&lt;br /&gt;'</span><span class="keyword">;<br />
</span><span class="comment">//output is: 0 4 - not found, but it would be at position 4 (between 40 and 45)<br />
&nbsp;<br />
</span><span class="default">$res </span><span class="keyword">= </span><span class="default">Array_BinarySearch</span><span class="keyword">(-</span><span class="default">3</span><span class="keyword">, </span><span class="default">$testArr</span><span class="keyword">, </span><span class="string">'CompareNumbers'</span><span class="keyword">, </span><span class="default">$probe</span><span class="keyword">);<br />
echo (int)</span><span class="default">$res</span><span class="keyword">.</span><span class="string">' '</span><span class="keyword">.</span><span class="default">$probe</span><span class="keyword">.</span><span class="string">'&lt;br /&gt;'</span><span class="keyword">;<br />
</span><span class="comment">//output is: 0 0 - not found, but it would be at position 0 (before 10)<br />
<br />
</span><span class="default">$res </span><span class="keyword">= </span><span class="default">Array_BinarySearch</span><span class="keyword">(</span><span class="default">300</span><span class="keyword">, </span><span class="default">$testArr</span><span class="keyword">, </span><span class="string">'CompareNumbers'</span><span class="keyword">, </span><span class="default">$probe</span><span class="keyword">);<br />
echo (int)</span><span class="default">$res</span><span class="keyword">.</span><span class="string">' '</span><span class="keyword">.</span><span class="default">$probe</span><span class="keyword">.</span><span class="string">'&lt;br /&gt;'</span><span class="keyword">;<br />
</span><span class="comment">//output is: 0 5 - not found, but it would be at position 5 (after 50; note, that count($haystack) == 5)<br />
</span><span class="default">?&gt;<br />
</span><br />
See original greenmr's note for additional details about usage of this binary search: <a href="http://php.net/manual/en/function.array-search.php#89413" rel="nofollow" target="_blank">http://php.net/manual/en/function.array-search.php#89413</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93103""></a>
  <div class="note">
   <strong class="user">Nguyen KimKha</strong>
   <a href="#93103" class="date">23-Aug-2009 07:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You can remove some values from array, by using unset() and array_search().<br />
<br />
<span class="default">&lt;?php<br />
<br />
$friends </span><span class="keyword">= array( </span><span class="string">'Bob'</span><span class="keyword">, </span><span class="string">'Ann'</span><span class="keyword">, </span><span class="string">'Peter' </span><span class="keyword">); </span><span class="comment">// Two persons named 'Bob'<br />
</span><span class="default">$find </span><span class="keyword">= </span><span class="string">'Bob'</span><span class="keyword">;<br />
</span><span class="default">$key </span><span class="keyword">= </span><span class="default">array_search</span><span class="keyword">( </span><span class="default">$find</span><span class="keyword">, </span><span class="default">$friends </span><span class="keyword">); </span><span class="comment">// Find key of given value<br />
</span><span class="keyword">if (</span><span class="default">$key </span><span class="keyword">!= </span><span class="default">NULL </span><span class="keyword">|| </span><span class="default">$key </span><span class="keyword">!== </span><span class="default">FALSE</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; unset(</span><span class="default">$friends</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]); </span><span class="comment">// remove key from array<br />
</span><span class="keyword">}<br />
<br />
</span><span class="comment">// Now, $friends = array( 'Ann', 'Peter');<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="91365""></a>
  <div class="note">
   <strong class="user">buddel</strong>
   <a href="#91365" class="date">08-Jun-2009 05:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
the recursive function by tony have a small bug. it failes when a key is 0<br />
<br />
here is the corrected version of this helpful function:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">recursive_array_search</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">,</span><span class="default">$haystack</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$haystack </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">=&gt;</span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$current_key</span><span class="keyword">=</span><span class="default">$key</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$needle</span><span class="keyword">===</span><span class="default">$value </span><span class="keyword">OR (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">) &amp;&amp; </span><span class="default">recursive_array_search</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">,</span><span class="default">$value</span><span class="keyword">) !== </span><span class="default">false</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$current_key</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="90822""></a>
  <div class="note">
   <strong class="user">tony dot peter at wanadoo dot fr</strong>
   <a href="#90822" class="date">11-May-2009 09:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A simple recursive array_search function : 
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">recursive_array_search</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">,</span><span class="default">$haystack</span><span class="keyword">) {
<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$haystack </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">=&gt;</span><span class="default">$value</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$current_key</span><span class="keyword">=</span><span class="default">$key</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$needle</span><span class="keyword">===</span><span class="default">$value </span><span class="keyword">OR (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">) &amp;&amp; </span><span class="default">recursive_array_search</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">,</span><span class="default">$value</span><span class="keyword">))) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$current_key</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="90711""></a>
  <div class="note">
   <strong class="user">n-regen</strong>
   <a href="#90711" class="date">05-May-2009 07:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you only know a part of a value in an array and want to know the complete value, you can use the following function:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">array_find</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp; foreach (</span><span class="default">$haystack </span><span class="keyword">as </span><span class="default">$item</span><span class="keyword">)<br />
&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp;&nbsp; if (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$item</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">) !== </span><span class="default">FALSE</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$item</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; break;<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;<br />
</span>The function returns the complete first value of $haystack that contains $needle.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="88465""></a>
  <div class="note">
   <strong class="user">helenadeus at gmail dot com</strong>
   <a href="#88465" class="date">25-Jan-2009 10:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I was trying to use array_search to retrieve all the values that match a given needle, but it turns out only the first match key is returned. I built this little function, which works just like array_search, but returns all the keys that match a given needle instead. The output is an array.<br />
<br />
<span class="default">&lt;?php<br />
<br />
$haystack </span><span class="keyword">= array(</span><span class="string">'a'</span><span class="keyword">,</span><span class="string">'b'</span><span class="keyword">,</span><span class="string">'a'</span><span class="keyword">,</span><span class="string">'b'</span><span class="keyword">);<br />
<br />
</span><span class="default">$needle </span><span class="keyword">= </span><span class="string">'a'</span><span class="keyword">;<br />
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">array_search_all</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">));<br />
<br />
</span><span class="comment">//Output will be<br />
// Array<br />
// (<br />
//&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0]=&gt;1<br />
//&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [1]=&gt;3<br />
// )<br />
<br />
</span><span class="keyword">function </span><span class="default">array_search_all</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">)<br />
{</span><span class="comment">#array_search_match($needle, $haystack) returns all the keys of the values that match $needle in $haystack<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">foreach (</span><span class="default">$haystack </span><span class="keyword">as </span><span class="default">$k</span><span class="keyword">=&gt;</span><span class="default">$v</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$haystack</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">]==</span><span class="default">$needle</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$array</span><span class="keyword">[] = </span><span class="default">$k</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return (</span><span class="default">$array</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; <br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="87773""></a>
  <div class="note">
   <strong class="user">azaozz, gmail</strong>
   <a href="#87773" class="date">21-Dec-2008 02:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Expanding on the comment by hansen{}cointel.de:<br />
<br />
When searching for a string and the array contains 0 (zero), the string is casted to (int) by the type-casting which is always 0 (perhaps the opposite is the proper behaviour, the array value 0 should have been casted to string). That produces unexpected results if strict comparison is not used:<br />
<br />
<span class="default">&lt;?php<br />
$a </span><span class="keyword">= array(</span><span class="default">0</span><span class="keyword">, </span><span class="string">"str1"</span><span class="keyword">, </span><span class="string">"str2"</span><span class="keyword">, </span><span class="string">"str3"</span><span class="keyword">);<br />
echo </span><span class="string">"<br />
str1 = "</span><span class="keyword">.</span><span class="default">array_search</span><span class="keyword">(</span><span class="string">"str1"</span><span class="keyword">, </span><span class="default">$a</span><span class="keyword">).</span><span class="string">",<br />
str2 = "</span><span class="keyword">.</span><span class="default">array_search</span><span class="keyword">(</span><span class="string">"str2"</span><span class="keyword">, </span><span class="default">$a</span><span class="keyword">).</span><span class="string">",<br />
str3 = "</span><span class="keyword">.</span><span class="default">array_search</span><span class="keyword">(</span><span class="string">"str3"</span><span class="keyword">, </span><span class="default">$a</span><span class="keyword">).</span><span class="string">",<br />
<br />
str1 strict = "</span><span class="keyword">.</span><span class="default">array_search</span><span class="keyword">(</span><span class="string">"str1"</span><span class="keyword">, </span><span class="default">$a</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">).</span><span class="string">",<br />
str2 strict = "</span><span class="keyword">.</span><span class="default">array_search</span><span class="keyword">(</span><span class="string">"str2"</span><span class="keyword">, </span><span class="default">$a</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">).</span><span class="string">",<br />
str3 strict = "</span><span class="keyword">.</span><span class="default">array_search</span><span class="keyword">(</span><span class="string">"str3"</span><span class="keyword">, </span><span class="default">$a</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
This will return:<br />
str1 = 0, str2 = 0, str3 = 0, str1 strict = 1, str2 strict = 2, str3 strict = 3</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="82897""></a>
  <div class="note">
   <strong class="user">dcez at land dot ru</strong>
   <a href="#82897" class="date">30-Apr-2008 10:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Simple way to get variable name by using array_search function:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">varname</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">){<br />
<br />
&nbsp;&nbsp;&nbsp; return (isset(</span><span class="default">$var</span><span class="keyword">))? </span><span class="default">array_search</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">, </span><span class="default">$GLOBALS</span><span class="keyword">) : </span><span class="default">false</span><span class="keyword">;<br />
<br />
}<br />
<br />
</span><span class="default">$boogie </span><span class="keyword">= </span><span class="string">'tonight'</span><span class="keyword">;<br />
<br />
echo </span><span class="default">varname</span><span class="keyword">(</span><span class="default">$boogie</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="82283""></a>
  <div class="note">
   <strong class="user">andreas dot damm at maxmachine dot de</strong>
   <a href="#82283" class="date">04-Apr-2008 01:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Combining syntax of array_search() and functionality of array_keys() to get all key=&gt;value associations of an array with the given search-value:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">array_search_values</span><span class="keyword">( </span><span class="default">$m_needle</span><span class="keyword">, </span><span class="default">$a_haystack</span><span class="keyword">, </span><span class="default">$b_strict </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">array_intersect_key</span><span class="keyword">( </span><span class="default">$a_haystack</span><span class="keyword">, </span><span class="default">array_flip</span><span class="keyword">( </span><span class="default">array_keys</span><span class="keyword">( </span><span class="default">$a_haystack</span><span class="keyword">, </span><span class="default">$m_needle</span><span class="keyword">, </span><span class="default">$b_strict</span><span class="keyword">)));<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Usage:<br />
<span class="default">&lt;?php<br />
$array1 </span><span class="keyword">= array( </span><span class="string">'pre'</span><span class="keyword">=&gt;</span><span class="string">'2'</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">, </span><span class="string">'1'</span><span class="keyword">, </span><span class="string">'2'</span><span class="keyword">, </span><span class="string">'3'</span><span class="keyword">, </span><span class="string">'post'</span><span class="keyword">=&gt;</span><span class="default">2</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">( </span><span class="default">array_search_values</span><span class="keyword">( </span><span class="string">'2'</span><span class="keyword">, </span><span class="default">$array1</span><span class="keyword">));<br />
</span><span class="default">print_r</span><span class="keyword">( </span><span class="default">array_search_values</span><span class="keyword">( </span><span class="string">'2'</span><span class="keyword">, </span><span class="default">$array1</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">));<br />
</span><span class="default">print_r</span><span class="keyword">( </span><span class="default">array_search_values</span><span class="keyword">( </span><span class="default">2</span><span class="keyword">, </span><span class="default">$array1</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">));<br />
</span><span class="default">?&gt;<br />
</span><br />
Will return:<br />
array(4) {<br />
&nbsp;&nbsp;&nbsp; ["pre"] =&gt;<br />
&nbsp;&nbsp;&nbsp; string(1) "2"<br />
&nbsp;&nbsp;&nbsp; [1] =&gt;<br />
&nbsp;&nbsp;&nbsp; int(2)<br />
&nbsp;&nbsp;&nbsp; [4] =&gt;<br />
&nbsp;&nbsp;&nbsp; string(1) "2"<br />
&nbsp;&nbsp;&nbsp; ["post"] =&gt;<br />
&nbsp;&nbsp;&nbsp; int(2)<br />
}<br />
array(2) {<br />
&nbsp;&nbsp;&nbsp; ["pre"] =&gt;<br />
&nbsp;&nbsp;&nbsp; string(1) "2"<br />
&nbsp;&nbsp;&nbsp; [4] =&gt;<br />
&nbsp;&nbsp;&nbsp; string(1) "2"<br />
}<br />
array(2) {<br />
&nbsp;&nbsp;&nbsp; [1] =&gt;<br />
&nbsp;&nbsp;&nbsp; int(2)<br />
&nbsp;&nbsp;&nbsp; ["post"] =&gt;<br />
&nbsp;&nbsp;&nbsp; int(2)<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="77750""></a>
  <div class="note">
   <strong class="user">kermes [at] thesevens [dot] net</strong>
   <a href="#77750" class="date">12-Sep-2007 12:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A variation of previous searches that returns an array of keys that match the given value:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">array_ksearch</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">); </span><span class="default">next</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">), </span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">current</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)) == </span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">, </span><span class="default">key</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$result</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Usage would be as follows:<br />
<span class="default">&lt;?php<br />
$testArray </span><span class="keyword">= array(</span><span class="string">'one' </span><span class="keyword">=&gt; </span><span class="string">'test1'</span><span class="keyword">, </span><span class="string">'two' </span><span class="keyword">=&gt; </span><span class="string">'test2'</span><span class="keyword">, </span><span class="string">'three' </span><span class="keyword">=&gt; </span><span class="string">'test1'</span><span class="keyword">, </span><span class="string">'four' </span><span class="keyword">=&gt; </span><span class="string">'test2'</span><span class="keyword">, </span><span class="string">'five' </span><span class="keyword">=&gt; </span><span class="string">'test1'</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">array_ksearch</span><span class="keyword">(</span><span class="default">$testArray</span><span class="keyword">, </span><span class="string">'test1'</span><span class="keyword">));<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="77525""></a>
  <div class="note">
   <strong class="user">robertark at gmail dot com</strong>
   <a href="#77525" class="date">02-Sep-2007 08:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A better array_isearch would be to store all results in an array, then return the KEYS stored in $found, such as:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">array_isearch</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">){<br />
&nbsp; </span><span class="default">$found </span><span class="keyword">= array();<br />
&nbsp; foreach (</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$v</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp;&nbsp; if (</span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">) == </span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">)) </span><span class="default">$found</span><span class="keyword">[] = </span><span class="default">$k</span><span class="keyword">;<br />
&nbsp; return </span><span class="default">$found</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
To use, simply have an array to search from then search it, for example:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">array_isearch</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">) {<br />
&nbsp; </span><span class="default">$found </span><span class="keyword">= array();<br />
&nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$v</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">) == </span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">)) </span><span class="default">$found</span><span class="keyword">[] = </span><span class="default">$k</span><span class="keyword">;<br />
&nbsp; return </span><span class="default">$found</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$stored </span><span class="keyword">= </span><span class="string">"these are an array"</span><span class="keyword">;<br />
</span><span class="default">$stored </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">" "</span><span class="keyword">, </span><span class="default">$stored</span><span class="keyword">);<br />
<br />
</span><span class="default">$compare </span><span class="keyword">= array(</span><span class="string">"these"</span><span class="keyword">, </span><span class="string">"are"</span><span class="keyword">, </span><span class="string">"some"</span><span class="keyword">, </span><span class="string">"results"</span><span class="keyword">, </span><span class="string">"stored"</span><span class="keyword">, </span><span class="string">"in"</span><span class="keyword">, </span><span class="string">"an"</span><span class="keyword">, </span><span class="string">"array"</span><span class="keyword">);<br />
foreach(</span><span class="default">$stored </span><span class="keyword">as </span><span class="default">$store</span><span class="keyword">) {<br />
&nbsp; </span><span class="default">$results </span><span class="keyword">= </span><span class="default">array_isearch</span><span class="keyword">(</span><span class="default">$store</span><span class="keyword">, </span><span class="default">$compare</span><span class="keyword">);<br />
&nbsp; foreach(</span><span class="default">$results </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$result</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"Key: "</span><span class="keyword">.</span><span class="default">$results</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">].</span><span class="string">"&lt;br /&gt;Found: "</span><span class="keyword">.</span><span class="default">$compare</span><span class="keyword">[</span><span class="default">$result</span><span class="keyword">].</span><span class="string">"&lt;br /&gt;"</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Hope this helps :-)<br />
<br />
-Rob</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="75319""></a>
  <div class="note">
   <strong class="user">php5 site builder</strong>
   <a href="#75319" class="date">23-May-2007 07:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you encounter a situation where condition test is failing on the result of either array_search or in_array, even when using "===" and "!==", make sure to set $strict = true in your array_search() or in_array() function call.<br />
<br />
A situation such as :<br />
<br />
$arTemp[0] = 1;<br />
$arTemp[1] = 0;<br />
$arTemp[2] = 3;<br />
$arTemp[3] = 5;<br />
$sTempTest = 'BLAH';<br />
<br />
$bResult = in_array($sTempTest,$arTemp);<br />
$bResult2 = array_search($sTempTest,$arTemp);<br />
<br />
var_dump($bResult);<br />
var_dump($bResult2);<br />
<br />
will result in :<br />
<br />
boolean true<br />
int 1<br />
<br />
Using :<br />
<br />
$bResult = in_array($sTempTest,$arTemp,true);<br />
$bResult2 = array_search($sTempTest,$arTemp,true);<br />
<br />
will yield :<br />
boolean false<br />
boolean false<br />
<br />
This is necessary in any instance where you have an array value equal to the integer zero.&nbsp; As soon as you put the zero in quotes or double quotes (a string), the evaluation works with in_array &amp; array_search without the $strict parameter being set.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="72640""></a>
  <div class="note">
   <strong class="user">elvenone at gmail dot com</strong>
   <a href="#72640" class="date">27-Jan-2007 02:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Search an array in reverse order.
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">array_reverse_search</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">sizeof</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&gt;=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">--) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] == </span><span class="default">$value</span><span class="keyword">) return </span><span class="default">$i</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return -</span><span class="default">1</span><span class="keyword">;&nbsp; &nbsp;&nbsp; 
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="70615""></a>
  <div class="note">
   <strong class="user">dmitry dot polushkin at gmail dot com</strong>
   <a href="#70615" class="date">22-Oct-2006 07:03</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To get the key of the found search value, use:<br />
<span class="default">&lt;?php<br />
$a </span><span class="keyword">= array(</span><span class="string">'a'</span><span class="keyword">, </span><span class="string">'b'</span><span class="keyword">, </span><span class="string">'c'</span><span class="keyword">);<br />
echo </span><span class="default">array_search</span><span class="keyword">(</span><span class="default">array_search</span><span class="keyword">(</span><span class="string">'c'</span><span class="keyword">, </span><span class="default">$a</span><span class="keyword">), </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">));<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="69588""></a>
  <div class="note">
   <strong class="user">mark dot php at mhudson dot net</strong>
   <a href="#69588" class="date">12-Sep-2006 02:49</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I was going to complain bitterly about array_search() using zero-based indexes, but then I realized I should be using in_array() instead.<br />
<br />
// if ( isset( $_GET['table'] ) and array_search( $_GET['table'], $valid_tables) ) {&nbsp; // BAD: fails on first[0] element<br />
// if ( isset( $_GET['table'] ) and ( FALSE !== array_search( $_GET['table'], $valid_tables) ) ) { OK: but wasteful and convoluted<br />
&nbsp;&nbsp; if ( isset( $_GET['table'] ) and in_array( $_GET['table'], $valid_tables) ) { // BETTER<br />
<br />
The essence is this: if you really want to know the location of an element in an array, then use array_search, else if you only want to know whether that element exists, then use in_array()</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="63338""></a>
  <div class="note">
   <strong class="user">RichGC</strong>
   <a href="#63338" class="date">20-Mar-2006 02:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To expand on previous comments, here are some examples of<br />
where using array_search within an IF statement can go<br />
wrong when you want to use the array key thats returned.<br />
<br />
Take the following two arrays you wish to search:<br />
<br />
<span class="default">&lt;?php<br />
$fruit_array </span><span class="keyword">= array(</span><span class="string">"apple"</span><span class="keyword">, </span><span class="string">"pear"</span><span class="keyword">, </span><span class="string">"orange"</span><span class="keyword">);<br />
</span><span class="default">$fruit_array </span><span class="keyword">= array(</span><span class="string">"a" </span><span class="keyword">=&gt; </span><span class="string">"apple"</span><span class="keyword">, </span><span class="string">"b" </span><span class="keyword">=&gt; </span><span class="string">"pear"</span><span class="keyword">, </span><span class="string">"c" </span><span class="keyword">=&gt; </span><span class="string">"orange"</span><span class="keyword">);<br />
<br />
if (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">array_search</span><span class="keyword">(</span><span class="string">"apple"</span><span class="keyword">, </span><span class="default">$fruit_array</span><span class="keyword">))<br />
</span><span class="comment">//PROBLEM: the first array returns a key of 0 and IF treats it as FALSE<br />
<br />
</span><span class="keyword">if (</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">array_search</span><span class="keyword">(</span><span class="string">"apple"</span><span class="keyword">, </span><span class="default">$fruit_array</span><span class="keyword">)))<br />
</span><span class="comment">//PROBLEM: works on numeric keys of the first array but fails on the second<br />
<br />
</span><span class="keyword">if (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">array_search</span><span class="keyword">(</span><span class="string">"apple"</span><span class="keyword">, </span><span class="default">$fruit_array</span><span class="keyword">)))<br />
</span><span class="comment">//PROBLEM: using the above in the wrong order causes $i to always equal 1<br />
<br />
</span><span class="keyword">if (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">array_search</span><span class="keyword">(</span><span class="string">"apple"</span><span class="keyword">, </span><span class="default">$fruit_array</span><span class="keyword">) !== </span><span class="default">FALSE</span><span class="keyword">)<br />
</span><span class="comment">//PROBLEM: explicit with no extra brackets causes $i to always equal 1<br />
<br />
</span><span class="keyword">if ((</span><span class="default">$i </span><span class="keyword">= </span><span class="default">array_search</span><span class="keyword">(</span><span class="string">"apple"</span><span class="keyword">, </span><span class="default">$fruit_array</span><span class="keyword">)) !== </span><span class="default">FALSE</span><span class="keyword">)<br />
</span><span class="comment">//YES: works on both arrays returning their keys<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="62810""></a>
  <div class="note">
   <strong class="user">congaz at yahoo dot dk</strong>
   <a href="#62810" class="date">10-Mar-2006 04:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Search a multi-dimensional array on keys!<br />
-------------------------------------------<br />
<br />
I needed to search dynamically in a multi-dimen array on keys. I came up with this little neat function. It is so amazingly simple, that I actually didn't think it would work - but it does... <br />
<br />
mixed array_searchMultiOnKeys(array, array);<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">array_searchMultiOnKeys</span><span class="keyword">(</span><span class="default">$multiArray</span><span class="keyword">, </span><span class="default">$searchKeysArray</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Iterate through searchKeys, making $multiArray smaller and smaller.<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">foreach (</span><span class="default">$searchKeysArray </span><span class="keyword">as </span><span class="default">$keySearch</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$multiArray </span><span class="keyword">= </span><span class="default">$multiArray</span><span class="keyword">[</span><span class="default">$keySearch</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">$multiArray</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Check $result. <br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$multiArray</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// An array was found at the end of the search. Return true.<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; else if (</span><span class="default">$result </span><span class="keyword">== </span><span class="string">''</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// There was nothing found at the end of the search. Return false.<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$result</span><span class="keyword">;<br />
</span><span class="comment">// End of function,<br />
</span><span class="keyword">}<br />
<br />
</span><span class="comment">// --- Test array_searchMultiOnKeys ---<br />
</span><span class="default">$multiArray</span><span class="keyword">[</span><span class="string">'webpages'</span><span class="keyword">][</span><span class="string">'downloads'</span><span class="keyword">][</span><span class="string">'music'</span><span class="keyword">] = </span><span class="default">1</span><span class="keyword">;<br />
</span><span class="default">$multiArray</span><span class="keyword">[</span><span class="string">'webpages'</span><span class="keyword">][</span><span class="string">'downloads'</span><span class="keyword">][</span><span class="string">'pressmaterial'</span><span class="keyword">] = </span><span class="default">5</span><span class="keyword">;<br />
</span><span class="default">$multiArray</span><span class="keyword">[</span><span class="string">'webpages'</span><span class="keyword">][</span><span class="string">'links'</span><span class="keyword">] = </span><span class="default">7</span><span class="keyword">;<br />
<br />
</span><span class="default">array_searchMultiOnKeys</span><span class="keyword">(</span><span class="default">$multiArray</span><span class="keyword">, array(</span><span class="string">'webpages'</span><span class="keyword">, </span><span class="string">'links'</span><span class="keyword">)); </span><span class="comment">// returns 7.<br />
</span><span class="default">array_searchMultiOnKeys</span><span class="keyword">(</span><span class="default">$multiArray</span><span class="keyword">, array(</span><span class="string">'webpages'</span><span class="keyword">, </span><span class="string">'downloads'</span><span class="keyword">)); </span><span class="comment">// returns true.<br />
</span><span class="default">array_searchMultiOnKeys</span><span class="keyword">(</span><span class="default">$multiArray</span><span class="keyword">, array(</span><span class="string">'webpages'</span><span class="keyword">, </span><span class="string">'downloads'</span><span class="keyword">, </span><span class="string">'software'</span><span class="keyword">)); </span><span class="comment">// returns false.<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
$multiArray / $searchKeysArray can be any size.<br />
<br />
Happy hacking...</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="61672""></a>
  <div class="note">
   <strong class="user"></strong>
   <a href="#61672" class="date">09-Feb-2006 03:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
may be good to take note of PHP's mind-boggling 'fuzzy' (vulgo "magic type-casting") comparison features not only in using the results, but also in the search, too:<br />
<span class="default">&lt;?php<br />
$a</span><span class="keyword">=array(</span><span class="string">"a"</span><span class="keyword">,</span><span class="string">"b"</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="string">"c"</span><span class="keyword">,</span><span class="string">"d"</span><span class="keyword">);<br />
echo </span><span class="string">"a: "</span><span class="keyword">.</span><span class="default">array_search</span><span class="keyword">(</span><span class="string">"a"</span><span class="keyword">,</span><span class="default">$a</span><span class="keyword">);<br />
echo </span><span class="string">"b: "</span><span class="keyword">.</span><span class="default">array_search</span><span class="keyword">(</span><span class="string">"b"</span><span class="keyword">,</span><span class="default">$a</span><span class="keyword">);<br />
echo </span><span class="string">"c: "</span><span class="keyword">.</span><span class="default">array_search</span><span class="keyword">(</span><span class="string">"c"</span><span class="keyword">,</span><span class="default">$a</span><span class="keyword">);<br />
echo </span><span class="string">"d: "</span><span class="keyword">.</span><span class="default">array_search</span><span class="keyword">(</span><span class="string">"d"</span><span class="keyword">,</span><span class="default">$a</span><span class="keyword">);<br />
echo </span><span class="string">"0: "</span><span class="keyword">.</span><span class="default">array_search</span><span class="keyword">(</span><span class="string">"0"</span><span class="keyword">,</span><span class="default">$a</span><span class="keyword">);<br />
echo </span><span class="string">"x: "</span><span class="keyword">.</span><span class="default">array_search</span><span class="keyword">(</span><span class="string">"x"</span><span class="keyword">,</span><span class="default">$a</span><span class="keyword">);<br />
echo </span><span class="string">"1: "</span><span class="keyword">.</span><span class="default">array_search</span><span class="keyword">(</span><span class="string">"1"</span><span class="keyword">,</span><span class="default">$a</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span>will result in:<br />
a: 0, b: 1, c: 2, d: 2, 0: 2, x: 2, 1: false<br />
<br />
as from "c" on, the first match found in $a is "0", as any string compared to an int is automatically cast to (int)0.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="46762""></a>
  <div class="note">
   <strong class="user"></strong>
   <a href="#46762" class="date">22-Oct-2004 02:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
There is no function to count the occurences of needle in haystack, so I made my own one...<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">array_match</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if( !</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">) ) return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; while( (</span><span class="default">in_array</span><span class="keyword">( </span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack </span><span class="keyword">)) != </span><span class="default">FALSE </span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$i</span><span class="keyword">++;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$haystack</span><span class="keyword">[</span><span class="default">array_search</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">)] = </span><span class="default">md5</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">reset</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$i</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
I know it's a bit crappy, but don't ask me too much, I'm still only 13... ;)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="39115""></a>
  <div class="note">
   <strong class="user">dennis dot decoene at removthis dot moveit dot be</strong>
   <a href="#39115" class="date">17-Jan-2004 07:41</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It has been said before: array_search is VERY slow. Everyone knows binary search is fast by design. Here is an implementation.<br />
<br />
<span class="default">&lt;?php<br />
$arr</span><span class="keyword">=array(</span><span class="default">1</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">,</span><span class="default">7</span><span class="keyword">,</span><span class="default">9</span><span class="keyword">,</span><span class="default">10</span><span class="keyword">,</span><span class="default">11</span><span class="keyword">,</span><span class="default">13</span><span class="keyword">);<br />
</span><span class="default">$searchfor </span><span class="keyword">= </span><span class="default">6</span><span class="keyword">;<br />
echo </span><span class="default">binsearch</span><span class="keyword">(</span><span class="default">$searchfor</span><span class="keyword">, </span><span class="default">$arr</span><span class="keyword">);<br />
<br />
</span><span class="comment">/**<br />
&nbsp;* @return integer<br />
&nbsp;* @param var $needle<br />
&nbsp;* @param array $haystack<br />
&nbsp;* @desc Feed a sorted array to $haystack and a value to search for to $needle.<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; It will return false if not found or the index where it was found.<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; This function is superfast. Try an array with 50.000 elements and search for something,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; you will be amazed.<br />
*/<br />
</span><span class="keyword">function </span><span class="default">binsearch</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$high </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$low </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; while (</span><span class="default">$high </span><span class="keyword">- </span><span class="default">$low </span><span class="keyword">&gt; </span><span class="default">1</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$probe </span><span class="keyword">= (</span><span class="default">$high </span><span class="keyword">+ </span><span class="default">$low</span><span class="keyword">) / </span><span class="default">2</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$haystack</span><span class="keyword">[</span><span class="default">$probe</span><span class="keyword">] &lt; </span><span class="default">$needle</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$low </span><span class="keyword">= </span><span class="default">$probe</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }else{<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$high </span><span class="keyword">= </span><span class="default">$probe</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$high </span><span class="keyword">== </span><span class="default">count</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">) || </span><span class="default">$haystack</span><span class="keyword">[</span><span class="default">$high</span><span class="keyword">] != </span><span class="default">$needle</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }else {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$high</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="37364""></a>
  <div class="note">
   <strong class="user">php at celerondude dot com</strong>
   <a href="#37364" class="date">12-Nov-2003 12:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I think array_search uses serial search because they binary search function i wrote here seems to do a better job for records that are not always at the beginning of the array. 
<br />

<br />
Here it is
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">binarySearch </span><span class="keyword">( </span><span class="default">$a</span><span class="keyword">, </span><span class="default">$t</span><span class="keyword">, </span><span class="default">$l</span><span class="keyword">, </span><span class="default">$r </span><span class="keyword">)
<br />
{
<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$t</span><span class="keyword">&lt;</span><span class="default">$a</span><span class="keyword">[</span><span class="default">$l</span><span class="keyword">]||</span><span class="default">$t</span><span class="keyword">&gt;</span><span class="default">$a</span><span class="keyword">[</span><span class="default">$r</span><span class="keyword">])return </span><span class="default">NULL</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; while ( </span><span class="default">$l </span><span class="keyword">&lt; </span><span class="default">$r </span><span class="keyword">)
<br />
&nbsp;&nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$m</span><span class="keyword">=</span><span class="default">intval</span><span class="keyword">(</span><span class="default">$l</span><span class="keyword">+</span><span class="default">$r</span><span class="keyword">)/</span><span class="default">2</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$a</span><span class="keyword">[</span><span class="default">$m</span><span class="keyword">]==</span><span class="default">$t</span><span class="keyword">)return </span><span class="default">$m</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; elseif(</span><span class="default">$t</span><span class="keyword">&lt;</span><span class="default">$a</span><span class="keyword">[</span><span class="default">$m</span><span class="keyword">])</span><span class="default">$r</span><span class="keyword">=</span><span class="default">$m</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; elseif(</span><span class="default">$t</span><span class="keyword">&gt;</span><span class="default">$a</span><span class="keyword">[</span><span class="default">$m</span><span class="keyword">])</span><span class="default">$l </span><span class="keyword">= </span><span class="default">$m </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$t</span><span class="keyword">==</span><span class="default">$a</span><span class="keyword">[</span><span class="default">$r</span><span class="keyword">])
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$r</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">NULL</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
usage:
<br />
binarySearch ( array, target, left range, right range );
<br />

<br />
if your array is a multidimensional array, simply change the comparison method. :)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="32883""></a>
  <div class="note">
   <strong class="user">cue at openxbox dot com</strong>
   <a href="#32883" class="date">10-Jun-2003 04:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you are using the result of array_search in a condition statement, make sure you use the === operator instead of == to test whether or not it found a match.&nbsp; Otherwise, searching through an array with numeric indicies will result in index 0 always getting evaluated as false/null.&nbsp; This nuance cost me a lot of time and sanity, so I hope this helps someone.&nbsp; In case you don't know what I'm talking about, here's an example:
<br />

<br />
<span class="default">&lt;?php
<br />
$code </span><span class="keyword">= array(</span><span class="string">"a"</span><span class="keyword">, </span><span class="string">"b"</span><span class="keyword">, </span><span class="string">"a"</span><span class="keyword">, </span><span class="string">"c"</span><span class="keyword">, </span><span class="string">"a"</span><span class="keyword">, </span><span class="string">"b"</span><span class="keyword">, </span><span class="string">"b"</span><span class="keyword">); </span><span class="comment">// infamous abacabb mortal kombat code :-P
<br />

<br />
// this is WRONG
<br />
</span><span class="keyword">while ((</span><span class="default">$key </span><span class="keyword">= </span><span class="default">array_search</span><span class="keyword">(</span><span class="string">"a"</span><span class="keyword">, </span><span class="default">$code</span><span class="keyword">)) != </span><span class="default">NULL</span><span class="keyword">)
<br />
{
<br />
&nbsp;</span><span class="comment">// infinite loop, regardless of the unset
<br />
&nbsp;</span><span class="keyword">unset(</span><span class="default">$code</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]);
<br />
}
<br />

<br />
</span><span class="comment">// this is _RIGHT_
<br />
</span><span class="keyword">while ((</span><span class="default">$key </span><span class="keyword">= </span><span class="default">array_search</span><span class="keyword">(</span><span class="string">"a"</span><span class="keyword">, </span><span class="default">$code</span><span class="keyword">)) !== </span><span class="default">NULL</span><span class="keyword">)
<br />
{
<br />
&nbsp;</span><span class="comment">// loop will terminate
<br />
&nbsp;</span><span class="keyword">unset(</span><span class="default">$code</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]);
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="31280""></a>
  <div class="note">
   <strong class="user">richard at richard-sumilang dot com</strong>
   <a href="#31280" class="date">16-Apr-2003 12:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php
<br />
</span><span class="comment">/**
<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; Search an array recursivly
<br />
&nbsp;&nbsp; &nbsp; *
<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; This function will search an array recursivly
<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; till it finds what it is looking for. An array
<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; within an array within an array within array
<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; is all good :-)
<br />
&nbsp;&nbsp; &nbsp; *
<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; @author&nbsp; &nbsp; &nbsp; &nbsp; Richard Sumilang&nbsp; &nbsp; &lt;richard@richard-sumilang.com&gt;
<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; @param&nbsp; &nbsp; &nbsp; &nbsp; string&nbsp; &nbsp; $needle&nbsp; &nbsp; &nbsp; &nbsp; What are you searching for?
<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; @param&nbsp; &nbsp; &nbsp; &nbsp; array&nbsp; &nbsp; $haystack&nbsp; &nbsp; What you want to search in
<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; @return&nbsp; &nbsp; &nbsp; &nbsp; boolean
<br />
&nbsp;&nbsp; &nbsp; *&nbsp; &nbsp; @access&nbsp; &nbsp; &nbsp; &nbsp; public
<br />
&nbsp;&nbsp; &nbsp; */
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">array_search_r</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">){
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$haystack </span><span class="keyword">as </span><span class="default">$value</span><span class="keyword">){
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">))
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$match</span><span class="keyword">=</span><span class="default">array_search_r</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$value</span><span class="keyword">==</span><span class="default">$needle</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$match</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$match</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">1</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">0</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; }
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="21182""></a>
  <div class="note">
   <strong class="user">swbrown at ucsd dot edu</strong>
   <a href="#21182" class="date">02-May-2002 10:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Be absolutely sure to check that your code that uses array_search now checks for 'false' too if you upgrade to PHP 4.2.0!<br />
<br />
I was using array_search in my page authentication routines and this change had the fun side-effect of causing my code to always think a user had full permissions!&nbsp; It was letting anyone click through to our installation of phpMyAdmin.&nbsp; Not good indeed!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
