<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>The MongoDB\BSON\UTCDateTime class</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="mongodb-bson-timestamp.tostring.html">? MongoDB\BSON\Timestamp::__toString</a></li>
      <li style="float: right;"><a href="mongodb-bson-utcdatetime.construct.html">MongoDB\BSON\UTCDateTime::__construct ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="book.bson.html">MongoDB\BSON</a></li>
    <li>The MongoDB\BSON\UTCDateTime class</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="class.mongodb-bson-utcdatetime" class="reference">

 <h1 class="title">The MongoDB\BSON\UTCDateTime class</h1>
 

 <div class="partintro"><p class="verinfo">(mongodb &gt;=1.0.0)</p>


  <div class="section" id="mongodb-bson-utcdatetime.intro">
   <h2 class="title">简介</h2>
   <p class="para">
    Represents a
    <a href="https://docs.mongodb.org/manual/reference/bson-types/#date" class="link external" title="Link : https://docs.mongodb.org/manual/reference/bson-types/#date">&raquo;&nbsp;BSON date</a>.
   </p>
  </div>


  <div class="section" id="mongodb-bson-utcdatetime.synopsis">
   <h2 class="title">类摘要</h2>


   <div class="classsynopsis">
    <div class="ooclass"></div>


    <div class="classsynopsisinfo">
     <span class="ooclass">
      <strong class="classname">MongoDB\BSON\UTCDateTime</strong>
     </span>
     
     <span class="oointerface">implements 
      <span class="interfacename"><a href="class.mongodb-bson-type.html" class="interfacename">MongoDB\BSON\Type</a></span>
     </span>
     {</div>

    
    <div class="classsynopsisinfo classsynopsisinfo_comment">/* 方法 */</div>
    <div class="methodsynopsis dc-description">
   <span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="mongodb-bson-utcdatetime.construct.html" class="methodname">__construct</a></span>
    ( <span class="methodparam"><span class="type">integer</span> <code class="parameter">$milliseconds</code></span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">final</span> <span class="modifier">public</span> <span class="type">DateTime</span> <span class="methodname"><a href="mongodb-bson-utcdatetime.todatetime.html" class="methodname">toDateTime</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">final</span> <span class="modifier">public</span> <span class="type">string</span> <span class="methodname"><a href="mongodb-bson-utcdatetime.tostring.html" class="methodname">__toString</a></span>
    ( <span class="methodparam">void</span>
   )</div>

   }</div>


  </div>

 </div>

 
 






 






 







<h2>Table of Contents</h2><ul class="chunklist chunklist_reference"><li><a href="mongodb-bson-utcdatetime.construct.html">MongoDB\BSON\UTCDateTime::__construct</a> &mdash; Construct a new UTCDateTime</li><li><a href="mongodb-bson-utcdatetime.todatetime.html">MongoDB\BSON\UTCDateTime::toDateTime</a> &mdash; Returns the DateTime representation of this UTCDateTime</li><li><a href="mongodb-bson-utcdatetime.tostring.html">MongoDB\BSON\UTCDateTime::__toString</a> &mdash; Returns the string representation of this UTCDateTime</li></ul>
</div>
<div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="120091""></a>
  <div class="note">
   <strong class="user">mark at DONTSPAM dot moderndeveloperllc dot com</strong>
   <a href="#120091" class="date">27-Oct-2016 11:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Be careful using UTCDateTime if you need microsecond precision as this class only stores time to the _millisecond_. You need to store the date as a string in MongoDB if you want the full precision. Casting DateTime to a float can also remove precision.<br />
<br />
An easy way to see the differences is with:<br />
<br />
Code:<br />
var_dump(<br />
&nbsp; (new DateTime)-&gt;format('U.u'), <br />
&nbsp; (float) (new DateTime)-&gt;format('U.u'), <br />
&nbsp; (new MongoDB\BSON\UTCDateTime())-&gt;toDateTime()-&gt;format('U.u')<br />
);<br />
<br />
Output:<br />
string(17) "1477534060.918415"<br />
double(1477534060.9185)<br />
string(17) "1477534060.918000"<br />
<br />
NOTE: Lots of bugs concerning microsecond formatting for DateTimeInterface classes were fixed as of PHP 7.1.0 RC4. The above code is from PHP 7.1.0 RC5 and mongodb 1.2.0alpha3. The 1.2.0 version of the extension added the ability to instantiate this class without passing integer milliseconds.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
