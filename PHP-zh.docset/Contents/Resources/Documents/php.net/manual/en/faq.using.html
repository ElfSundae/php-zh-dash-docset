<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>使用 PHP</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="faq.build.html">? 编译问题</a></li>
      <li style="float: right;"><a href="faq.passwords.html">密码散列 ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="faq.html">FAQ</a></li>
    <li>使用 PHP</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="faq.using" class="chapter">
  <h1>使用 PHP</h1>

  
  <p class="para">本节汇集了你在写 PHP 脚本时可能碰到的大多数普通错误。</p>
  <div class="qandaset"><ol class="qandaset_questions"><li><a href="#faq.using.parameterorder">
        我忘了PHP函数的参数顺序，它们是随机的吗？
      </a></li><li><a href="#faq.using.anyform">
        我想写一个可以处理任何表单来的数据的通用 PHP 脚本。我怎么知道哪个 POST 方法变量可用呢？
      </a></li><li><a href="#faq.using.addslashes">
        我需要在所有的单引号（&#039;）前加一个反斜线（\），使它们变成（\&#039;），我如何能够通过正则表达式来实现？我同样希望能够将（&quot;）转换成（\&quot;），将（\）转换成（\\）。
      </a></li><li><a href="#faq.using.stripslashes">
        我所有的（&quot;）和（&#039;）都被变成了（\&quot;）和（\&#039;），我如何才能去掉这些不必要的反斜线？它们为什么及如何出现？
      </a></li><li><a href="#faq.register-globals">
        PHP 选项 register_globals 对我有什么影响？
      </a></li><li><a href="#faq.using.wrong-order">
        当我这样做时，输出显示的次序是错的： 
        
          
&lt;?php
function myfunc($argument)
{
    echo $argument + 10;
}
$variable = 10;
echo &quot;myfunc($variable) = &quot; . myfunc($variable);
?&gt;

这是怎么回事？
      </a></li><li><a href="#faq.using.newlines">
        下面代码怎么没有分成两行显示？ 
        
          
&lt;pre&gt;
&lt;?php echo &quot;This should be the first line.&quot;; ?&gt;
&lt;?php echo &quot;This should show up after the new line above.&quot;; ?&gt;
&lt;/pre&gt;


      </a></li><li><a href="#faq.using.headers-sent">
        我得到消息&ldquo;Warning: Cannot send session cookie - headers already sent...&rdquo;或者&ldquo;Cannot add header information - headers already sent...&rdquo;。
      </a></li><li><a href="#faq.using.header">
        我需要直接访问请求报头中的信息，怎么能办到？
      </a></li><li><a href="#faq.using.authentication">
        当我用 IIS 进行 HTTP 认证时得到&ldquo;No Input file specified&rdquo;消息。
      </a></li><li><a href="#faq.using.iis.sharing">
        Windows：不能访问另一台电脑上用 IIS 共享的文件。
      </a></li><li><a href="#faq.using.mixml">
        我怎样混合使用 XML 和 PHP？它不认我的 &lt;?xml 标记！
      </a></li><li><a href="#faq.using.editor">
        怎样用 FrontPage 或者其它非要把我的代码移来移去的 HTML 编辑器来编辑 PHP？
      </a></li><li><a href="#faq.using.variables">
        哪里可以找到所有可用的 PHP 预定义变量的完整列表？
      </a></li><li><a href="#faq.using.freepdf">
        怎样才能不用非免费的商业库（例如 
        PDFLib） 来生成 PDF 文档？我想要个免费的并且不需要再连接别的 PDF 库。
      </a></li><li><a href="#faq.using.cgi-vars">
        我试着在用户自定义函数中访问一个标准的 CGI 变量（例如 $DOCUMENT_ROOT 或 $HTTP_REFERER），但是找不到，哪里出了错？
      </a></li><li><a href="#faq.using.shorthandbytes">
        有些 PHP　选项可以接受缩写的字节值，与仅能接受 
        integer字节值相反。都有哪些缩写字节值？可以将其用于 php.ini 之外吗？
      </a></li><li><a href="#faq.using.windowslocalhostissue">
        Windows: I keep getting connection timeouts when using 
        localhost, whereas 
        &quot;127.0.0.1&quot;works?
      </a></li></ol></div>
    <dl class="qandaentry" id="faq.using.parameterorder">
      <dt><strong>
        我忘了PHP函数的参数顺序，它们是随机的吗？
      </strong></dt>
      <dd class="answer">
        <p class="para">PHP is a glue that brings together hundreds of external libraries, so sometimes this gets messy. However, a simple rule of thumb is as follows:</p>
        <p class="para">
        <a href="book.array.html" class="link">Array function</a>parameters are ordered as &quot;
        <em class="emphasis">needle, haystack</em>&quot; whereas 
        <a href="book.strings.html" class="link">String functions</a>are the opposite, so &quot;
        <em class="emphasis">haystack, needle</em>&quot;.</p>
      </dd>
    </dl>
    <dl class="qandaentry" id="faq.using.anyform">
      <dt><strong>
        我想写一个可以处理任何表单来的数据的通用 PHP 脚本。我怎么知道哪个 POST 方法变量可用呢？
      </strong></dt>
      <dd class="answer">
      <p class="para">PHP 提供很多"
      <a href="language.variables.predefined.html" class="link">预定义变量</a>"，例如超全局变量 
      <var class="varname"><var class="varname"><a href="reserved.variables.post.html" class="classname">$_POST</a></var></var>。可以遍历 
      <var class="varname"><var class="varname"><a href="reserved.variables.post.html" class="classname">$_POST</a></var></var>变量，因为它是一个和所有通过 POST 方法传递数据相联系的数组。例如，可以用 
      <a href="control-structures.foreach.html" class="link">foreach</a>简单地遍历它，检查 
      <span class="function"><a href="function.empty.html" class="function">empty()</a></span>值，以及将它们输出。 
      <div class="example-contents">
        <div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$empty&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$post&nbsp;</span><span style="color: #007700">=&nbsp;array();<br />foreach&nbsp;(</span><span style="color: #0000BB">$_POST&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$varname&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$varvalue</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(empty(</span><span style="color: #0000BB">$varvalue</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$empty</span><span style="color: #007700">[</span><span style="color: #0000BB">$varname</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">$varvalue</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$post</span><span style="color: #007700">[</span><span style="color: #0000BB">$varname</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">$varvalue</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />print&nbsp;</span><span style="color: #DD0000">"&lt;pre&gt;"</span><span style="color: #007700">;<br />if&nbsp;(empty(</span><span style="color: #0000BB">$empty</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #DD0000">"None&nbsp;of&nbsp;the&nbsp;POSTed&nbsp;values&nbsp;are&nbsp;empty,&nbsp;posted:\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$post</span><span style="color: #007700">);<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #DD0000">"We&nbsp;have&nbsp;"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$empty</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"&nbsp;empty&nbsp;values\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #DD0000">"Posted:\n"</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$post</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #DD0000">"Empty:\n"</span><span style="color: #007700">;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$empty</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;exit;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
</div>
</p><blockquote class="note"><p><strong class="note">Note</strong>: <strong>Superglobal 可用性说明：</strong><br />
<p class="para">自 PHP 4.1.0 起可以使用 Superglobal 数组，例如  <var class="varname"><var class="varname"><a href="reserved.variables.get.html" class="classname">$_GET</a></var></var>，<var class="varname"><var class="varname"><a href="reserved.variables.post.html" class="classname">$_POST</a></var></var>，和
 <var class="varname"><var class="varname"><a href="reserved.variables.server.html" class="classname">$_SERVER</a></var></var>，等等。更多信息请阅读手册中的 <a href="language.variables.predefined.html" class="link">superglobals</a> 章节。</p></p></blockquote></dd>
    </dl>
    <dl class="qandaentry" id="faq.using.addslashes">
      <dt><strong>
        我需要在所有的单引号（&#039;）前加一个反斜线（\），使它们变成（\&#039;），我如何能够通过正则表达式来实现？我同样希望能够将（&quot;）转换成（\&quot;），将（\）转换成（\\）。
      </strong></dt>
      <dd class="answer">
      <p class="para">函数 
      <span class="function"><a href="function.addslashes.html" class="function">addslashes()</a></span>能够实现这种操作。请参阅函数 
      <span class="function"><a href="function.mysql-escape-string.html" class="function">mysql_escape_string()</a></span>。另外，还可以用函数 
      <span class="function"><a href="function.stripslashes.html" class="function">stripslashes()</a></span>来去掉反斜线。</p><blockquote class="note"><p><strong class="note">Note</strong>: <strong>设置选项说明： magic_quotes_gpc</strong><br />
<p class="para">设置选项<a href="info.configuration.html#ini.magic-quotes-gpc" class="link">magic_quotes_gpc</a>默认值为 <em>on</em>。相当于对所有 GET, POST, and COOKIE
 数据使用了 <span class="function"><a href="function.addslashes.html" class="function">addslashes()</a></span>。可以用 <span class="function"><a href="function.stripslashes.html" class="function">stripslashes()</a></span> 来去掉它们。</p></p></blockquote></dd>
    </dl>
    <dl class="qandaentry" id="faq.using.stripslashes">
      <dt><strong>
        我所有的（&quot;）和（&#039;）都被变成了（\&quot;）和（\&#039;），我如何才能去掉这些不必要的反斜线？它们为什么及如何出现？
      </strong></dt>
      <dd class="answer">
      <p class="para">PHP 函数 
      <span class="function"><a href="function.stripslashes.html" class="function">stripslashes()</a></span>能够从 
      <span class="type"><a href="language.types.string.html" class="type string">string</a></span>中去掉所有的反斜线。这些反斜线出现最有可能的原因是 PHP 设置项 
      <a href="info.configuration.html#ini.magic-quotes-gpc" class="link">magic_quotes_gpc</a>被开启。</p><blockquote class="note"><p><strong class="note">Note</strong>: <strong>设置选项说明： magic_quotes_gpc</strong><br />
<p class="para">设置选项<a href="info.configuration.html#ini.magic-quotes-gpc" class="link">magic_quotes_gpc</a>默认值为 <em>on</em>。相当于对所有 GET, POST, and COOKIE
 数据使用了 <span class="function"><a href="function.addslashes.html" class="function">addslashes()</a></span>。可以用 <span class="function"><a href="function.stripslashes.html" class="function">stripslashes()</a></span> 来去掉它们。</p></p></blockquote></dd>
    </dl>
    <dl class="qandaentry" id="faq.register-globals">
      <dt><strong>
        PHP 选项 register_globals 对我有什么影响？
      </strong></dt>
      <dd class="answer">
        <p class="para">首先要理解这个设置选项的作用。假如我们使用以下URL： 
        <em>http://example.com/foo.php?animal=cat</em>，那么在
        <var class="filename">foo.php</var>中我们可能会使用以下代码：</p>
        <p class="para">
          <div class="example-contents">
            <div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;建议使用这种访问变量的方式<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'animal'</span><span style="color: #007700">];<br /><br /></span><span style="color: #FF8000">//&nbsp;如果想直接访问$animal变量，就要把register_globals选项设置为on<br />//&nbsp;强烈建议不要这么做！！<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$animal</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;这个选项的值会影响到所有变量，包括$_SERVER<br />//&nbsp;以下是该选项设置为off时的正确写法<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'PHP_SELF'</span><span style="color: #007700">];<br /><br /></span><span style="color: #FF8000">//&nbsp;同样，要使$PHP_SELF变量自动生效，register_globals选项必须设置为on<br />//&nbsp;强烈建议不要这么做！！<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$PHP_SELF</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
</div>

        </p>
        <p class="para">上面的代码解释了register_globals的作用，就是自动生成变量。这种编程方式被很多人所不喜，所以在PHP当中register_globals默认设置为off。在PHP6，这个选项被删除了。所以目前绝大部分虚拟主机都默认把register_globals禁用。请注意，你在阅读过时的文章、教程时可能需要把该选项开启，否则可能示例代码不能通过。但在实际开发当中，强烈建议将其设置为off，否则可能会导致安全问题。</p>
        <p class="para">请参阅以下资源进一步了解： 
        <ul class="simplelist">
          <li class="member">The 
          <a href="ini.core.html#ini.register-globals" class="link">register_globals</a>选项</li>
          <li class="member">The 
          <a href="security.globals.html" class="link">注册全局变量的安全问题</a></li>
          <li class="member">
            <a href="language.variables.external.html" class="link">处理外部变量</a>
          </li>
          <li class="member">Use 
          <a href="language.variables.superglobals.html" class="link">超级全局变量</a></li>
        </ul></p>
        <blockquote class="note"><p><strong class="note">Note</strong>: 
          <p class="para">以上示例中，我们使用了一个
          <acronym title="Uniform Resource Locator">URL</acronym>，其中包含了一个QUERY_STRING。PHP会把QUERY_STRING中的信息通过GET HTTP请求传递，所以我们可以通过超级全局变量（superglobal）
          <var class="varname"><var class="varname"><a href="reserved.variables.get.html" class="classname">$_GET</a></var></var>来访问其中的变量。</p>
        </p></blockquote>
      </dd>
    </dl>
    <dl class="qandaentry" id="faq.using.wrong-order">
      <dt><strong>
        当我这样做时，输出显示的次序是错的： 
        <div class="example-contents">
          <div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">myfunc</span><span style="color: #007700">(</span><span style="color: #0000BB">$argument</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$argument&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">$variable&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">"myfunc(</span><span style="color: #0000BB">$variable</span><span style="color: #DD0000">)&nbsp;=&nbsp;"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">myfunc</span><span style="color: #007700">(</span><span style="color: #0000BB">$variable</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
</div>
这是怎么回事？
      </strong></dt>
      <dd class="answer">
        <p class="para">要在一个表达式中（例如在上面的例子中和其它字符串连接）使用函数的结果，需要 
        <span class="function"><a href="function.return.html" class="function">return</a></span>这个值，而不是 
        <span class="function"><a href="function.echo.html" class="function">echo</a></span>它。</p>
      </dd>
    </dl>
    <dl class="qandaentry" id="faq.using.newlines">
      <dt><strong>
        下面代码怎么没有分成两行显示？ 
        <div class="example-contents">
          <div class="phpcode"><code><span style="color: #000000">
&lt;pre&gt;<br /><span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">"This&nbsp;should&nbsp;be&nbsp;the&nbsp;first&nbsp;line."</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">?&gt;<br />&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">"This&nbsp;should&nbsp;show&nbsp;up&nbsp;after&nbsp;the&nbsp;new&nbsp;line&nbsp;above."</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">?&gt;<br /></span>&lt;/pre&gt;</span>
</code></div>
</div>

      </strong></dt>
      <dd class="answer">
        <p class="para">在 PHP 中，一段代码的结束标记要么是"?&gt;"要么是"?&gt;\n"（\n 表示换行）。因此在上面的例子中，输出的句子将显示在同一行中，因为 PHP 忽略了代码结束标记后面的换行。这意味着如果要输出一个换行符，需要在每段 PHP 代码的结束标记后面多加一个换行。</p>
        <p class="para">PHP 为什么这么做呢？因为在格式化正常的 HTML 时，这样通常会更容易。假如输出了换行而你不需要这个换行时，就不得不用一个非常长的行来达到这样的效果，或者让产生的 HTML 页面的源文件的格式很难读。</p>
      </dd>
    </dl>
    <dl class="qandaentry" id="faq.using.headers-sent">
      <dt><strong>
        我得到消息"Warning: Cannot send session cookie - headers already sent..."或者"Cannot add header information - headers already sent..."。
      </strong></dt>
      <dd class="answer">
        <p class="para">函数 
        <span class="function"><a href="function.header.html" class="function">header()</a></span>，
        <span class="function"><a href="function.setcookie.html" class="function">setcookie()</a></span>和 
        <a href="ref.session.html" class="link">session 函数</a>需要在输出流中添加头信息。但是头信息只能在其它任何输出内容之前发送。在使用这些函数前不能有任何（如 HTML）的输出。函数 
        <span class="function"><a href="function.headers-sent.html" class="function">headers_sent()</a></span>能够检查脚本是否已经发送了头信息。请参阅
        <a href="ref.outcontrol.html" class="link">输出控制函数</a>。</p>
      </dd>
    </dl>
    <dl class="qandaentry" id="faq.using.header">
      <dt><strong>
        我需要直接访问请求报头中的信息，怎么能办到？
      </strong></dt>
      <dd class="answer">
        <p class="para">如果以 Apache 的模块方式运行 PHP，那么函数 
        <span class="function"><a href="function.getallheaders.html" class="function">getallheaders()</a></span>可以做这件事。因此下面的代码可以显示所有的请求报头： 
        <div class="example-contents">
          <div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$headers&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">getallheaders</span><span style="color: #007700">();<br />foreach&nbsp;(</span><span style="color: #0000BB">$headers&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$name&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$content</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"headers[</span><span style="color: #0000BB">$name</span><span style="color: #DD0000">]&nbsp;=&nbsp;</span><span style="color: #0000BB">$content</span><span style="color: #DD0000">&lt;br&nbsp;/&gt;\n"</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
</div>
</p>
        <p class="para">请参阅函数 
        <span class="function"><a href="function.apache-lookup-uri.html" class="function">apache_lookup_uri()</a></span>、
        <span class="function"><a href="function.apache-response-headers.html" class="function">apache_response_headers()</a></span>和 
        <span class="function"><a href="function.fsockopen.html" class="function">fsockopen()</a></span>。</p>
      </dd>
    </dl>
    <dl class="qandaentry" id="faq.using.authentication">
      <dt><strong>
        当我用 IIS 进行 HTTP 认证时得到"No Input file specified"消息。
      </strong></dt>
      <dd class="answer">
        <p class="para">IIS 的安全模型这里有毛病。这是所有 IIS 下运行的 CGI 程序所共有的问题。一个解决办法是建立一个纯 HTML 文件（不经过 PHP 解析）作为要进入认证目录的登录页面，然后用 META 标记来重定向到 PHP 页面，或者用一个连接到 PHP 页面。然后 PHP 就可以正确识别认证信息了。如果是用 ISAPI 模块，那没有这个问题。其它 NT 下的 web 服务器不受此影响。更多信息见 
        <a href="http://support.microsoft.com/kb/q160422/" class="link external" title="Link : http://support.microsoft.com/kb/q160422/">&raquo;&nbsp;http://support.microsoft.com/kb/q160422/</a>及 
        <a href="features.http-auth.html" class="link">HTTP 认证</a>一章。</p>
      </dd>
    </dl>
    <dl class="qandaentry" id="faq.using.iis.sharing">
      <dt><strong>
        Windows：不能访问另一台电脑上用 IIS 共享的文件。
      </strong></dt>
      <dd class="answer">
        <p class="para">必须要做些修改。打开 
        <em>Internet 信息服务</em>，找到你的 PHP 文件并打开属性页，选择
        <em>文件安全性</em>标签，点击
        <em>匿名访问和身份验证控制</em>的"编辑"按钮。</p>
        <p class="para">解决此问题有两个方法，一是不要选中
        <em>匿名访问</em>并且选中
        <em>集成 Windows 身份验证</em>，二是选中
        <em>匿名访问</em>并编辑匿名访问使用的帐户，改成一个有权限的。</p>
      </dd>
    </dl>
    <dl class="qandaentry" id="faq.using.mixml">
      <dt><strong>
        我怎样混合使用 XML 和 PHP？它不认我的 &lt;?xml 标记！
      </strong></dt>
      <dd class="answer">
        <p class="para">要能够在 PHP 代码中直接嵌入 &lt;?xml，需要将 PHP 设置项 
        <a href="ini.core.html#ini.short-open-tag" class="link">short_open_tags</a>设置为 
        <em>0</em>以关闭短标记格式。无法通过函数 
        <span class="function"><a href="function.ini-set.html" class="function">ini_set()</a></span>来更改这项设置。不管 
        <a href="ini.core.html#ini.short-open-tag" class="link">short_open_tags</a>是开或者关，都可以用类似于 
        <em>&lt;?php echo &#039;&lt;?xml&#039;; ?&gt;</em>的方法达到目的。该项设置的默认值为开。</p>
      </dd>
    </dl>
    <dl class="qandaentry" id="faq.using.editor">
      <dt><strong>
        怎样用 FrontPage 或者其它非要把我的代码移来移去的 HTML 编辑器来编辑 PHP？
      </strong></dt>
      <dd class="answer">
        <p class="para">最简单的方法是让 PHP 代码也能使用 ASP 标记。这可以让你用 ASP 风格的 &lt;% 和 %&gt; 代码定界符。一些流行的 HTML 编辑器在处理此格式上更加智能化一些（目前如此）。要使用 ASP 风格的标记，需要在 <var class="filename">php.ini</var> 中打开 
        <a href="ini.core.html#ini.asp-tags" class="link">asp_tags</a>，或者用相应的 Apache 配置选项。</p>
      </dd>
    </dl>
    <dl class="qandaentry" id="faq.using.variables">
      <dt><strong>
        哪里可以找到所有可用的 PHP 预定义变量的完整列表？
      </strong></dt>
      <dd class="answer">
      <p class="para">请阅读手册中的
      <a href="language.variables.predefined.html" class="link">预定义变量</a>一章，该部分的文档已经包含了一部分可以用于你的脚本的预定义变量的列表。可用变量的完整列表（及更多信息）可以通过调用 
      <span class="function"><a href="function.phpinfo.html" class="function">phpinfo()</a></span>函数来查阅。请务必阅读手册中
      <a href="language.variables.external.html" class="link">来自 PHP 之外的变量</a>一节，这部分文档阐述了外部变量的概念，例如来自 HTML 表单、Cookie 和 URL 的变量。</p><blockquote class="note"><p><strong class="note">Note</strong>: <strong>register_globals 重要说明：</strong><br />
<p class="para">自 PHP 4.2.0 起，PHP 指令
 <a href="ini.core.html#ini.register-globals" class="link">register_globals</a> 的默认值为 <em class="emphasis">off</em>。PHP
 社区鼓励开发者不要依赖于此指令, 用其他手段替代，例如<a href="language.variables.predefined.html" class="link">superglobals</a>。</p></p></blockquote></dd>
    </dl>
    <dl class="qandaentry" id="faq.using.freepdf">
      <dt><strong>
        怎样才能不用非免费的商业库（例如 
        <a href="ref.pdf.html" class="link">PDFLib</a>） 来生成 PDF 文档？我想要个免费的并且不需要再连接别的 PDF 库。
      </strong></dt>
      <dd class="answer">
        <p class="para">有几个选择，例如 

      <a href="http://www.fpdf.org/" class="link external" title="Link : http://www.fpdf.org/">&raquo;&nbsp;FPDF</a> 和
      <a href="http://www.tcpdf.org/" class="link external" title="Link : http://www.tcpdf.org/">&raquo;&nbsp;TCPDF</a>模块。
      </p>
     <p class="para">
      There is also the <a href="book.haru.html" class="link">Haru</a> extension
      that uses the free libHaru external library.
     </p>
      </dd>
    </dl>
    <dl class="qandaentry" id="faq.using.cgi-vars">
      <dt><strong>
        我试着在用户自定义函数中访问一个标准的 CGI 变量（例如 $DOCUMENT_ROOT 或 $HTTP_REFERER），但是找不到，哪里出了错？
      </strong></dt>
      <dd class="answer">
      <p class="para">首先非常重要的一点是 PHP 设置项 
      <a href="ini.core.html#ini.register-globals" class="link">register_globals</a>同样会对服务器端和环境变量产生影响。当 register_globals = off （从 PHP 4.2.0 开始其默认值为 off），变量 
      <var class="varname"><var class="varname">$DOCUMENT_ROOT</var></var>将不会存在，而只有 
      <var class="varname"><var class="varname"><a href="reserved.variables.server.html" class="classname">$_SERVER['DOCUMENT_ROOT']</a></var></var>。如果 register_globals = on 则变量 
      <var class="varname"><var class="varname">$DOCUMENT_ROOT</var></var>和 
      <var class="varname"><var class="varname"><a href="reserved.variables.globals.html" class="classname">$GLOBALS['DOCUMENT_ROOT']</a></var></var>将同时存在。</p>
      <p class="para">如果确认 register_globals = on 但不知道为什么 
      <var class="varname"><var class="varname">$DOCUMENT_ROOT</var></var>在函数内部不可用，这是因为它和其它的变量一样需要在函数中执行 
      <em>global $DOCUMENT_ROOT</em>。请参阅手册中的
      <a href="language.variables.scope.html" class="link">变量范围</a>一节。建议在 register_globals = off 的情况下进行编码。</p><blockquote class="note"><p><strong class="note">Note</strong>: <strong>Superglobal 可用性说明：</strong><br />
<p class="para">自 PHP 4.1.0 起可以使用 Superglobal 数组，例如  <var class="varname"><var class="varname"><a href="reserved.variables.get.html" class="classname">$_GET</a></var></var>，<var class="varname"><var class="varname"><a href="reserved.variables.post.html" class="classname">$_POST</a></var></var>，和
 <var class="varname"><var class="varname"><a href="reserved.variables.server.html" class="classname">$_SERVER</a></var></var>，等等。更多信息请阅读手册中的 <a href="language.variables.predefined.html" class="link">superglobals</a> 章节。</p></p></blockquote></dd>
    </dl>
    <dl class="qandaentry" id="faq.using.shorthandbytes">
      <dt><strong>
        有些 PHP　选项可以接受缩写的字节值，与仅能接受 
        <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>字节值相反。都有哪些缩写字节值？可以将其用于 <var class="filename">php.ini</var> 之外吗？
      </strong></dt>
      <dd class="answer">
        <p class="para">可用的选择有 K（对应 Kilobytes），M（对应 Megabytes）和 G（对应 Gigabytes；自 PHP 5.1.0 起可用），区分大小写。其余的都认为是字节。
        <em>1M</em>等于一个 Megabyte，即 
        <em>1048576</em>字节。
        <em>1K</em>等于一个 Kilobyte，即 
        <em>1024</em>字节。不能在 <var class="filename">php.ini</var> 之外使用这些符号，最好用整数的 
        <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>字节值。参见 
        <span class="function"><a href="function.ini-get.html" class="function">ini_get()</a></span>文档中的转换示例。</p>
        <blockquote class="note"><p><strong class="note">Note</strong>: 
          <strong>kilobyte versus kibibyte</strong><br />
          <p class="para">The PHP notation describes one kilobyte as equalling 1024 bytes, whereas the 
          <acronym>IEC</acronym>standard considers this to be a kibibyte instead. Summary: k and K = 1024 bytes.</p>
        </p></blockquote>
      </dd>
    </dl>
    <dl class="qandaentry" id="faq.using.windowslocalhostissue">
      <dt><strong>
        Windows: I keep getting connection timeouts when using 
        <em>localhost</em>, whereas 
        <em>&quot;127.0.0.1&quot;</em>works?
      </strong></dt>
      <dd class="answer">
        <p class="para">Prior to PHP 5.3.4, there was a bug in the network resolving code inside PHP that caused 
        <em>localhost</em>in all stream related situations to fail if IPv6 was enabled. To work around this issue you can either use 
        <em>&quot;127.0.0.1&quot;</em>or disable IPv6 resolving in the 
        <var class="filename">hosts</var>file.</p>
      </dd>
    </dl>
  
</div>
<div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="120016""></a>
  <div class="note">
   <strong class="user">robjbrain at gmail dot com</strong>
   <a href="#120016" class="date">11-Oct-2016 01:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
There is no error message given if you accidentally use KB, MB or GB instead of K, M or G. From what I can tell the alphabetic characters will be ignored and it will be treated as bytes, so 1GB actually equals 1 Byte. phpinfo() and ini_get() will report what you have written e.g. 1GB, so it will not be clear that there is anything wrong with your setting even though there is.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="118614""></a>
  <div class="note">
   <strong class="user">forlfa at aol dot com</strong>
   <a href="#118614" class="date">09-Jan-2016 03:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
/*Array function parameters are ordered as "needle, haystack" whereas String functions are the opposite, so "haystack, needle".*/<br />
<br />
I'm putting that at the top of every .php file I own.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="117253""></a>
  <div class="note">
   <strong class="user">thierrybo</strong>
   <a href="#117253" class="date">10-May-2015 10:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Using php 5.4.27 memory_limit = -1 does not give unlimited memory but actually 10485760 bytes (or 10M)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="90781""></a>
  <div class="note">
   <strong class="user">info at zankmusic dot com</strong>
   <a href="#90781" class="date">09-May-2009 06:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Just spent a couple days on this one...<br />
As previously posted, if you set<br />
upload_max_filesize = 0.25M, the value reads correctly in phpinfo(), BUT it is effectively ZERO when implemented.<br />
<br />
Note that the following also give ZERO bytes:<br />
<br />
upload_max_filesize =&nbsp; 10M&nbsp; (note the two white spaces before 10M), but the phpinfo() reads '10M' and everything looks ok.<br />
<br />
I removed all white spaces in my php.ini file and viola...working fine again.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="78405""></a>
  <div class="note">
   <strong class="user">greenie2600 at yahoo dot com</strong>
   <a href="#78405" class="date">10-Oct-2007 07:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's a simple function that will convert the shorthand values described in point 64.16 to a number of bytes.<br />
<br />
I use this to display the maximum size of file uploads to the user, so they don't waste time uploading a huge file only to find that it's too big. (I've been unable to find any browsers that actually support the MAX_FILE_SIZE technique described in chapter 38, and it's certainly not part of any W3C spec, so this is the next best thing.) <br />
<br />
Here's how you'd use my function for that purpose (though you might want to abstract this to a function of its own):<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">echo </span><span class="string">'Maximum file size: ' </span><span class="keyword">. </span><span class="default">convertBytes</span><span class="keyword">( </span><span class="default">ini_get</span><span class="keyword">( </span><span class="string">'upload_max_filesize' </span><span class="keyword">) ) / </span><span class="default">1048576 </span><span class="keyword">. </span><span class="string">'MB'</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
And here's the function:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/**<br />
&nbsp;* Convert a shorthand byte value from a PHP configuration directive to an integer value<br />
&nbsp;* @param&nbsp; &nbsp; string&nbsp;&nbsp; $value<br />
&nbsp;* @return&nbsp;&nbsp; int<br />
&nbsp;*/<br />
</span><span class="keyword">function </span><span class="default">convertBytes</span><span class="keyword">( </span><span class="default">$value </span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; if ( </span><span class="default">is_numeric</span><span class="keyword">( </span><span class="default">$value </span><span class="keyword">) ) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$value_length </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">( </span><span class="default">$value </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$qty </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">( </span><span class="default">$value</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$value_length </span><span class="keyword">- </span><span class="default">1 </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$unit </span><span class="keyword">= </span><span class="default">strtolower</span><span class="keyword">( </span><span class="default">substr</span><span class="keyword">( </span><span class="default">$value</span><span class="keyword">, </span><span class="default">$value_length </span><span class="keyword">- </span><span class="default">1 </span><span class="keyword">) );<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; switch ( </span><span class="default">$unit </span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="string">'k'</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$qty </span><span class="keyword">*= </span><span class="default">1024</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="string">'m'</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$qty </span><span class="keyword">*= </span><span class="default">1048576</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="string">'g'</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$qty </span><span class="keyword">*= </span><span class="default">1073741824</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$qty</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="76143""></a>
  <div class="note">
   <strong class="user">kjn</strong>
   <a href="#76143" class="date">02-Jul-2007 10:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
64.16 Byte Values<br />
<br />
The number that precedes K, M, or G should be an integer.<br />
<br />
E.g. this php.ini directive:<br />
&nbsp;&nbsp; post_max_size = 0.25M<br />
is interpreted as 0, and thus prevents all POSTs.<br />
<br />
It is particularly unhelpful that phpinfo() reports the string value assigned to post_max_size (0.25M), and not the numerical value that PHP extracts from that string (0M).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
