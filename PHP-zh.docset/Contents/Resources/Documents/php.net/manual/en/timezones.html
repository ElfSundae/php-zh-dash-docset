<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>所支持的时区列表</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="datetime.formats.relative.html">? Relative Formats</a></li>
      <li style="float: right;"><a href="timezones.africa.html">非洲 ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="book.datetime.html">日期/时间</a></li>
    <li>所支持的时区列表</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="timezones" class="appendix">
 <h1>所支持的时区列表</h1>
<h2>Table of Contents</h2><ul class="chunklist chunklist_appendix"><li><a href="timezones.africa.html">非洲</a></li><li><a href="timezones.america.html">美洲</a></li><li><a href="timezones.antarctica.html">南极洲</a></li><li><a href="timezones.arctic.html">北极</a></li><li><a href="timezones.asia.html">亚洲</a></li><li><a href="timezones.atlantic.html">大西洋</a></li><li><a href="timezones.australia.html">澳洲</a></li><li><a href="timezones.europe.html">欧洲</a></li><li><a href="timezones.indian.html">印度</a></li><li><a href="timezones.pacific.html">太平洋地区</a></li><li><a href="timezones.others.html">其他</a></li></ul>

 <p class="para">在这你可找到 PHP 所支持的所有时区的列表，可用于诸如 <span class="function"><a href="function.date-default-timezone-set.html" class="function">date_default_timezone_set()</a></span> 等函数。</p>
<blockquote class="note"><p><strong class="note">Note</strong>: <span class="simpara">最新版的时区数据库可从
 PECL 的 <a href="http://pecl.php.net/get/timezonedb" class="link external" title="Link : http://pecl.php.net/get/timezonedb">&raquo;&nbsp;timezonedb</a>
 进行安装。</span></p></blockquote>

 <blockquote class="note"><p><strong class="note">Note</strong>: 
  <span class="simpara">
   基于时区数据库版本的列表 2016.4.
  </span>
 </p></blockquote>

 

 

 

 

 

 

 

 

 

 

 
</div>
<div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="119178""></a>
  <div class="note">
   <strong class="user">wimarbueno at gmail dot com,Wilzon Mario Bueno</strong>
   <a href="#119178" class="date">16-Apr-2016 09:33</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Se genera la lista de zonas horarias de forma dinámica, y por lo tanto se actualiza automáticamente cuando se podrían cambiar las zonas horarias (en PHP).<br />
<br />
function timezone_list() {<br />
&nbsp;&nbsp;&nbsp; static $timezones = null;<br />
&nbsp;<br />
&nbsp;&nbsp;&nbsp; if ($timezones === null) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $timezones = [];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $offsets = [];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $now = new DateTime();<br />
&nbsp;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (DateTimeZone::listIdentifiers() as $timezone) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $now-&gt;setTimezone(new DateTimeZone($timezone));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $offsets[] = $offset = $now-&gt;getOffset();<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $timezones[$timezone] = '(' . format_GMT_offset($offset) . ') ' . format_timezone_name($timezone);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; array_multisort($offsets, $timezones);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;<br />
&nbsp;&nbsp;&nbsp; return $timezones;<br />
}<br />
&nbsp;<br />
function format_GMT_offset($offset) {<br />
&nbsp;&nbsp;&nbsp; $hours = intval($offset / 3600);<br />
&nbsp;&nbsp;&nbsp; $minutes = abs(intval($offset % 3600 / 60));<br />
&nbsp;&nbsp;&nbsp; return 'GMT' . ($offset ? sprintf('%+03d:%02d', $hours, $minutes) : '');<br />
}<br />
&nbsp;<br />
function format_timezone_name($name) {<br />
&nbsp;&nbsp;&nbsp; $name = str_replace('/', ', ', $name);<br />
&nbsp;&nbsp;&nbsp; $name = str_replace('_', ' ', $name);<br />
&nbsp;&nbsp;&nbsp; $name = str_replace('St ', 'St. ', $name);<br />
&nbsp;&nbsp;&nbsp; return $name;<br />
}<br />
&nbsp;<br />
// Uso<br />
$timezone = timezone_list();<br />
echo '&lt;pre&gt;';<br />
&nbsp;&nbsp;&nbsp; print_r($timezone);<br />
echo '&lt;/pre&gt;';<br />
<br />
// Aquí es un ejemplo de la salida:<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [Pacific/Midway]&nbsp; &nbsp; =&gt; (GMT-11:00) Pacific, Midway<br />
&nbsp;&nbsp;&nbsp; [Pacific/Niue]&nbsp; &nbsp; &nbsp; =&gt; (GMT-11:00) Pacific, Niue<br />
&nbsp;&nbsp;&nbsp; [Pacific/Pago_Pago] =&gt; (GMT-11:00) Pacific, Pago Pago<br />
&nbsp;&nbsp;&nbsp; [America/Adak]&nbsp; &nbsp; &nbsp; =&gt; (GMT-10:00) America, Adak<br />
&nbsp;&nbsp;&nbsp; [Pacific/Honolulu]&nbsp; =&gt; (GMT-10:00) Pacific, Honolulu<br />
&nbsp;&nbsp;&nbsp; [Pacific/Johnston]&nbsp; =&gt; (GMT-10:00) Pacific, Johnston<br />
&nbsp;&nbsp;&nbsp; [Pacific/Rarotonga] =&gt; (GMT-10:00) Pacific, Rarotonga<br />
&nbsp;&nbsp;&nbsp; [Pacific/Tahiti]&nbsp; &nbsp; =&gt; (GMT-10:00) Pacific, Tahiti<br />
&nbsp;&nbsp;&nbsp; [Pacific/Marquesas] =&gt; (GMT-09:30) Pacific, Marquesas<br />
&nbsp;&nbsp;&nbsp; [America/Anchorage] =&gt; (GMT-09:00) America, Anchorage<br />
&nbsp;&nbsp;&nbsp; [America/Juneau]&nbsp; &nbsp; =&gt; (GMT-08:00) America, Juneau<br />
&nbsp;&nbsp;&nbsp; [America/Metlakatla] =&gt; (GMT-08:00) America, Metlakatla<br />
&nbsp;&nbsp;&nbsp; [America/Nome]&nbsp; &nbsp; &nbsp; =&gt; (GMT-08:00) America, Nome<br />
&nbsp;&nbsp;&nbsp; [America/Sitka]&nbsp; &nbsp;&nbsp; =&gt; (GMT-08:00) America, Sitka<br />
&nbsp;&nbsp;&nbsp; [America/Yakutat]&nbsp;&nbsp; =&gt; (GMT-08:00) America, Yakutat<br />
&nbsp;&nbsp;&nbsp; [Pacific/Pitcairn]&nbsp; =&gt; (GMT-08:00) Pacific, Pitcairn<br />
&nbsp;&nbsp;&nbsp; [America/Creston]&nbsp;&nbsp; =&gt; (GMT-07:00) America, Creston<br />
&nbsp;&nbsp;&nbsp; [America/Dawson]&nbsp; &nbsp; =&gt; (GMT-07:00) America, Dawson<br />
&nbsp;&nbsp;&nbsp; ...<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="119076""></a>
  <div class="note">
   <strong class="user">hacker at gaucho dot com</strong>
   <a href="#119076" class="date">29-Mar-2016 11:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
why the corresponding GMT to S?o Paulo is like "Etc/GMT + 3" and not "Etc/GMT-3?</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="118515""></a>
  <div class="note">
   <strong class="user">aayaresko at gmail dot com</strong>
   <a href="#118515" class="date">18-Dec-2015 07:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
to know time zones offset in seconds and hours I used this method.<br />
<span class="default">&lt;?php<br />
$time_zones </span><span class="keyword">= </span><span class="default">$timezone_identifiers </span><span class="keyword">= \</span><span class="default">DateTimeZone</span><span class="keyword">::</span><span class="default">listIdentifiers</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$time_zones </span><span class="keyword">as </span><span class="default">$time_zone</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$date </span><span class="keyword">= new \</span><span class="default">DateTime</span><span class="keyword">(</span><span class="string">'now'</span><span class="keyword">, new \</span><span class="default">DateTimeZone</span><span class="keyword">(</span><span class="default">$time_zone</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$offset_in_hours </span><span class="keyword">= </span><span class="default">$date</span><span class="keyword">-&gt;</span><span class="default">getOffset</span><span class="keyword">() / </span><span class="default">60 </span><span class="keyword">/ </span><span class="default">60</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (!</span><span class="default">is_null</span><span class="keyword">(</span><span class="default">$offset</span><span class="keyword">) &amp;&amp; </span><span class="default">$offset </span><span class="keyword">== </span><span class="default">$offset_in_hours</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"</span><span class="keyword">{</span><span class="default">$time_zone</span><span class="keyword">}</span><span class="string">: </span><span class="keyword">{</span><span class="default">$date</span><span class="keyword">-&gt;</span><span class="default">getOffset</span><span class="keyword">()}</span><span class="string"> (</span><span class="default">$offset_in_hours</span><span class="string">)&lt;br&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="117417""></a>
  <div class="note">
   <strong class="user">mblaney at gmail dot com</strong>
   <a href="#117417" class="date">08-Jun-2015 03:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Follow up to William's helpful advice:<br />
php -r 'echo join(timezone_identifiers_list(), ",");'</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="116935""></a>
  <div class="note">
   <strong class="user">William</strong>
   <a href="#116935" class="date">24-Mar-2015 06:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To get a list programmatically, I use \DateTimeZone::listIdentifiers() (you may encounter its alias timezone_identifiers_list()): <a href="http://php.net/DateTimeZone.listIdentifiers" rel="nofollow" target="_blank">http://php.net/DateTimeZone.listIdentifiers</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
