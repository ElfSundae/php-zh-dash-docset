<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>需求</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="mssql.setup.html">? 安装／配置</a></li>
      <li style="float: right;"><a href="mssql.installation.html">安装 ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="mssql.setup.html">安装／配置</a></li>
    <li>需求</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="mssql.requirements" class="section">
  <h2 class="title">需求</h2>
  <p class="para">
   Requirements for Win32 platforms.
  </p>
  <p class="para">
   The extension requires the MS SQL Client Tools to be installed
   on the system where PHP is installed. The Client Tools can
   be installed from the MS SQL Server CD or by copying
   <var class="filename">ntwdblib.dll</var> from 
   <var class="filename">\winnt\system32</var> on the server to
   <var class="filename">\winnt\system32</var> on the PHP box.
   Copying <var class="filename">ntwdblib.dll</var> will only provide access
   through named pipes.
   Configuration of the client will require installation of all the tools.
  </p>
  <p class="para">
   This extension is not available anymore on Windows with PHP 5.3 or later.
  </p>
  <p class="para">
   SqlSrv, an alternative driver for MS SQL is available from Microsoft: <a href="http://msdn.microsoft.com/en-us/sqlserver/ff657782.aspx" class="link external" title="Link : http://msdn.microsoft.com/en-us/sqlserver/ff657782.aspx">&raquo;&nbsp;http://msdn.microsoft.com/en-us/sqlserver/ff657782.aspx</a>.
  </p>
  <p class="para">
   Requirements for Unix/Linux platforms.
  </p>
  <p class="para">
   To use the MSSQL extension on Unix/Linux, you first need to build and 
   install the FreeTDS library. Source code and installation instructions 
   are available at the FreeTDS home page: 
   <a href="http://www.freetds.org/" class="link external" title="Link : http://www.freetds.org/">&raquo;&nbsp;http://www.freetds.org/</a>
  </p>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <p class="para">
    On Windows, the DBLIB from Microsoft is used. Functions that return a
    column name are based on the <em>dbcolname()</em> function 
    in DBLIB.  DBLIB was developed for SQL Server 6.x where the max
    identifier length is 30.  For this reason, the maximum column length 
    is 30 characters.  On platforms where FreeTDS is used (Linux), this is
    not a problem.
   </p>
  </p></blockquote>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <p class="para">
    On Windows, if you&#039;re using MSSQL 2005 or greater you must copy the 
    <em>ntwdblib.dll</em> into the directory where you have 
    installed php and overwrite the one thats already in there. This is 
    due to the version distributed is  old and outdated. Alternatively you 
    can use the <a href="http://msdn.microsoft.com/en-us/sqlserver/ff657782.aspx" class="link external" title="Link : http://msdn.microsoft.com/en-us/sqlserver/ff657782.aspx">&raquo;&nbsp;http://msdn.microsoft.com/en-us/sqlserver/ff657782.aspx</a>, 
    <a href="book.uodbc.html" class="link">ODBC</a>, 
    <a href="ref.pdo-dblib.html" class="link">PDO_DBLIB</a> or 
    <a href="ref.pdo-odbc.html" class="link">PDO_ODBC</a> extensions, to talk to MSSQL.
   </p>
  </p></blockquote>
 </div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="96516""></a>
  <div class="note">
   <strong class="user">mihabo at hotmail dot com</strong>
   <a href="#96516" class="date">03-Mar-2010 12:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I have struggled a lot to make PHP connect to a MS SQL server from under a Linux (using FreeTDS).<br />
I installed the latest FreeTDS and tried to use usual host:port to connect to a server.<br />
Finally when I configured freetds.conf like that:<br />
<br />
[mysrvalias]<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; host = 192.168.17.17<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; port = 1433<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; tds version = 7.0<br />
<br />
and used mysrvalias instead of the 192.168.17.17:1433, it worked!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
