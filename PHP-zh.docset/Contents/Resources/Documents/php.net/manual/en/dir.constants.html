<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>预定义常量</title>

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="dir.resources.html">? 资源类型</a></li>
      <li style="float: right;"><a href="class.directory.html">Directory ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="book.dir.html">目录</a></li>
    <li>预定义常量</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="dir.constants" class="appendix">
 <h1>预定义常量</h1>

 <p class="simpara">下列常量由此扩展定义，且仅在此扩展编译入 PHP 或在运行时动态载入时可用。</p>
 <dl>

  
   <dt>

    <strong><code>DIRECTORY_SEPARATOR</code></strong>
     (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)
   </dt>

   <dd>

    <span class="simpara">

    </span>
   </dd>

  
  
   <dt>

    <strong><code>PATH_SEPARATOR</code></strong>
     (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>)
   </dt>

   <dd>

    <span class="simpara">

    </span>
   </dd>

  
 </dl>

 <blockquote class="note"><p><strong class="note">Note</strong>: 
  <span class="simpara">
   <strong><code>PATH_SEPARATOR</code></strong> 是在 PHP 4.3.0-RC2 中引入。
  </span>
 </p></blockquote>
</div>
<div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="117680""></a>
  <div class="note">
   <strong class="user">orlov0562 at gmail dot com</strong>
   <a href="#117680" class="date">21-Jul-2015 04:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
While debugging, this function return error number and it's difficult to remember all errors codes, so I think it's should be there.<br />
<br />
<span class="default">&lt;?php<br />
print_r</span><span class="keyword">([<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'PREG_NO_ERROR' </span><span class="keyword">=&gt; </span><span class="default">PREG_NO_ERROR</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'PREG_INTERNAL_ERROR' </span><span class="keyword">=&gt; </span><span class="default">PREG_INTERNAL_ERROR</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'PREG_BACKTRACK_LIMIT_ERROR' </span><span class="keyword">=&gt; </span><span class="default">PREG_BACKTRACK_LIMIT_ERROR</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'PREG_RECURSION_LIMIT_ERROR' </span><span class="keyword">=&gt; </span><span class="default">PREG_RECURSION_LIMIT_ERROR</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'PREG_BAD_UTF8_ERROR' </span><span class="keyword">=&gt; </span><span class="default">PREG_BAD_UTF8_ERROR</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'PREG_BAD_UTF8_OFFSET_ERROR' </span><span class="keyword">=&gt; </span><span class="default">PREG_BAD_UTF8_OFFSET_ERROR</span><span class="keyword">,<br />
]);<br />
</span><span class="default">?&gt;<br />
</span><br />
Result:<br />
<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [PREG_NO_ERROR] =&gt; 0<br />
&nbsp;&nbsp;&nbsp; [PREG_INTERNAL_ERROR] =&gt; 1<br />
&nbsp;&nbsp;&nbsp; [PREG_BACKTRACK_LIMIT_ERROR] =&gt; 2<br />
&nbsp;&nbsp;&nbsp; [PREG_RECURSION_LIMIT_ERROR] =&gt; 3<br />
&nbsp;&nbsp;&nbsp; [PREG_BAD_UTF8_ERROR] =&gt; 4<br />
&nbsp;&nbsp;&nbsp; [PREG_BAD_UTF8_OFFSET_ERROR] =&gt; 5<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="117518""></a>
  <div class="note">
   <strong class="user">Harrison</strong>
   <a href="#117518" class="date">23-Jun-2015 09:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
DIRECTORY_SEPARATOR is a lifesaver! A hacker must never know what php files you have included into your php webpages or your php scripts that javascript calls upon. If you were to use '/' to include a file, the hacker can instantly know that the file you included is there, however, if you use DIRECTORY_SEPARATOR then the hacker would not know the file has been included.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114579""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#114579" class="date">09-Mar-2014 12:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In PHP 5.6 you can make a variadic function.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/**<br />
&nbsp;* Builds a file path with the appropriate directory separator.<br />
&nbsp;* @param string $segments,... unlimited number of path segments<br />
&nbsp;* @return string Path<br />
&nbsp;*/<br />
</span><span class="keyword">function </span><span class="default">file_build_path</span><span class="keyword">(...</span><span class="default">$segments</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">join</span><span class="keyword">(</span><span class="default">DIRECTORY_SEPARATOR</span><span class="keyword">, </span><span class="default">$segments</span><span class="keyword">);<br />
}<br />
<br />
</span><span class="default">file_build_path</span><span class="keyword">(</span><span class="string">"home"</span><span class="keyword">, </span><span class="string">"alice"</span><span class="keyword">, </span><span class="string">"Documents"</span><span class="keyword">, </span><span class="string">"example.txt"</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
In earlier PHP versions you can use func_get_args.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">file_build_path</span><span class="keyword">() {<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">join</span><span class="keyword">(</span><span class="default">DIRECTORY_SEPARATOR</span><span class="keyword">, </span><span class="default">func_get_args</span><span class="keyword">(</span><span class="default">$segments</span><span class="keyword">));<br />
}<br />
<br />
</span><span class="default">file_build_path</span><span class="keyword">(</span><span class="string">"home"</span><span class="keyword">, </span><span class="string">"alice"</span><span class="keyword">, </span><span class="string">"Documents"</span><span class="keyword">, </span><span class="string">"example.txt"</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="113343""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#113343" class="date">30-Sep-2013 01:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For my part I'll continue to use this constant because it seems more future safe and flexible, even if Windows installations currently convert the paths magically. Not that syntax aesthetics matter but I think it can be made to look attractive:<br />
<br />
<span class="default">&lt;?php<br />
$path </span><span class="keyword">= </span><span class="default">join</span><span class="keyword">(</span><span class="default">DIRECTORY_SEPARATOR</span><span class="keyword">, array(</span><span class="string">'root'</span><span class="keyword">, </span><span class="string">'lib'</span><span class="keyword">, </span><span class="string">'file.php'</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="113236""></a>
  <div class="note">
   <strong class="user">Paulo Marques</strong>
   <a href="#113236" class="date">16-Sep-2013 11:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
DIRECTORY_SEPARATOR is not necessarily needed, PHP always converts / to the appropriate character in its file functions.<br />
It is good practice, though.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
