<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>返回运行 PHP 的系统的有关信息</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.php-sapi-name.html">? php_sapi_name</a></li>
      <li style="float: right;"><a href="function.phpcredits.html">phpcredits ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.info.html">PHP 选项/信息 函数</a></li>
    <li>返回运行 PHP 的系统的有关信息</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.php-uname" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">php_uname</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.2, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">php_uname</span> &mdash; <span class="dc-title">返回运行 PHP 的系统的有关信息</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.php-uname-description">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>php_uname</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$mode</code><span class="initializer"> = &quot;a&quot;</span></span>
   ) : <span class="type">string</span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>php_uname()</strong></span> 返回了运行 PHP 的操作系统的描述。
   这和 <span class="function"><a href="function.phpinfo.html" class="function">phpinfo()</a></span> 最顶端上输出的是同一个字符串。
   如果仅仅要获取操作系统的名称。可以考虑使用常量 <strong><code>PHP_OS</code></strong>，不过要注意该常量会包含 PHP 构建（<em class="emphasis">built</em>）时的操作系统名。
  </p>
  <p class="para">
   在一些旧的 UNIX 平台，它有可能无法检测到当前系统的信息，然后会还原显示成构建 PHP 时的系统信息。
   这仅仅在你的 uname() 函数库不存在或无法运行时发生。
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.php-uname-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">mode</code></dt>

     <dd>

      <p class="para">
       <code class="parameter">mode</code> 是单个字符，用于定义要返回什么信息：
       <ul class="itemizedlist">
        <li class="listitem">
         <span class="simpara">
          <code class="literal">&#039;a&#039;</code>：此为默认。包含序列 <code class="literal">&quot;s n r v m&quot;</code> 里的所有模式。
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          <code class="literal">&#039;s&#039;</code>：操作系统名称。例如：
           <code class="literal">FreeBSD</code>。
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          <code class="literal">&#039;n&#039;</code>：主机名。例如：
          <code class="literal">localhost.example.com</code>。
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          <code class="literal">&#039;r&#039;</code>：版本名称，例如：
          <code class="literal">5.1.2-RELEASE</code>。
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          <code class="literal">&#039;v&#039;</code>：版本信息。操作系统之间有很大的不同。
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          <code class="literal">&#039;m&#039;</code>：机器类型。例如：<code class="literal">i386</code>。
         </span>
        </li>
       </ul>
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.php-uname-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   返回描述字符串。
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.php-uname-examples">
  <h3 class="title">范例</h3>
  <p class="para">
   <div class="example" id="example-524">
    <p><strong>Example #1 一些 <span class="function"><strong>php_uname()</strong></span> 的例子</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">php_uname</span><span style="color: #007700">();<br />echo&nbsp;</span><span style="color: #0000BB">PHP_OS</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">/*&nbsp;比如有些会输出：<br />Linux&nbsp;localhost&nbsp;2.4.21-0.13mdk&nbsp;#1&nbsp;Fri&nbsp;Mar&nbsp;14&nbsp;15:08:06&nbsp;EST&nbsp;2003&nbsp;i686<br />Linux<br /><br />FreeBSD&nbsp;localhost&nbsp;3.2-RELEASE&nbsp;#15:&nbsp;Mon&nbsp;Dec&nbsp;17&nbsp;08:46:02&nbsp;GMT&nbsp;2001<br />FreeBSD<br /><br />Windows&nbsp;NT&nbsp;XN1&nbsp;5.1&nbsp;build&nbsp;2600<br />WINNT<br />*/<br /><br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">strtoupper</span><span style="color: #007700">(</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">PHP_OS</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">))&nbsp;===&nbsp;</span><span style="color: #DD0000">'WIN'</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'This&nbsp;is&nbsp;a&nbsp;server&nbsp;using&nbsp;Windows!'</span><span style="color: #007700">;<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'This&nbsp;is&nbsp;a&nbsp;server&nbsp;not&nbsp;using&nbsp;Windows!'</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
  <p class="para">
   同样可以方便地使用一些相关的 <a href="language.constants.predefined.html" class="link">PHP 预定义常量</a>，例如：
   <div class="example" id="getopt.examples-1">
    <p><strong>Example #2 一些系统相关常量的例子</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;*nix<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">DIRECTORY_SEPARATOR</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;/<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">PHP_SHLIB_SUFFIX</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;so<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">PATH_SEPARATOR</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;:<br /><br />//&nbsp;Win*<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">DIRECTORY_SEPARATOR</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;\<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">PHP_SHLIB_SUFFIX</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;dll<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">PATH_SEPARATOR</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.php-uname-seealso">
  <h3 class="title">参见</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.phpversion.html" class="function" rel="rdfs-seeAlso">phpversion()</a> - 获取当前的PHP版本</span></li>
    <li class="member"><span class="function"><a href="function.php-sapi-name.html" class="function" rel="rdfs-seeAlso">php_sapi_name()</a> - 返回 web 服务器和 PHP 之间的接口类型</span></li>
    <li class="member"><span class="function"><a href="function.phpinfo.html" class="function" rel="rdfs-seeAlso">phpinfo()</a> - 输出关于 PHP 配置的信息</span></li>
   </ul>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="125400""></a>
  <div class="note">
   <strong class="user">pyst</strong>
   <a href="#125400" class="date">30-Sep-2020 01:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that the argument is not a "format". This means that <span class="default">&lt;?php uname</span><span class="keyword">(</span><span class="string">'a'</span><span class="keyword">) </span><span class="default">?&gt;</span> is not equivalent to <span class="default">&lt;?php uname</span><span class="keyword">(</span><span class="string">'s n r v m'</span><span class="keyword">) </span><span class="default">?&gt;</span>, but rather <span class="default">&lt;?php uname</span><span class="keyword">(</span><span class="string">'s'</span><span class="keyword">) . </span><span class="string">' ' </span><span class="keyword">. </span><span class="default">uname</span><span class="keyword">(</span><span class="string">'n'</span><span class="keyword">) . </span><span class="string">' ' </span><span class="keyword">. </span><span class="default">uname</span><span class="keyword">(</span><span class="string">'r'</span><span class="keyword">) . </span><span class="string">' ' </span><span class="keyword">. </span><span class="default">uname</span><span class="keyword">(</span><span class="string">'v'</span><span class="keyword">) . </span><span class="string">' ' </span><span class="keyword">. </span><span class="default">uname</span><span class="keyword">(</span><span class="string">'m'</span><span class="keyword">) </span><span class="default">?&gt;</span>.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="124206""></a>
  <div class="note">
   <strong class="user">Ricardo Striquer (ricardophp yohoocombr)</strong>
   <a href="#124206" class="date">18-Sep-2019 05:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Although it does not indicate receiving parameters this function allows some chars as parameters, they are the options a; m; n; r; s; v.<br />
<br />
I don't know exactly what each one does, but below is a code example and its output on PHP 5.5 running on RedHat 4.4<br />
<br />
<span class="default">&lt;?php <br />
</span><span class="keyword">echo </span><span class="string">'&lt;pre&gt;'</span><span class="keyword">;<br />
echo </span><span class="string">'(void): '</span><span class="keyword">.</span><span class="default">php_uname</span><span class="keyword">().</span><span class="string">"\n"</span><span class="keyword">; </span><span class="comment">// output: "(void): Linux web989.uni5.net 4.4.180 #1 SMP Wed May 22 15:27:37 -03 2019 x86_64"<br />
</span><span class="keyword">echo </span><span class="string">'a: '</span><span class="keyword">.</span><span class="default">php_uname</span><span class="keyword">(</span><span class="string">'a'</span><span class="keyword">).</span><span class="string">"\n"</span><span class="keyword">; </span><span class="comment">// output: "a: Linux web989.uni5.net 4.4.180 #1 SMP Wed May 22 15:27:37 -03 2019 x86_64"<br />
</span><span class="keyword">echo </span><span class="string">'m: '</span><span class="keyword">.</span><span class="default">php_uname</span><span class="keyword">(</span><span class="string">'m'</span><span class="keyword">).</span><span class="string">"\n"</span><span class="keyword">; </span><span class="comment">// output: "m: x86_64"<br />
</span><span class="keyword">echo </span><span class="string">'n: '</span><span class="keyword">.</span><span class="default">php_uname</span><span class="keyword">(</span><span class="string">'n'</span><span class="keyword">).</span><span class="string">"\n"</span><span class="keyword">; </span><span class="comment">// output: "n: web989.uni5.net"<br />
</span><span class="keyword">echo </span><span class="string">'r: '</span><span class="keyword">.</span><span class="default">php_uname</span><span class="keyword">(</span><span class="string">'r'</span><span class="keyword">).</span><span class="string">"\n"</span><span class="keyword">; </span><span class="comment">// output: "r: 4.4.180"<br />
</span><span class="keyword">echo </span><span class="string">'s: '</span><span class="keyword">.</span><span class="default">php_uname</span><span class="keyword">(</span><span class="string">'s'</span><span class="keyword">).</span><span class="string">"\n"</span><span class="keyword">; </span><span class="comment">// output: "s: Linux"<br />
</span><span class="keyword">echo </span><span class="string">'v: '</span><span class="keyword">.</span><span class="default">php_uname</span><span class="keyword">(</span><span class="string">'v'</span><span class="keyword">).</span><span class="string">"\n"</span><span class="keyword">; </span><span class="comment">// output: "v: #1 SMP Wed May 22 15:27:37 -03 2019"<br />
// echo file_get_contents('/etc/issue')."\n";<br />
<br />
</span><span class="keyword">echo </span><span class="string">'&lt;/pre&gt;'</span><span class="keyword">;<br />
</span><span class="default">phpinfo</span><span class="keyword">();<br />
</span><span class="default">?&gt;<br />
</span><br />
Note that I used file_get_contentes with a file, that file is present in most linux boxies and varies on content, but most of times it indicates kernel version, linux version, distribution and so on. In my case my user didn't have access to the file, so to identify that it was a red hat I paid attention to php_info outputs, there in the middle was the postgress driver description, p. eg indicating the distribution.<br />
<br />
I guess there is no easy way to find out the server version programmatically a 100% of times, but by and large you can get around by yourself.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="110199""></a>
  <div class="note">
   <strong class="user">Grzechooo+php at gmail dot com</strong>
   <a href="#110199" class="date">29-Sep-2012 05:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that PHP won't tell you that it reverted to displaying platform it was built on.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="105524""></a>
  <div class="note">
   <strong class="user">Yzmir Ramirez</strong>
   <a href="#105524" class="date">24-Aug-2011 10:00</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that php_uname('n') does not always equal $_SERVER['HOST_NAME']<br />
<br />
The machine that you are running the script may server many different host names so don't use this when building urls.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
