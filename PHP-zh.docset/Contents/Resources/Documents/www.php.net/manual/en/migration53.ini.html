<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>INI 文件处理改变</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="migration53.global-constants.html">? 新的全局常量</a></li>
      <li style="float: right;"><a href="migration53.other.html">其他改变 ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="migration53.html">从 PHP 5.2.x 移植到 PHP 5.3.x</a></li>
    <li>INI 文件处理改变</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="migration53.ini" class="section">
  <h2 class="title">INI 文件处理改变</h2>
  <p class="simpara">
   PHP 5.3.0 显著改进了 INI 文件的性能和解析, 并且新增了若干语法功能.
  </p>
  <ul class="itemizedlist">
   <li class="listitem">
    <span class="simpara">
     标准的 <var class="filename">php.ini</var> 文件被重新组织和命名. 
     <em>php.ini-development</em> 包含在开发环境中推荐使用的设置. <em>php.ini-production</em>
     包含在生产环境中推荐使用的设置.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     支持两个特殊章节:
     <em>[PATH=/opt/httpd/www.example.com/]</em> 和 
     <em>[HOST=www.example.com]</em>. 这两个章节里的指令不能被用户定义的 INI 文件或者运行时覆盖. 关于这些章节的更多信息, 可以<a href="ini.sections.html" class="link">这里</a>找到.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     移除了 <em>zend_extension_debug</em> and
     <em>zend_extension_ts</em>. 使用
     <em>zend_extension</em> 指令来加载全部 Zend 扩展.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     移除了 <em>zend.ze1_compatibility_mode</em>. 如果该 INI 指令被设置为 On, 启动时将抛出 <strong><code>E_ERROR</code></strong> 级别错误.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     在 &quot;<a href="ini.core.html#ini.extension" class="link"><em>extension</em></a>&quot; 指令中可以使用全路径来加载模块.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     <em>&quot;ini变量&quot;</em> 现在几乎在 <var class="filename">php.ini</var> 文件的任何地方都可以使用.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     可以在运行时收紧 <em>open_basedir</em> 限制条件.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     可以在 INI 选项数组中使用字母数字或者变量.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     <span class="function"><a href="function.get-cfg-var.html" class="function">get_cfg_var()</a></span> 现在可以返回 &quot;数组(array)&quot; INI 选项.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     添加了一个新指令 mail.add_x_header.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     user_ini.filename 是新增的.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     user_ini.cache_ttl 也是新增的.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     exit_on_timeout 也是新增的.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     open_basedir 现在是 PHP_INI_ALL 的.
    </span>
   </li>
  </ul>
  <p class="simpara">
   新增以下指令:
  </p>
  <ul class="itemizedlist">
   <li class="listitem">
    <span class="simpara">
     新的 .htaccess-style 用户 INI 文件机制中的 <em>user_ini.filename</em> 和
     <em>user_ini.cache_ttl</em>.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     新增 <em>mbstring.http_output_conv_mimetype</em>. 
     该指令指定了 <span class="function"><a href="function.mb-output-handler.html" class="function">mb_output_handler()</a></span> 激活内容类型的正则表达式.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     新增 <em>request_order</em>. 允许控制哪些外部变量在 <var class="varname"><var class="varname"><a href="reserved.variables.request.html" class="classname">$_REQUEST</a></var></var> 中可用.
    </span>
   </li>
  </ul>
  <p class="simpara">
   以下 ini 指令默认值更新:
  </p>
  <ul class="itemizedlist">
   <li class="listitem">
    <span class="simpara">
     <em>session.use_only_cookies</em> 默认被设置为 <em>&quot;1&quot;</em>(打开).
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     <em>oci8.default_prefetch</em> 变更为从 <em>&quot;10&quot;</em> 到 <em>&quot;100&quot;</em>.
    </span>
   </li>
  </ul>
 </div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
 <div class="note">There are no user contributed notes for this page.</div>
</div>
</div></div></body></html>
