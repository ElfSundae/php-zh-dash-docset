<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>合并一个或多个数组</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.array-merge-recursive.html">? array_merge_recursive</a></li>
      <li style="float: right;"><a href="function.array-multisort.html">array_multisort ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.array.html">数组 函数</a></li>
    <li>合并一个或多个数组</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.array-merge" class="refentry">
   <div class="refnamediv">
    <h1 class="refname">array_merge</h1>
    <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">array_merge</span> &mdash; <span class="dc-title">合并一个或多个数组</span></p>

   </div>
 <div class="refsect1 description" id="refsect1-function.array-merge-description">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>array_merge</strong></span>
    ( <span class="methodparam"><span class="type">array</span> <code class="parameter">$...</code> = ?</span>
   ) : <span class="type">array</span></div>

    <p class="para rdfs-comment">
     将一个或多个数组的单元合并起来，一个数组中的值附加在前一个数组的后面。返回作为结果的数组。
    </p>
    <p class="para">
     如果输入的数组中有相同的字符串键名，则该键名后面的值将覆盖前一个值。然而，如果数组包含数字键名，后面的值将
     <em class="emphasis">不会</em> 覆盖原来的值，而是附加到后面。
    </p>
    <p class="para">
     如果输入的数组存在以数字作为索引的内容，则这项内容的键名会以连续方式重新索引。
    </p>
   </div>

 




 <div class="refsect1 parameters" id="refsect1-function.array-merge-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">...</code></dt>

     <dd>

      <p class="para">
       要合并的数组。
      </p>
     </dd>

    
   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.array-merge-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   返回合并后的结果数组。如果参数为空，则返回空 <span class="type">array</span>。
  </p>
 </div>

 

 <div class="refsect1 changelog" id="refsect1-function.array-merge-changelog">
  <h3 class="title">更新日志</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>版本</th>
       <th>说明</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>7.4.0</td>
       <td>
        允许不带参数调用，之前版本至少需要一个参数。
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 
 <div class="refsect1 examples" id="refsect1-function.array-merge-examples">
  <h3 class="title">范例</h3>
  <p class="para">
   <div class="example" id="example-4798">
    <p><strong>Example #1 <span class="function"><strong>array_merge()</strong></span> 示例</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$array1&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">"color"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"red"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$array2&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">"a"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"b"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"color"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"green"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"shape"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"trapezoid"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_merge</span><span style="color: #007700">(</span><span style="color: #0000BB">$array1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$array2</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>以上例程会输出：</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
Array
(
    [color] =&gt; green
    [0] =&gt; 2
    [1] =&gt; 4
    [2] =&gt; a
    [3] =&gt; b
    [shape] =&gt; trapezoid
    [4] =&gt; 4
)
</pre></div>
    </div>
   </div>
  </p>
  <p class="para">
   <div class="example" id="example-4799">
    <p><strong>Example #2 Simple <span class="function"><strong>array_merge()</strong></span> 示例</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$array1&nbsp;</span><span style="color: #007700">=&nbsp;array();<br /></span><span style="color: #0000BB">$array2&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"data"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_merge</span><span style="color: #007700">(</span><span style="color: #0000BB">$array1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$array2</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>
     别忘了数字键名将会被重新编号！
    </p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
Array
(
    [0] =&gt; data
)
</pre></div>
    </div>
    <div class="example-contents"><p>
     如果你想完全保留原有数组并只想新的数组附加到后面，可以使用
     <code class="literal">+</code> 运算符：
    </p></div>


    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$array1&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">0&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'zero_a'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'two_a'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'three_a'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$array2&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'one_b'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'three_b'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">4&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'four_b'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$array1&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">$array2</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>
     第一个数组的键名将会被保留。在两个数组中存在相同的键名时，第一个数组中的同键名的元素将会被保留，第二个数组中的元素将会被忽略。
    </p></div>



    <div class="example-contents screen">
<div class="cdata"><pre>
array(5) {
  [0]=&gt;
  string(6) &quot;zero_a&quot;
  [2]=&gt;
  string(5) &quot;two_a&quot;
  [3]=&gt;
  string(7) &quot;three_a&quot;
  [1]=&gt;
  string(5) &quot;one_b&quot;
  [4]=&gt;
  string(6) &quot;four_b&quot;
}
</pre></div>
    </div>
   </div>
  </p>
  <p class="para">
   <div class="example" id="example-4800">
    <p><strong>Example #3 <span class="function"><strong>array_merge()</strong></span> 合并非数组的类型</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$beginning&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$end&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'bar'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_merge</span><span style="color: #007700">((array)</span><span style="color: #0000BB">$beginning</span><span style="color: #007700">,&nbsp;(array)</span><span style="color: #0000BB">$end</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>以上例程会输出：</p></div>
    <div class="example-contents screen">
    <div class="cdata"><pre>
    Array
    (
        [0] =&gt; foo
        [1] =&gt; bar
    )
</pre></div>
    </div>
   </div>
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-function.array-merge-seealso">
  <h3 class="title">参见</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.array-merge-recursive.html" class="function" rel="rdfs-seeAlso">array_merge_recursive()</a> - 递归地合并一个或多个数组</span></li>
    <li class="member"><span class="function"><a href="function.array-replace.html" class="function" rel="rdfs-seeAlso">array_replace()</a> - 使用传递的数组替换第一个数组的元素</span></li>
    <li class="member"><span class="function"><a href="function.array-combine.html" class="function" rel="rdfs-seeAlso">array_combine()</a> - 创建一个数组，用一个数组的值作为其键名，另一个数组的值作为其值</span></li>
    <li class="member"><a href="language.operators.array.html" class="link">数组操作符</a></li>
   </ul>
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="124819""></a>
  <div class="note">
   <strong class="user">fsb at thefsb dot org</strong>
   <a href="#124819" class="date">12-Mar-2020 11:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
We no longer need array_merge() as of PHP 7.4.<br />
<br />
&nbsp;&nbsp;&nbsp; [...$a, ...$b]<br />
<br />
does the same as<br />
<br />
&nbsp;&nbsp;&nbsp; array_merge($a, $b)<br />
<br />
and can be faster too.<br />
<br />
https://wiki.php.net/rfc/spread_operator_for_array#advantages_over_array_merge</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="124748""></a>
  <div class="note">
   <strong class="user">Md. Abutaleb</strong>
   <a href="#124748" class="date">24-Feb-2020 06:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php <br />
</span><span class="comment">/* Please note that, the array_merge() function replaces the first key by the second key if both arrays contain the same key. But consider the following code where key '3' is string not integer. In that case ('3') is consider as numeric and generating new numeric key instead of replacing by second one to first one <br />
*/<br />
<br />
</span><span class="default">$array1 </span><span class="keyword">= array(</span><span class="default">0 </span><span class="keyword">=&gt; </span><span class="string">'zero_a'</span><span class="keyword">, </span><span class="default">2 </span><span class="keyword">=&gt; </span><span class="string">'two_a'</span><span class="keyword">, </span><span class="string">'3' </span><span class="keyword">=&gt; </span><span class="string">'three_a'</span><span class="keyword">, </span><span class="string">'name' </span><span class="keyword">=&gt; </span><span class="string">'First Name'</span><span class="keyword">);<br />
</span><span class="default">$array2 </span><span class="keyword">= array(</span><span class="default">1 </span><span class="keyword">=&gt; </span><span class="string">'one_b'</span><span class="keyword">, </span><span class="default">2 </span><span class="keyword">=&gt; </span><span class="string">'Two b'</span><span class="keyword">, </span><span class="string">'3' </span><span class="keyword">=&gt; </span><span class="string">'three_b'</span><span class="keyword">, </span><span class="string">'name' </span><span class="keyword">=&gt; </span><span class="string">'Second Name'</span><span class="keyword">);<br />
<br />
</span><span class="default">$output </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">, </span><span class="default">$array2</span><span class="keyword">);<br />
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$output</span><span class="keyword">);<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [</span><span class="default">0</span><span class="keyword">] =&gt; </span><span class="default">zero_a<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] =&gt; </span><span class="default">two_a<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">[</span><span class="default">2</span><span class="keyword">] =&gt; </span><span class="default">three_a<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">[</span><span class="default">name</span><span class="keyword">] =&gt; </span><span class="default">Second Name<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">[</span><span class="default">3</span><span class="keyword">] =&gt; </span><span class="default">one_b<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">[</span><span class="default">4</span><span class="keyword">] =&gt; </span><span class="default">Two b<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">[</span><span class="default">5</span><span class="keyword">] =&gt; </span><span class="default">three_b<br />
</span><span class="keyword">)<br />
<br />
</span><span class="comment">//Hope it will helpful. <br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="124521""></a>
  <div class="note">
   <strong class="user">souzacomprog at gmail dot com</strong>
   <a href="#124521" class="date">18-Dec-2019 11:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Sometimes we need to traverse an array and group / merge the indexes so that it is easier to extract them so that they are related in the iteration.<br />
<br />
<span class="default">&lt;?php<br />
<br />
$people </span><span class="keyword">= [<br />
&nbsp;&nbsp;&nbsp; [</span><span class="string">'id' </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">, </span><span class="string">'name' </span><span class="keyword">=&gt; </span><span class="string">'Hayley'</span><span class="keyword">],<br />
&nbsp;&nbsp;&nbsp; [</span><span class="string">'id' </span><span class="keyword">=&gt; </span><span class="default">2</span><span class="keyword">, </span><span class="string">'name' </span><span class="keyword">=&gt; </span><span class="string">'Jack'</span><span class="keyword">, </span><span class="string">'dad' </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">],<br />
&nbsp;&nbsp;&nbsp; [</span><span class="string">'id' </span><span class="keyword">=&gt; </span><span class="default">3</span><span class="keyword">, </span><span class="string">'name' </span><span class="keyword">=&gt; </span><span class="string">'Linus'</span><span class="keyword">, </span><span class="string">'dad' </span><span class="keyword">=&gt; </span><span class="default">4</span><span class="keyword">],<br />
&nbsp;&nbsp;&nbsp; [</span><span class="string">'id' </span><span class="keyword">=&gt; </span><span class="default">4</span><span class="keyword">, </span><span class="string">'name' </span><span class="keyword">=&gt; </span><span class="string">'Peter'</span><span class="keyword">],<br />
&nbsp;&nbsp;&nbsp; [</span><span class="string">'id' </span><span class="keyword">=&gt; </span><span class="default">5</span><span class="keyword">, </span><span class="string">'name' </span><span class="keyword">=&gt; </span><span class="string">'Tom'</span><span class="keyword">, </span><span class="string">'dad' </span><span class="keyword">=&gt; </span><span class="default">4</span><span class="keyword">],<br />
];<br />
<br />
</span><span class="comment">// We set up an array with just the children<br />
</span><span class="keyword">function </span><span class="default">children</span><span class="keyword">(</span><span class="default">$dad</span><span class="keyword">, </span><span class="default">$people</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$children </span><span class="keyword">= [];<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$people </span><span class="keyword">as </span><span class="default">$p</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (!empty(</span><span class="default">$p</span><span class="keyword">[</span><span class="string">"dad"</span><span class="keyword">]) &amp;&amp; </span><span class="default">$p</span><span class="keyword">[</span><span class="string">"dad"</span><span class="keyword">] == </span><span class="default">$dad</span><span class="keyword">[</span><span class="string">"id"</span><span class="keyword">]) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$children</span><span class="keyword">[] = </span><span class="default">$p</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$children</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$family </span><span class="keyword">= [];<br />
<br />
</span><span class="comment">// We merge each child with its respective parent<br />
</span><span class="keyword">foreach (</span><span class="default">$people </span><span class="keyword">as </span><span class="default">$p</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$children </span><span class="keyword">= </span><span class="default">children</span><span class="keyword">(</span><span class="default">$p</span><span class="keyword">, </span><span class="default">$people</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$children </span><span class="keyword">!= []) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$family</span><span class="keyword">[] = </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$p</span><span class="keyword">, [</span><span class="string">"children" </span><span class="keyword">=&gt; </span><span class="default">$children</span><span class="keyword">]);<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$family</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
//OUTPUT<br />
<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [id] =&gt; 1<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [name] =&gt; Hayley<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [children] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [id] =&gt; 2<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [name] =&gt; Jack<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [dad] =&gt; 1<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [id] =&gt; 4<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [name] =&gt; Peter<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [children] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [id] =&gt; 3<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [name] =&gt; Linus<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [dad] =&gt; 4<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [1] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [id] =&gt; 5<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [name] =&gt; Tom<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [dad] =&gt; 4<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="124495""></a>
  <div class="note">
   <strong class="user">ousseni dot work at gmail dot com</strong>
   <a href="#124495" class="date">09-Dec-2019 01:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A good function to merge by keys<br />
<br />
/**<br />
* @param $array1....$arrayn<br />
*/<br />
public function array_merge_keys(){<br />
&nbsp;&nbsp; &nbsp; $args = func_get_args();<br />
&nbsp;&nbsp; &nbsp; $result = array();<br />
&nbsp;&nbsp; &nbsp; foreach($args as $array)<br />
&nbsp;&nbsp; &nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach($array as $key=&gt;$value)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $result[$key] = $value;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; return $result;<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="124055""></a>
  <div class="note">
   <strong class="user">makjoybd [at] gmail [dot] com</strong>
   <a href="#124055" class="date">22-Jul-2019 08:25</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
$a = array(1,2,3);&nbsp; &nbsp; // an array<br />
$b = 5;&nbsp; // anything but not an array<br />
<br />
$c = array_merge($a, $b); // shows a PHP warning: Argument #2 is not an array<br />
<br />
var_dump($c); // output as NULL<br />
<br />
// now merge in reverse order<br />
$d = array_merge($b, $a); // shows a PHP warning: Argument #1 is not an array<br />
<br />
var_dump($d); // output as NULL<br />
<br />
NOTE: For any operation that relies on the previous array merge operation it is highly necessary to check the arguments as well as the result of the merge are arrays before continuing&nbsp; as the warning would not stop the operation and this might result in data loss and what not... and this should also be stated in the .documentation. Example #3 somewhat started to demonstrate this but used type casting which made this irrelevant to this matter.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="123212""></a>
  <div class="note">
   <strong class="user">pike-common at kw dot nl</strong>
   <a href="#123212" class="date">08-Oct-2018 01:49</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
When mixing string keys and numeric keys, numeric keys are still renumbered after merge.<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $test1</span><span class="keyword">= array(</span><span class="string">"foo"</span><span class="keyword">=&gt;</span><span class="string">"rfoo1"</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">=&gt;</span><span class="string">"r21"</span><span class="keyword">,</span><span class="string">"bar"</span><span class="keyword">=&gt;</span><span class="string">"rbar1"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$test2</span><span class="keyword">= array(</span><span class="string">"foo"</span><span class="keyword">=&gt;</span><span class="string">"rfoo2"</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">=&gt;</span><span class="string">"r22"</span><span class="keyword">,</span><span class="string">"bar"</span><span class="keyword">=&gt;</span><span class="string">"rbar2"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$test1</span><span class="keyword">,</span><span class="default">$test2</span><span class="keyword">));<br />
</span><span class="default">?&gt;<br />
</span>&nbsp; array(4) {<br />
&nbsp;&nbsp;&nbsp; ["foo"]=&gt;<br />
&nbsp;&nbsp;&nbsp; string(5) "rfoo2"<br />
&nbsp;&nbsp;&nbsp; [0]=&gt;<br />
&nbsp;&nbsp;&nbsp; string(3) "r21"<br />
&nbsp;&nbsp;&nbsp; ["bar"]=&gt;<br />
&nbsp;&nbsp;&nbsp; string(5) "rbar2"<br />
&nbsp;&nbsp;&nbsp; [1]=&gt;<br />
&nbsp;&nbsp;&nbsp; string(3) "r22"<br />
&nbsp;}<br />
<br />
adding arrays doesn't:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; var_dump</span><span class="keyword">(</span><span class="default">$test2</span><span class="keyword">+</span><span class="default">$test1</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span>&nbsp; array(3) {<br />
&nbsp;&nbsp;&nbsp; ["foo"]=&gt;<br />
&nbsp;&nbsp;&nbsp; string(5) "rfoo2"<br />
&nbsp;&nbsp;&nbsp; [2]=&gt;<br />
&nbsp;&nbsp;&nbsp; string(3) "r22"<br />
&nbsp;&nbsp;&nbsp; ["bar"]=&gt;<br />
&nbsp;&nbsp;&nbsp; string(5) "rbar2"<br />
&nbsp; }</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="122652""></a>
  <div class="note">
   <strong class="user">withtvpeter at gmail dot com</strong>
   <a href="#122652" class="date">21-Apr-2018 09:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Suffice to add, array_merge() creates a new array from the supplied array(s) and does not modify the supplied array(s). Example:<br />
<br />
$array1 = ["a" =&gt; "one", "b"=&gt;"two"];<br />
$array2 = [ "c" =&gt; "three", "d" =&gt; "four"];<br />
<br />
$mergedArray = array_merge($array1, $array2);<br />
<br />
print_r($mergedArray); // =&gt; ["a"=&gt; "one", "b"=&gt; "two", "c"=&gt;"three", "d"=&gt;"four"];<br />
print_r($array1);&nbsp; //=&gt; ["a"=&gt;"one", "b"=&gt;"two"];</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="122594""></a>
  <div class="note">
   <strong class="user">matias dot r dot ventura at gmail dot com</strong>
   <a href="#122594" class="date">06-Apr-2018 06:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that if you want to append one array to another, using a foreach in conjuction with array_push is A LOT faster:<br />
<br />
<span class="default">&lt;?php<br />
<br />
$array </span><span class="keyword">= array(</span><span class="string">"one"</span><span class="keyword">, </span><span class="string">"two"</span><span class="keyword">, </span><span class="string">"three"</span><span class="keyword">, </span><span class="string">"four"</span><span class="keyword">);<br />
</span><span class="default">$test1 </span><span class="keyword">= array();<br />
</span><span class="default">$test2 </span><span class="keyword">= array();<br />
</span><span class="default">$mctime </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
<br />
for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">10000</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$test1 </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$test1</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">);<br />
}<br />
<br />
echo(</span><span class="string">"Test 1: "</span><span class="keyword">. (</span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">) - </span><span class="default">$mctime</span><span class="keyword">) .</span><span class="string">"s&nbsp; &nbsp;&nbsp; "</span><span class="keyword">);<br />
</span><span class="default">$mctime </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
<br />
for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">10000</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++){<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$value</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$test2</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
echo(</span><span class="string">"Test 2: "</span><span class="keyword">. (</span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">) - </span><span class="default">$mctime</span><span class="keyword">) .</span><span class="string">"s&nbsp; &nbsp;&nbsp; "</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
This in my case resolves to:<br />
<br />
Test 1: 2.7962880134583s <br />
Test 2: 0.0039298534393311s</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="121750""></a>
  <div class="note">
   <strong class="user">ian_channing at hotmail dot com</strong>
   <a href="#121750" class="date">12-Oct-2017 05:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
array_merge is the equivalent of concat in other languages. I tried to submit a bug that array_concat should be created as an alias to this but it was rejected on the basis they didn't want to polute the namespace and that the documentation should be updated instead. So here's what I put in the bug #73576:<br />
<br />
There is no documented array concatenation function. This is a very common function, e.g. Javascript and Ruby have the `concat` function, Python has `+` and Haskell has `++`. <br />
<br />
The `array_merge` function is what has be used if you want to concatenate arrays. However it is not mentioned in the documentation (not even in the comments) of that method that that is what should be used.<br />
<br />
I propose that `array_concat` be created as an alias of `array_merge`. The concatenation of an associative array is also consistent with trying to merge the hash maps. For example there is a Stack Overflow question on 'concatenating two dictionaries' that is marked as a duplicate of the function 'How to merge two Python dictionaries'. That is, it is consistent that hash map concatenation is the same as hash map merging.<br />
<br />
So I believe that `array_concat` is a perfect alias for `array_merge` in terms of numeric arrays and a valid (albeit unnecessary) alias for associative arrays.<br />
<br />
This will help almost all developers coming to PHP from other dynamic languages.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="121466""></a>
  <div class="note">
   <strong class="user">titum at lavache dot com</strong>
   <a href="#121466" class="date">01-Aug-2017 11:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
foreach loop is faster than array_merge to append values to an existing array, so choose the loop instead if you want to add an array to the end of another.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// Create an array of arrays<br />
</span><span class="default">$chars </span><span class="keyword">= [];<br />
for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">15000</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$chars</span><span class="keyword">[] = </span><span class="default">array_fill</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">10</span><span class="keyword">, </span><span class="string">'a'</span><span class="keyword">);<br />
}<br />
<br />
</span><span class="comment">// test array_merge<br />
</span><span class="default">$new </span><span class="keyword">= [];<br />
</span><span class="default">$start </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">TRUE</span><span class="keyword">);<br />
foreach (</span><span class="default">$chars </span><span class="keyword">as </span><span class="default">$splitArray</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$new </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$new</span><span class="keyword">, </span><span class="default">$splitArray</span><span class="keyword">);<br />
}<br />
echo </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">) - </span><span class="default">$start</span><span class="keyword">; </span><span class="comment">// =&gt; 14.61776 sec<br />
<br />
// test foreach<br />
</span><span class="default">$new </span><span class="keyword">= [];<br />
</span><span class="default">$start </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">TRUE</span><span class="keyword">);<br />
foreach (</span><span class="default">$chars </span><span class="keyword">as </span><span class="default">$splitArray</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$splitArray </span><span class="keyword">as </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$new</span><span class="keyword">[] = </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
echo </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">) - </span><span class="default">$start</span><span class="keyword">; </span><span class="comment">// =&gt; 0.00900101 sec<br />
// ==&gt; 1600 times faster<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="121023""></a>
  <div class="note">
   <strong class="user">woodongwong at gmail dot com</strong>
   <a href="#121023" class="date">26-Apr-2017 09:35</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
As PHP 5.6 you can use array_merge + "splat" operator to reduce a bidimensonal array to a simple array:<br />
<br />
<span class="default">&lt;?php<br />
$data </span><span class="keyword">= [[</span><span class="default">1</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">], [</span><span class="default">3</span><span class="keyword">], [</span><span class="default">4</span><span class="keyword">, </span><span class="default">5</span><span class="keyword">]];<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">array_merge</span><span class="keyword">(... </span><span class="default">$data</span><span class="keyword">)); </span><span class="comment">// [1, 2, 3, 4, 5];<br />
</span><span class="default">?&gt;<br />
</span><br />
PHP &lt; 5.6:<br />
<br />
<span class="default">&lt;?php<br />
$data </span><span class="keyword">= [[</span><span class="default">1</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">], [</span><span class="default">3</span><span class="keyword">], [</span><span class="default">4</span><span class="keyword">, </span><span class="default">5</span><span class="keyword">]];<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">array_reduce</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">, </span><span class="string">'array_merge'</span><span class="keyword">, []));&nbsp;&nbsp; </span><span class="comment">// [1, 2, 3, 4, 5];<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="120965""></a>
  <div class="note">
   <strong class="user">padina</strong>
   <a href="#120965" class="date">10-Apr-2017 08:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Static functions of Classes&nbsp; with Namespace are callables too.<br />
<br />
namespace Vendor\Extension\Service;<br />
<br />
class SvgFormationService implements \TYPO3\CMS\Core\SingletonInterface<br />
{<br />
<br />
&nbsp;&nbsp;&nbsp; public static function doubleQuote($value) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return '"'.$value.'"';<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; public static function otherFunc ($value) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $tagAttributes = array_map('\Vendor\Extension\Service\SvgFormationService::doubleQuote',$tagAttributes);<br />
&nbsp;&nbsp;&nbsp; }<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="120477""></a>
  <div class="note">
   <strong class="user">rameezsoomro dot pk at live dot com</strong>
   <a href="#120477" class="date">17-Jan-2017 05:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Array merge will return null if any parameter not an array<br />
<span class="default">&lt;?php<br />
$DB_user_result</span><span class="keyword">=&nbsp; </span><span class="default">DB</span><span class="keyword">::</span><span class="default">select</span><span class="keyword">()-&gt;</span><span class="default">where</span><span class="keyword">()-&gt;</span><span class="default">get</span><span class="keyword">(); </span><span class="comment">// return null if not found.<br />
</span><span class="default">$DB_exists_user_info </span><span class="keyword">= [</span><span class="string">'name'</span><span class="keyword">=&gt;</span><span class="string">'Rameez Soomro'</span><span class="keyword">,</span><span class="string">'Location'</span><span class="keyword">=&gt;</span><span class="string">'Karachi, Sindh, Pakistan'</span><span class="keyword">];<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$DB_user_result</span><span class="keyword">, </span><span class="default">$DB_exists_user_info</span><span class="keyword">));&nbsp; </span><span class="comment">//NULL<br />
</span><span class="default">?&gt;<br />
</span>Here is function for solution of array_merge<br />
function copied from&nbsp; <a href="http://sdtuts.com/php-array_merge-function-issue/" rel="nofollow" target="_blank">http://sdtuts.com/php-array_merge-function-issue/</a><br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">merge_arrays_obj</span><span class="keyword">(){<br />
&nbsp; </span><span class="default">$func_info </span><span class="keyword">= </span><span class="default">debug_backtrace</span><span class="keyword">();<br />
&nbsp; </span><span class="default">$func_args </span><span class="keyword">= </span><span class="default">$func_info</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][</span><span class="string">'args'</span><span class="keyword">];<br />
&nbsp; </span><span class="default">$return_array_data </span><span class="keyword">= array();<br />
&nbsp; foreach(</span><span class="default">$func_args </span><span class="keyword">as </span><span class="default">$args_index</span><span class="keyword">=&gt;</span><span class="default">$args_data</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$args_data</span><span class="keyword">) || </span><span class="default">is_object</span><span class="keyword">(</span><span class="default">$args_data</span><span class="keyword">)){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$return_array_data </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$return_array_data</span><span class="keyword">,</span><span class="default">$args_data</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp; }<br />
&nbsp; return </span><span class="default">$return_array_data</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Code example how to use it<br />
<span class="default">&lt;?php<br />
$array </span><span class="keyword">= array(</span><span class="string">'abc'</span><span class="keyword">=&gt;</span><span class="string">'abcparam'</span><span class="keyword">);<br />
</span><span class="default">$null_array </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">;<br />
</span><span class="default">$new_arraydata </span><span class="keyword">= array(</span><span class="string">'username'</span><span class="keyword">=&gt;</span><span class="string">'Rameez Soomro'</span><span class="keyword">,</span><span class="string">'usersite'</span><span class="keyword">=&gt;</span><span class="string">'<a href="http://sdtuts.com" rel="nofollow" target="_blank">http://sdtuts.com</a>'</span><span class="keyword">);<br />
</span><span class="default">$new_arrayOBJ </span><span class="keyword">= array ( (object) array(</span><span class="string">'obj_DATA' </span><span class="keyword">=&gt; </span><span class="string">'ABC_OBJ'</span><span class="keyword">,</span><span class="string">'obj_next_index '</span><span class="keyword">=&gt;</span><span class="string">'ABC_OBJ_NEXT_INDEX'</span><span class="keyword">) );<br />
</span><span class="default">$new_array_data </span><span class="keyword">= </span><span class="default">merge_arrays_obj</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">,</span><span class="default">$null_array</span><span class="keyword">,</span><span class="default">$new_arraydata</span><span class="keyword">,</span><span class="default">$new_arrayOBJ</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$new_array_data</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="119355""></a>
  <div class="note">
   <strong class="user">jcmarchi at gmail dot comfive</strong>
   <a href="#119355" class="date">20-May-2016 04:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It is not officially documented but it is summarily important information for everyone to know: neither array_merge or array_merge_recursive functions will function correctly if non-array objects&nbsp; are used as parameters. <br />
<br />
You would probably expect these functions to ignore non-array elements, right? However, if one parameter is null it PHP will not only return null for the entire function but will also (not always) raise an error, such as :<br />
<br />
&nbsp;&nbsp;&nbsp; [ Warning: array_merge(): Argument #x is not an array... ]<br />
<br />
This error message won't appear if the defective variable is an empty array (an empty array is still an array), but it will result in an undesirable incomplete Array.<br />
<br />
There are several solutions for this problem by validating the Arrays before use them in these functions, but the most efficient way is to enforce the element as an array directly in the function itself. I.e.: <br />
<br />
$merged = array_merge( (array)$first_array, (array)$second_array );</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="119000""></a>
  <div class="note">
   <strong class="user">arifulin at gmail dot com</strong>
   <a href="#119000" class="date">15-Mar-2016 09:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
public function mergeArrays($arrays, $field)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //take array in arrays for retrive structure after merging<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $clean_array = current($arrays);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach ($clean_array as $i =&gt; $value) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $clean_array[$i]='';<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $merged_array = [];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $name = '';<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach ($arrays as $array){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $array = array_filter($array); //clean array from empty values<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if ($name == $array[$field]) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $merged_array[$name] = array_merge($merged_array[$name], $array);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $name = $array[$field];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $name = $array[$field];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $merged_array[$name] = $array;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //have to be cleaned from array 'field' signs to return original structure of arrays<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach ($merged_array as $array){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $ready_array[] = array_merge($clean_array, $array);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return $ready_array;<br />
&nbsp;&nbsp;&nbsp; }</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="118917""></a>
  <div class="note">
   <strong class="user">kristopolous at yahoo dot com</strong>
   <a href="#118917" class="date">26-Feb-2016 10:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I constantly forget the direction of array_merge so this is partially for me and partially for people like me.<br />
<br />
array_merge is a non-referential non-inplace right-reduction. For different ctrl-f typers, it's reduce-right, side-effect free, idempotent, and non in-place.<br />
<br />
ex:<br />
<br />
$a = array_merge(['k' =&gt; 'a'], ['k' =&gt; 'b']) =&gt; ['k' =&gt; 'b']<br />
array_merge(['z' =&gt; 1], $a) =&gt; does not modify $a but returns ['k' =&gt; 'b', 'z' =&gt; 1];<br />
<br />
Hopefully this helps people that constant look this up such as myself.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="117945""></a>
  <div class="note">
   <strong class="user">info at eastghost dot com</strong>
   <a href="#117945" class="date">05-Sep-2015 01:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
We noticed array_merge is relatively slower than manually extending an array:<br />
<br />
given:<br />
$arr_one[ 'x' =&gt; 1, 'y' =&gt; 2 ];<br />
$arr_two[ 'a' =&gt; 10, 'b' =&gt; 20 ];<br />
<br />
the statement:<br />
$arr_three = array_merge( $arr_one, $arr_two );<br />
is routinely 200usec slower than:<br />
<br />
$arr_three = $arr_one;<br />
foreach( $arr_two as $k =&gt; $v ) { $arr_three[ $k ] = $v; }<br />
<br />
200usec didn't matter...until we started combining huge arrays.<br />
<br />
PHP 5.6.x</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="117557""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#117557" class="date">29-Jun-2015 09:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
As PHP 5.6 you can use array_merge + "splat" operator to reduce a bidimensonal array to a simple array:<br />
<br />
<span class="default">&lt;?php<br />
$data </span><span class="keyword">= [[</span><span class="default">1</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">], [</span><span class="default">3</span><span class="keyword">], [</span><span class="default">4</span><span class="keyword">, </span><span class="default">5</span><span class="keyword">]];<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">array_merge</span><span class="keyword">(... </span><span class="default">$data</span><span class="keyword">)); </span><span class="comment">// [1, 2, 3, 4, 5];<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="115297""></a>
  <div class="note">
   <strong class="user">gj@php</strong>
   <a href="#115297" class="date">01-Jul-2014 02:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
i did a small benchmark (on&nbsp; PHP 5.3.3) comparing:<br />
* using array_merge on numerically indexed arrays<br />
* using a basic double loop to merge multiple arrays<br />
<br />
the performance difference is huge: <br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">require_once(</span><span class="string">"./lib/Timer.php"</span><span class="keyword">);<br />
<br />
function </span><span class="default">method1</span><span class="keyword">(</span><span class="default">$mat</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$all</span><span class="keyword">=array();<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$mat </span><span class="keyword">as </span><span class="default">$arr</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$all</span><span class="keyword">=</span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$all</span><span class="keyword">,</span><span class="default">$arr</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$all</span><span class="keyword">;<br />
}<br />
<br />
function </span><span class="default">method2</span><span class="keyword">(</span><span class="default">$mat</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$all</span><span class="keyword">=array();<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$mat </span><span class="keyword">as </span><span class="default">$arr</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$arr </span><span class="keyword">as </span><span class="default">$el</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$all</span><span class="keyword">[]=</span><span class="default">$el</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$all</span><span class="keyword">;<br />
}<br />
<br />
function </span><span class="default">tryme</span><span class="keyword">(){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$y</span><span class="keyword">=</span><span class="default">250</span><span class="keyword">; </span><span class="comment">//#arrays<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$x</span><span class="keyword">=</span><span class="default">200</span><span class="keyword">; </span><span class="comment">//size per array<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$mat</span><span class="keyword">=array();<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//build big matrix<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$y</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for(</span><span class="default">$j</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$j</span><span class="keyword">&lt;</span><span class="default">$x</span><span class="keyword">;</span><span class="default">$j</span><span class="keyword">++){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$mat</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="default">$j</span><span class="keyword">]=</span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">1000</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$t</span><span class="keyword">=new </span><span class="default">Timer</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">method1</span><span class="keyword">(</span><span class="default">$mat</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$t</span><span class="keyword">-&gt;</span><span class="default">displayTimer</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$t</span><span class="keyword">=new </span><span class="default">Timer</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">method2</span><span class="keyword">(</span><span class="default">$mat</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$t</span><span class="keyword">-&gt;</span><span class="default">displayTimer</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; <br />
</span><span class="comment">/*<br />
output:<br />
Script runtime: 2.36782 secs. Script runtime: 0.02137 sec. <br />
*/<br />
&nbsp;&nbsp;&nbsp; <br />
</span><span class="keyword">}<br />
<br />
</span><span class="default">tryme</span><span class="keyword">();<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
So that's more than a factor 100!!!!!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="115209""></a>
  <div class="note">
   <strong class="user">Angel I</strong>
   <a href="#115209" class="date">12-Jun-2014 01:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
An addition to what Julian Egelstaff above wrote - the array union operation (+) is not doing an array_unique - it will just not use the keys that are already defined in the left array.&nbsp; The difference between union and merge can be seen in an example like this:<br />
<br />
<span class="default">&lt;?php<br />
$arr1</span><span class="keyword">[</span><span class="string">'one'</span><span class="keyword">] = </span><span class="string">'one'</span><span class="keyword">;<br />
</span><span class="default">$arr1</span><span class="keyword">[</span><span class="string">'two'</span><span class="keyword">] = </span><span class="string">'two'</span><span class="keyword">;<br />
<br />
</span><span class="default">$arr2</span><span class="keyword">[</span><span class="string">'zero'</span><span class="keyword">] = </span><span class="string">'zero'</span><span class="keyword">;<br />
</span><span class="default">$arr2</span><span class="keyword">[</span><span class="string">'one'</span><span class="keyword">] = </span><span class="string">'three'</span><span class="keyword">;<br />
</span><span class="default">$arr2</span><span class="keyword">[</span><span class="string">'two'</span><span class="keyword">] = </span><span class="string">'four'</span><span class="keyword">;<br />
<br />
</span><span class="default">$arr3 </span><span class="keyword">= </span><span class="default">$arr1 </span><span class="keyword">+ </span><span class="default">$arr2</span><span class="keyword">;<br />
</span><span class="default">var_export</span><span class="keyword">( </span><span class="default">$arr3 </span><span class="keyword">);<br />
</span><span class="comment"># array ( 'one' =&gt; 'one', 'two' =&gt; 'two', 'zero' =&gt; 'zero', )<br />
<br />
</span><span class="default">$arr4 </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">( </span><span class="default">$arr1</span><span class="keyword">, </span><span class="default">$arr2 </span><span class="keyword">);<br />
</span><span class="default">var_export</span><span class="keyword">( </span><span class="default">$arr4 </span><span class="keyword">);<br />
</span><span class="comment"># array ( 'one' =&gt; 'three', 'two' =&gt; 'four', 'zero' =&gt; 'zero', )<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="115186""></a>
  <div class="note">
   <strong class="user">php at metehanarslan dot com</strong>
   <a href="#115186" class="date">10-Jun-2014 10:49</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Sometimes you need to modify an array with another one here is my approach to replace an array's content recursively with delete opiton. Here i used "::delete::" as reserved word to delete items.<br />
<br />
<span class="default">&lt;?php<br />
$person</span><span class="keyword">= array(<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"name" </span><span class="keyword">=&gt; </span><span class="string">"Metehan"</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"surname"</span><span class="keyword">=&gt;</span><span class="string">"Arslan"</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"age"</span><span class="keyword">=&gt;</span><span class="default">27</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"mail"</span><span class="keyword">=&gt;</span><span class="string">"hidden"</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"favs" </span><span class="keyword">=&gt; array(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"language"</span><span class="keyword">=&gt;</span><span class="string">"php"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"planet"</span><span class="keyword">=&gt;</span><span class="string">"mercury"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"city"</span><span class="keyword">=&gt;</span><span class="string">"istanbul"</span><span class="keyword">)<br />
);<br />
<br />
</span><span class="default">$newdata </span><span class="keyword">= array(<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"age"</span><span class="keyword">=&gt;</span><span class="default">28</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"mail"</span><span class="keyword">=&gt;</span><span class="string">"::delete::"</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"favs" </span><span class="keyword">=&gt; array(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"language"</span><span class="keyword">=&gt;</span><span class="string">"js"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"planet"</span><span class="keyword">=&gt;</span><span class="string">"mercury"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"city"</span><span class="keyword">=&gt;</span><span class="string">"shanghai"</span><span class="keyword">)<br />
);<br />
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">array_overlay</span><span class="keyword">(</span><span class="default">$person</span><span class="keyword">,</span><span class="default">$newdata</span><span class="keyword">));<br />
</span><span class="comment">// result: Array ( [name] =&gt; Metehan [surname] =&gt; Arslan [age] =&gt; 28 [favs] =&gt; Array ( [language] =&gt; js [planet] =&gt; mercury [city] =&gt; shanghai ) )<br />
<br />
</span><span class="keyword">function </span><span class="default">array_overlay</span><span class="keyword">(</span><span class="default">$a1</span><span class="keyword">,</span><span class="default">$a2</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$a1 </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$v</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$a2</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">]==</span><span class="string">"::delete::"</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; unset(</span><span class="default">$a1</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; continue;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; };<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">$k</span><span class="keyword">,</span><span class="default">$a2</span><span class="keyword">)) continue;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">) &amp;&amp; </span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$a2</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">])){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$a1</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">] = </span><span class="default">array_overlay</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">,</span><span class="default">$a2</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }else{<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$a1</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">] = </span><span class="default">$a2</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$a1</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="115116""></a>
  <div class="note">
   <strong class="user">rajaimranqamer at gmail dot com</strong>
   <a href="#115116" class="date">28-May-2014 08:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
to get unique value from multi dimensional array use this instead of array_unique(), because array_unique() does not work on multidimensional:<br />
array_map("unserialize", array_unique(array_map("serialize", $array)));<br />
Hope this will help someone;<br />
Example<br />
$a=array(array('1'),array('2'),array('3'),array('4));<br />
$b=array(array('2'),array('4'),array('6'),array('8));<br />
$c=array_merge($a,$b);<br />
then write this line to get unique values<br />
$c=array_map("unserialize", array_unique(array_map("serialize", $c)));<br />
print_r($c);</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="113036""></a>
  <div class="note">
   <strong class="user">vladas dot dirzys at gmail dot com</strong>
   <a href="#113036" class="date">21-Aug-2013 09:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To combine several results (arrays):<br />
<br />
<span class="default">&lt;?php<br />
$results </span><span class="keyword">= array(<br />
&nbsp;&nbsp;&nbsp; array(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; array(</span><span class="string">'foo1'</span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; array(</span><span class="string">'foo2'</span><span class="keyword">),<br />
&nbsp;&nbsp;&nbsp; ),<br />
&nbsp;&nbsp;&nbsp; array(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; array(</span><span class="string">'bar1'</span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; array(</span><span class="string">'bar2'</span><span class="keyword">),<br />
&nbsp;&nbsp;&nbsp; ),<br />
);<br />
<br />
</span><span class="default">$rows </span><span class="keyword">= </span><span class="default">call_user_func_array</span><span class="keyword">(</span><span class="string">'array_merge'</span><span class="keyword">, </span><span class="default">$results</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$rows</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
The above example will output:<br />
<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; foo1<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; foo2<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; bar1<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; bar2<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
)<br />
<br />
However, example below helps to preserve numeric keys:<br />
<br />
<span class="default">&lt;?php<br />
$results </span><span class="keyword">= array(<br />
&nbsp;&nbsp;&nbsp; array(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">123 </span><span class="keyword">=&gt; array(</span><span class="string">'foo1'</span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">456 </span><span class="keyword">=&gt; array(</span><span class="string">'foo2'</span><span class="keyword">),<br />
&nbsp;&nbsp;&nbsp; ),<br />
&nbsp;&nbsp;&nbsp; array(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">321 </span><span class="keyword">=&gt; array(</span><span class="string">'bar1'</span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">654 </span><span class="keyword">=&gt; array(</span><span class="string">'bar2'</span><span class="keyword">),<br />
&nbsp;&nbsp;&nbsp; ),<br />
);<br />
<br />
</span><span class="default">$rows </span><span class="keyword">= array();<br />
foreach (</span><span class="default">$results </span><span class="keyword">as &amp;</span><span class="default">$result</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$rows </span><span class="keyword">= </span><span class="default">$rows </span><span class="keyword">+ </span><span class="default">$result</span><span class="keyword">; </span><span class="comment">// preserves keys<br />
</span><span class="keyword">}<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$rows</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
The above example will output:<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [123] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; foo1<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp;&nbsp; [456] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; foo2<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp;&nbsp; [321] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; bar1<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp;&nbsp; [654] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; bar2<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="108644""></a>
  <div class="note">
   <strong class="user">Gemorroj</strong>
   <a href="#108644" class="date">14-May-2012 08:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The function behaves differently with numbers more than PHP_INT_MAX<br />
<span class="default">&lt;?php<br />
$arr1 </span><span class="keyword">= array(</span><span class="string">'1234567898765432123456789' </span><span class="keyword">=&gt; </span><span class="string">'dd'</span><span class="keyword">);<br />
</span><span class="default">$arr2 </span><span class="keyword">= array(</span><span class="string">'123456789876543212345678' </span><span class="keyword">=&gt; </span><span class="string">'ddd'</span><span class="keyword">, </span><span class="string">'35' </span><span class="keyword">=&gt; </span><span class="string">'xxx'</span><span class="keyword">);<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$arr1</span><span class="keyword">, </span><span class="default">$arr2</span><span class="keyword">));<br />
</span><span class="comment">//<br />
</span><span class="default">$arr1 </span><span class="keyword">= array(</span><span class="string">'1234' </span><span class="keyword">=&gt; </span><span class="string">'dd'</span><span class="keyword">);<br />
</span><span class="default">$arr2 </span><span class="keyword">= array(</span><span class="string">'12345' </span><span class="keyword">=&gt; </span><span class="string">'ddd'</span><span class="keyword">, </span><span class="string">'35' </span><span class="keyword">=&gt; </span><span class="string">'xxx'</span><span class="keyword">);<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$arr1</span><span class="keyword">, </span><span class="default">$arr2</span><span class="keyword">));<br />
</span><span class="default">?&gt;<br />
</span>result:<br />
array(3) {<br />
&nbsp; ["1234567898765432123456789"]=&gt;<br />
&nbsp; string(2) "dd"<br />
&nbsp; ["123456789876543212345678"]=&gt;<br />
&nbsp; string(3) "ddd"<br />
&nbsp; [0]=&gt;<br />
&nbsp; string(3) "xxx"<br />
}<br />
array(3) {<br />
&nbsp; [0]=&gt;<br />
&nbsp; string(2) "dd"<br />
&nbsp; [1]=&gt;<br />
&nbsp; string(3) "ddd"<br />
&nbsp; [2]=&gt;<br />
&nbsp; string(3) "xxx"<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="107590""></a>
  <div class="note">
   <strong class="user">alejandro dot anv at gmail dot com</strong>
   <a href="#107590" class="date">20-Feb-2012 11:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
WARNING: numeric subindexes are lost when merging arrays.<br />
<br />
Check this example:<br />
<br />
$a=array('abc'=&gt;'abc','def'=&gt;'def','123'=&gt;'123','xyz'=&gt;'xyz');<br />
echo "a=";print_r($a);<br />
$b=array('xxx'=&gt;'xxx');<br />
echo "b=";print_r($b);<br />
$c=array_merge($a,$b);<br />
echo "c=";print_r($c);<br />
<br />
The result is this:<br />
<br />
c=Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [abc] =&gt; abc<br />
&nbsp;&nbsp;&nbsp; [def] =&gt; def<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; 123<br />
&nbsp;&nbsp;&nbsp; [xyz] =&gt; xyz<br />
&nbsp;&nbsp;&nbsp; [xxx] =&gt; xxx<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="106037""></a>
  <div class="note">
   <strong class="user">w_barath at hotmail dot com</strong>
   <a href="#106037" class="date">04-Oct-2011 04:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I keep seeing posts for people looking for a function to replace numeric keys.
<br />

<br />
No function is required for this, it is default behavior if the + operator:
<br />

<br />
<span class="default">&lt;?php
<br />
$a</span><span class="keyword">=array(</span><span class="default">1</span><span class="keyword">=&gt;</span><span class="string">"one"</span><span class="keyword">, </span><span class="string">"two"</span><span class="keyword">=&gt;</span><span class="default">2</span><span class="keyword">);
<br />
</span><span class="default">$b</span><span class="keyword">=array(</span><span class="default">1</span><span class="keyword">=&gt;</span><span class="string">"two"</span><span class="keyword">, </span><span class="string">"two"</span><span class="keyword">=&gt;</span><span class="default">1</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">=&gt;</span><span class="string">"three"</span><span class="keyword">, </span><span class="string">"four"</span><span class="keyword">=&gt;</span><span class="default">4</span><span class="keyword">);
<br />

<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">+</span><span class="default">$b</span><span class="keyword">);
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
Array
<br />
(
<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; one
<br />
&nbsp;&nbsp;&nbsp; [two] =&gt; 2
<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; three
<br />
&nbsp;&nbsp;&nbsp; [four] =&gt; 4
<br />
)
<br />

<br />
How this works:
<br />

<br />
The + operator only adds unique keys to the resulting array.&nbsp; By making the replacements the first argument, they naturally always replace the keys from the second argument, numeric or not! =)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="100607""></a>
  <div class="note">
   <strong class="user">craig ala craigatx.com</strong>
   <a href="#100607" class="date">26-Oct-2010 10:25</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Reiterating the notes about casting to arrays, be sure to cast if one of the arrays might be null:<br />
<br />
<span class="default">&lt;?php<br />
header</span><span class="keyword">(</span><span class="string">"Content-type:text/plain"</span><span class="keyword">);<br />
</span><span class="default">$a </span><span class="keyword">= array(</span><span class="string">'zzzz'</span><span class="keyword">, </span><span class="string">'xxxx'</span><span class="keyword">);<br />
</span><span class="default">$b </span><span class="keyword">= array(</span><span class="string">'mmmm'</span><span class="keyword">,</span><span class="string">'nnnn'</span><span class="keyword">);<br />
<br />
echo </span><span class="string">"1 ==============\r\n"</span><span class="keyword">;<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">));<br />
<br />
echo </span><span class="string">"2 ==============\r\n"</span><span class="keyword">;<br />
</span><span class="default">$b </span><span class="keyword">= array();<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">));<br />
<br />
echo </span><span class="string">"3 ==============\r\n"</span><span class="keyword">;<br />
</span><span class="default">$b </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">;<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">));<br />
<br />
echo </span><span class="string">"4 ==============\r\n"</span><span class="keyword">;<br />
</span><span class="default">$b </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">;<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, (array)</span><span class="default">$b</span><span class="keyword">));<br />
<br />
echo </span><span class="string">"5 ==============\r\n"</span><span class="keyword">;<br />
echo </span><span class="default">is_null</span><span class="keyword">(</span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">)) ? </span><span class="string">'Result is null' </span><span class="keyword">: </span><span class="string">'Result is not null'</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
Produces:<br />
<br />
1 ==============<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; zzzz<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; xxxx<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; mmmm<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; nnnn<br />
)<br />
2 ==============<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; zzzz<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; xxxx<br />
)<br />
3 ==============<br />
4 ==============<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; zzzz<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; xxxx<br />
)<br />
5 ==============<br />
Result is null</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="99504""></a>
  <div class="note">
   <strong class="user">zagadka at evorg dot dk</strong>
   <a href="#99504" class="date">20-Aug-2010 05:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that if you use + to merge array in order to preserve keys, that in case of duplicates the values from the left array in the addition is used.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93768""></a>
  <div class="note">
   <strong class="user">Tudor</strong>
   <a href="#93768" class="date">27-Sep-2009 01:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
array_merge will merge numeric keys in array iteration order, not in increasing numeric order. For example:
<br />

<br />
<span class="default">&lt;?php
<br />
$a </span><span class="keyword">= array(</span><span class="default">0</span><span class="keyword">=&gt;</span><span class="default">10</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">=&gt;</span><span class="default">20</span><span class="keyword">);&nbsp; </span><span class="comment">// same as array(10, 20);
<br />
</span><span class="default">$b </span><span class="keyword">= array(</span><span class="default">0</span><span class="keyword">=&gt;</span><span class="default">30</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">=&gt;</span><span class="default">50</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">=&gt;</span><span class="default">40</span><span class="keyword">);
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
array_merge($a, $b) will be array(10, 20, 30, 50, 40) and not array(10, 20, 30, 40, 50).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="92602""></a>
  <div class="note">
   <strong class="user">Julian Egelstaff</strong>
   <a href="#92602" class="date">30-Jul-2009 11:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In some situations, the union operator ( + ) might be more useful to you than array_merge.&nbsp; The array_merge function does not preserve numeric key values.&nbsp; If you need to preserve the numeric keys, then using + will do that.<br />
<br />
ie:<br />
<br />
<span class="default">&lt;?php<br />
<br />
$array1</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] = </span><span class="string">"zero"</span><span class="keyword">;<br />
</span><span class="default">$array1</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] = </span><span class="string">"one"</span><span class="keyword">;<br />
<br />
</span><span class="default">$array2</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] = </span><span class="string">"one"</span><span class="keyword">;<br />
</span><span class="default">$array2</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">] = </span><span class="string">"two"</span><span class="keyword">;<br />
</span><span class="default">$array2</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">] = </span><span class="string">"three"</span><span class="keyword">;<br />
<br />
</span><span class="default">$array3 </span><span class="keyword">= </span><span class="default">$array1 </span><span class="keyword">+ </span><span class="default">$array2</span><span class="keyword">;<br />
<br />
</span><span class="comment">//This will result in::<br />
<br />
</span><span class="default">$array3 </span><span class="keyword">= array(</span><span class="default">0</span><span class="keyword">=&gt;</span><span class="string">"zero"</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">=&gt;</span><span class="string">"one"</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">=&gt;</span><span class="string">"two"</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">=&gt;</span><span class="string">"three"</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Note the implicit "array_unique" that gets applied as well.&nbsp; In some situations where your numeric keys matter, this behaviour could be useful, and better than array_merge.<br />
<br />
--Julian</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="92346""></a>
  <div class="note">
   <strong class="user">enaeseth at gmail dot com</strong>
   <a href="#92346" class="date">20-Jul-2009 02:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In both PHP 4 and 5, array_merge preserves references in array values. For example:<br />
<br />
<span class="default">&lt;?php<br />
$foo </span><span class="keyword">= </span><span class="default">12</span><span class="keyword">;<br />
</span><span class="default">$array </span><span class="keyword">= array(</span><span class="string">"foo" </span><span class="keyword">=&gt; &amp;</span><span class="default">$foo</span><span class="keyword">);<br />
</span><span class="default">$merged_array </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, array(</span><span class="string">"bar" </span><span class="keyword">=&gt; </span><span class="string">"baz"</span><span class="keyword">));<br />
</span><span class="default">$merged_array</span><span class="keyword">[</span><span class="string">"foo"</span><span class="keyword">] = </span><span class="default">24</span><span class="keyword">;<br />
</span><span class="default">assert</span><span class="keyword">(</span><span class="default">$foo </span><span class="keyword">=== </span><span class="default">24</span><span class="keyword">); </span><span class="comment">// works just fine<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85451""></a>
  <div class="note">
   <strong class="user">carrox at inbox dot lv</strong>
   <a href="#85451" class="date">31-Aug-2008 04:41</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Usage of operand '+' for merging arrays:<br />
<br />
<span class="default">&lt;?php<br />
<br />
$a</span><span class="keyword">=array(<br />
</span><span class="string">'a'</span><span class="keyword">=&gt;</span><span class="string">'a1'</span><span class="keyword">,<br />
</span><span class="string">'b'</span><span class="keyword">=&gt;</span><span class="string">'a2'</span><span class="keyword">,<br />
</span><span class="string">'a3'</span><span class="keyword">,<br />
</span><span class="string">'a4'</span><span class="keyword">,<br />
</span><span class="string">'a5'</span><span class="keyword">);<br />
<br />
</span><span class="default">$b</span><span class="keyword">=array(</span><span class="string">'b1'</span><span class="keyword">,<br />
</span><span class="string">'b2'</span><span class="keyword">,<br />
</span><span class="string">'a'</span><span class="keyword">=&gt;</span><span class="string">'b3'</span><span class="keyword">,<br />
</span><span class="string">'b4'</span><span class="keyword">);<br />
<br />
</span><span class="default">$a</span><span class="keyword">+=</span><span class="default">$b</span><span class="keyword">;<br />
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
output:<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [a] =&gt; a1<br />
&nbsp;&nbsp;&nbsp; [b] =&gt; a2<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; a3<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; a4<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; a5<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; b5<br />
)<br />
<br />
numeric keys of elements of array B what not presented in array A was added.<br />
<br />
<span class="default">&lt;?php<br />
<br />
$a</span><span class="keyword">=array(</span><span class="string">'a'</span><span class="keyword">=&gt;</span><span class="string">'a1'</span><span class="keyword">,</span><span class="string">'b'</span><span class="keyword">=&gt;</span><span class="string">'a2'</span><span class="keyword">,</span><span class="string">'a3'</span><span class="keyword">,</span><span class="string">'a4'</span><span class="keyword">,</span><span class="string">'a5'</span><span class="keyword">);<br />
</span><span class="default">$b</span><span class="keyword">=array(</span><span class="default">100</span><span class="keyword">=&gt;</span><span class="string">'b1'</span><span class="keyword">,</span><span class="string">'b2'</span><span class="keyword">,</span><span class="string">'a'</span><span class="keyword">=&gt;</span><span class="string">'b3'</span><span class="keyword">,</span><span class="string">'b4'</span><span class="keyword">);<br />
<br />
</span><span class="default">$a</span><span class="keyword">+=</span><span class="default">$b</span><span class="keyword">;<br />
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
output:<br />
<br />
&nbsp;&nbsp; [a] =&gt; a1<br />
&nbsp;&nbsp;&nbsp; [b] =&gt; a2<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; a3<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; a4<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; a5<br />
&nbsp;&nbsp;&nbsp; [100] =&gt; b1<br />
&nbsp;&nbsp;&nbsp; [101] =&gt; b2<br />
&nbsp;&nbsp;&nbsp; [102] =&gt; b4<br />
<br />
autoindex for array B started from 100, these keys not present in array A, so this elements was added to array A</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85029""></a>
  <div class="note">
   <strong class="user">ron at ronfolio dot com</strong>
   <a href="#85029" class="date">11-Aug-2008 06:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I needed a function similar to ian at fuzzygroove's array_interlace, but I need to pass more than two arrays.
<br />

<br />
Here's my version, You can pass any number of arrays and it will interlace and key them properly.
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">array_interlace</span><span class="keyword">() {
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$args </span><span class="keyword">= </span><span class="default">func_get_args</span><span class="keyword">();
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$total </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$args</span><span class="keyword">);
<br />

<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$total </span><span class="keyword">&lt; </span><span class="default">2</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">FALSE</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; 
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$j </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$arr </span><span class="keyword">= array();
<br />
&nbsp;&nbsp;&nbsp; 
<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$args </span><span class="keyword">as </span><span class="default">$arg</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$arg </span><span class="keyword">as </span><span class="default">$v</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$j</span><span class="keyword">] = </span><span class="default">$v</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$j </span><span class="keyword">+= </span><span class="default">$total</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; 
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$i</span><span class="keyword">++;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$j </span><span class="keyword">= </span><span class="default">$i</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; 
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">ksort</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">array_values</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">);
<br />
}
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
Example usage:
<br />
<span class="default">&lt;?php
<br />
$a </span><span class="keyword">= array(</span><span class="string">'a'</span><span class="keyword">, </span><span class="string">'b'</span><span class="keyword">, </span><span class="string">'c'</span><span class="keyword">, </span><span class="string">'d'</span><span class="keyword">);
<br />
</span><span class="default">$b </span><span class="keyword">= array(</span><span class="string">'e'</span><span class="keyword">, </span><span class="string">'f'</span><span class="keyword">, </span><span class="string">'g'</span><span class="keyword">);
<br />
</span><span class="default">$c </span><span class="keyword">= array(</span><span class="string">'h'</span><span class="keyword">, </span><span class="string">'i'</span><span class="keyword">, </span><span class="string">'j'</span><span class="keyword">);
<br />
</span><span class="default">$d </span><span class="keyword">= array(</span><span class="string">'k'</span><span class="keyword">, </span><span class="string">'l'</span><span class="keyword">, </span><span class="string">'m'</span><span class="keyword">, </span><span class="string">'n'</span><span class="keyword">, </span><span class="string">'o'</span><span class="keyword">);
<br />

<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">array_interlace</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">, </span><span class="default">$c</span><span class="keyword">, </span><span class="default">$d</span><span class="keyword">));
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
result:
<br />

<br />
Array
<br />
(
<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; a
<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; e
<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; h
<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; k
<br />
&nbsp;&nbsp;&nbsp; [4] =&gt; b
<br />
&nbsp;&nbsp;&nbsp; [5] =&gt; f
<br />
&nbsp;&nbsp;&nbsp; [6] =&gt; i
<br />
&nbsp;&nbsp;&nbsp; [7] =&gt; l
<br />
&nbsp;&nbsp;&nbsp; [8] =&gt; c
<br />
&nbsp;&nbsp;&nbsp; [9] =&gt; g
<br />
&nbsp;&nbsp;&nbsp; [10] =&gt; j
<br />
&nbsp;&nbsp;&nbsp; [11] =&gt; m
<br />
&nbsp;&nbsp;&nbsp; [12] =&gt; d
<br />
&nbsp;&nbsp;&nbsp; [13] =&gt; n
<br />
&nbsp;&nbsp;&nbsp; [14] =&gt; o
<br />
)
<br />

<br />
Let me know if you improve on it.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="82306""></a>
  <div class="note">
   <strong class="user">bishop</strong>
   <a href="#82306" class="date">04-Apr-2008 02:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The documentation is a touch misleading when it says: "If only one array is given and the array is numerically indexed, the keys get reindexed in a continuous way."&nbsp; Even with two arrays, the resulting array is re-indexed:<br />
<br />
[bishop@predator staging]$ cat array_merge.php <br />
<span class="default">&lt;?php<br />
$a </span><span class="keyword">= array (</span><span class="default">23 </span><span class="keyword">=&gt; </span><span class="string">'Hello'</span><span class="keyword">, </span><span class="string">'42' </span><span class="keyword">=&gt; </span><span class="string">'World'</span><span class="keyword">);<br />
</span><span class="default">$a </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(array (</span><span class="default">0 </span><span class="keyword">=&gt; </span><span class="string">'I say, '</span><span class="keyword">), </span><span class="default">$a</span><span class="keyword">);<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span>[bishop@predator staging]$ php-5.2.5 array_merge.php <br />
array(3) {<br />
&nbsp; [0]=&gt;<br />
&nbsp; string(7) "I say, "<br />
&nbsp; [1]=&gt;<br />
&nbsp; string(5) "Hello"<br />
&nbsp; [2]=&gt;<br />
&nbsp; string(5) "World"<br />
}<br />
[bishop@predator staging]$ php-4.4.7 array_merge.php <br />
array(3) {<br />
&nbsp; [0]=&gt;<br />
&nbsp; string(7) "I say, "<br />
&nbsp; [1]=&gt;<br />
&nbsp; string(5) "Hello"<br />
&nbsp; [2]=&gt;<br />
&nbsp; string(5) "World"<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="78959""></a>
  <div class="note">
   <strong class="user">Hayley Watson</strong>
   <a href="#78959" class="date">04-Nov-2007 12:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
As has already been noted before, reindexing arrays is most cleanly performed by the array_values() function.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="76596""></a>
  <div class="note">
   <strong class="user">clancyhood at gmail dot com</strong>
   <a href="#76596" class="date">21-Jul-2007 04:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Similar to Jo I had a problem merging arrays (thanks for that Jo you kicked me out of my debugging slumber) - array_merge does NOT act like array_push, as I had anticipated<br />
<br />
<span class="default">&lt;?php<br />
<br />
$array </span><span class="keyword">= array(</span><span class="string">'1'</span><span class="keyword">, </span><span class="string">'hello'</span><span class="keyword">); <br />
</span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="string">'world'</span><span class="keyword">);<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
<br />
</span><span class="comment">// gives '1', 'hello', 'world'<br />
<br />
&nbsp;<br />
</span><span class="default">$array </span><span class="keyword">= array(</span><span class="string">'1'</span><span class="keyword">, </span><span class="string">'hello'</span><span class="keyword">); <br />
</span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, array(</span><span class="string">'world'</span><span class="keyword">));<br />
<br />
</span><span class="comment">// gives '1', 'hello'<br />
<br />
</span><span class="default">$array </span><span class="keyword">= array(</span><span class="string">'1'</span><span class="keyword">, </span><span class="string">'hello'</span><span class="keyword">); <br />
</span><span class="default">$array </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, array(</span><span class="string">'world'</span><span class="keyword">));<br />
<br />
</span><span class="comment">// gives '1', 'hello', 'world'<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
hope this helps someone</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="75527""></a>
  <div class="note">
   <strong class="user">Joe at neosource dot com dot au</strong>
   <a href="#75527" class="date">03-Jun-2007 11:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I found the "simple" method of adding arrays behaves differently as described in the documentation in PHP v5.2.0-10.<br />
<br />
$array1 + $array2 will only combine entries for keys that don't already exist.<br />
<br />
Take the following example:<br />
<br />
$ar1 = array('a', 'b');<br />
$ar2 = array('c', 'd');<br />
$ar3 = ($ar1 + $ar2);<br />
print_r($ar3);<br />
<br />
Result:<br />
<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; a<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; b<br />
)<br />
<br />
Where as:<br />
<br />
$ar1 = array('a', 'b');<br />
$ar2 = array('c', 'd');<br />
$ar3 = array_merge($ar1, $ar2);<br />
print_r($ar3);<br />
<br />
Result:<br />
<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; a<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; b<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; c<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; d<br />
)<br />
<br />
Hope this helps someone.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="75268""></a>
  <div class="note">
   <strong class="user">RQuadling at GMail dot com</strong>
   <a href="#75268" class="date">21-May-2007 05:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For asteddy at tin dot it and others who are trying to merge arrays and keep the keys, don't forget the simple + operator.<br />
<br />
Using the array_merge_keys() function (with a small mod to deal with multiple arguments), provides no difference in output as compared to +.<br />
<br />
<span class="default">&lt;?php<br />
$a </span><span class="keyword">= array(-</span><span class="default">1 </span><span class="keyword">=&gt; </span><span class="string">'minus 1'</span><span class="keyword">);<br />
</span><span class="default">$b </span><span class="keyword">= array(</span><span class="default">0 </span><span class="keyword">=&gt; </span><span class="string">'nought'</span><span class="keyword">);<br />
</span><span class="default">$c </span><span class="keyword">= array(</span><span class="default">0 </span><span class="keyword">=&gt; </span><span class="string">'nought'</span><span class="keyword">);<br />
</span><span class="default">var_export</span><span class="keyword">(</span><span class="default">array_merge_keys</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">,</span><span class="default">$b</span><span class="keyword">));<br />
</span><span class="default">var_export</span><span class="keyword">(</span><span class="default">$a </span><span class="keyword">+ </span><span class="default">$b</span><span class="keyword">);<br />
</span><span class="default">var_export</span><span class="keyword">(</span><span class="default">array_merge_keys</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">,</span><span class="default">$b</span><span class="keyword">,</span><span class="default">$c</span><span class="keyword">));<br />
</span><span class="default">var_export</span><span class="keyword">(</span><span class="default">$a </span><span class="keyword">+ </span><span class="default">$b </span><span class="keyword">+ </span><span class="default">$c</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
results in ...<br />
<br />
array (&nbsp; -1 =&gt; 'minus 1',&nbsp; 0 =&gt; 'nought',)<br />
array (&nbsp; -1 =&gt; 'minus 1',&nbsp; 0 =&gt; 'nought',)<br />
array (&nbsp; -1 =&gt; 'minus 1',&nbsp; 0 =&gt; 'nought',)<br />
array (&nbsp; -1 =&gt; 'minus 1',&nbsp; 0 =&gt; 'nought',)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="69991""></a>
  <div class="note">
   <strong class="user">BigueNique at yahoo dot ca</strong>
   <a href="#69991" class="date">28-Sep-2006 07:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Needed an quick array_merge clone that preserves the keys:
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="comment">// function array_join
<br />
// merges 2 arrays preserving the keys, 
<br />
// even if they are numeric (unlike array_merge)
<br />
// if 2 keys are identical, the last one overwites 
<br />
// the existing one, just like array_merge
<br />
// merges up to 10 arrays, minimum 2.
<br />
</span><span class="keyword">function </span><span class="default">array_join</span><span class="keyword">(</span><span class="default">$a1</span><span class="keyword">, </span><span class="default">$a2</span><span class="keyword">, </span><span class="default">$a3</span><span class="keyword">=</span><span class="default">null</span><span class="keyword">, </span><span class="default">$a4</span><span class="keyword">=</span><span class="default">null</span><span class="keyword">, </span><span class="default">$a5</span><span class="keyword">=</span><span class="default">null</span><span class="keyword">, </span><span class="default">$a6</span><span class="keyword">=</span><span class="default">null</span><span class="keyword">, </span><span class="default">$a7</span><span class="keyword">=</span><span class="default">null</span><span class="keyword">, </span><span class="default">$a8</span><span class="keyword">=</span><span class="default">null</span><span class="keyword">, </span><span class="default">$a9</span><span class="keyword">=</span><span class="default">null</span><span class="keyword">, </span><span class="default">$a10</span><span class="keyword">=</span><span class="default">null</span><span class="keyword">) {
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$a</span><span class="keyword">=array();
<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$a1 </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">=&gt;</span><span class="default">$value</span><span class="keyword">) </span><span class="default">$a</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]=</span><span class="default">$value</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$a2 </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">=&gt;</span><span class="default">$value</span><span class="keyword">) </span><span class="default">$a</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]=</span><span class="default">$value</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$a3</span><span class="keyword">)) </span><span class="default">$a</span><span class="keyword">=</span><span class="default">array_join</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">,</span><span class="default">$a3</span><span class="keyword">,</span><span class="default">$a4</span><span class="keyword">,</span><span class="default">$a5</span><span class="keyword">,</span><span class="default">$a6</span><span class="keyword">,</span><span class="default">$a7</span><span class="keyword">,</span><span class="default">$a8</span><span class="keyword">,</span><span class="default">$a9</span><span class="keyword">,</span><span class="default">$a10</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$a</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="58381""></a>
  <div class="note">
   <strong class="user">kaigillmann at gmxpro dot net</strong>
   <a href="#58381" class="date">02-Nov-2005 03:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you need to merge two arrays without having multiple entries, try this:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">array_fusion</span><span class="keyword">(</span><span class="default">$ArrayOne</span><span class="keyword">, </span><span class="default">$ArrayTwo</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">array_unique</span><span class="keyword">(</span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$ArrayOne</span><span class="keyword">, </span><span class="default">$ArrayTwo</span><span class="keyword">));<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="54762""></a>
  <div class="note">
   <strong class="user">ntpt at centrum dot cz</strong>
   <a href="#54762" class="date">14-Jul-2005 06:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Old behavior of array_merge can be restored by simple&nbsp; variable type casting like this<br />
<br />
array_merge((array)$foo,(array)$bar);<br />
<br />
works good in php 5.1.0 Beta 1, not tested in other versions <br />
<br />
seems that empty or not set variables are casted to empty arrays</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="49221""></a>
  <div class="note">
   <strong class="user">Alec Solway</strong>
   <a href="#49221" class="date">20-Jan-2005 10:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that if you put a number as a key in an array, it is eventually converted to an int even if you cast it to a string or put it in quotes.<br />
<br />
That is:<br />
<br />
$arr["0"] = "Test";<br />
var_dump( key($arr) );<br />
<br />
will output int(0).<br />
<br />
This is important to note when merging because array_merge will append values with a clashing int-based index instead of replacing them. This kept me tied up for hours.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="48426""></a>
  <div class="note">
   <strong class="user">Frederick.Lemasson{AT}kik-it.com</strong>
   <a href="#48426" class="date">23-Dec-2004 02:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
if you generate form select from an array, you probably want to keep your array keys and order intact,<br />
if so you can use ArrayMergeKeepKeys(), works just like array_merge :<br />
<br />
array ArrayMergeKeepKeys ( array array1 [, array array2 [, array ...]])<br />
<br />
but keeps the keys even if of numeric kind. <br />
enjoy<br />
<br />
&lt;?<br />
<br />
$Default[0]='Select Something please';<br />
<br />
$Data[147]='potato';<br />
$Data[258]='banana';<br />
$Data[54]='tomato';<br />
<br />
$A=array_merge($Default,$Data);<br />
<br />
$B=ArrayMergeKeepKeys($Default,$Data);<br />
<br />
echo '&lt;pre&gt;';<br />
print_r($A);<br />
print_r($B);<br />
echo '&lt;/pre&gt;';<br />
<br />
Function ArrayMergeKeepKeys() {<br />
&nbsp;&nbsp; &nbsp;&nbsp; $arg_list = func_get_args();<br />
&nbsp;&nbsp; &nbsp;&nbsp; foreach((array)$arg_list as $arg){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach((array)$arg as $K =&gt; $V){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $Zoo[$K]=$V;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return $Zoo;<br />
}<br />
<br />
//will output :<br />
<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; Select Something please<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; potato<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; banana<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; tomato<br />
)<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; Select Something please<br />
&nbsp;&nbsp;&nbsp; [147] =&gt; potato<br />
&nbsp;&nbsp;&nbsp; [258] =&gt; banana<br />
&nbsp;&nbsp;&nbsp; [54] =&gt; tomato<br />
)<br />
<br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="45059""></a>
  <div class="note">
   <strong class="user">bcraigie at bigfoot dot com</strong>
   <a href="#45059" class="date">24-Aug-2004 12:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It would seem that array_merge doesn't do anything when one array is empty (unset):<br />
<br />
<span class="default">&lt;?php </span><span class="comment">//$a is unset<br />
</span><span class="default">$b </span><span class="keyword">= array(</span><span class="string">"1" </span><span class="keyword">=&gt; </span><span class="string">"x"</span><span class="keyword">);<br />
<br />
</span><span class="default">$a </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">});<br />
<br />
</span><span class="comment">//$a is still unset.<br />
</span><span class="default">?&gt;<br />
</span><br />
to fix this omit $a if it is unset:-<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if(!IsSet(</span><span class="default">$a</span><span class="keyword">)) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$a </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">);<br />
} else {<br />
&nbsp; </span><span class="default">$a </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
I don't know if there's a better way.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="40205""></a>
  <div class="note">
   <strong class="user">frankb at fbis dot net</strong>
   <a href="#40205" class="date">25-Feb-2004 04:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
to merge arrays and preserve the key i found the following working with php 4.3.1:
<br />

<br />
<span class="default">&lt;?php
<br />
$array1 </span><span class="keyword">= array(</span><span class="default">1 </span><span class="keyword">=&gt; </span><span class="string">"Test1"</span><span class="keyword">, </span><span class="default">2 </span><span class="keyword">=&gt; </span><span class="string">"Test2"</span><span class="keyword">);
<br />
</span><span class="default">$array2 </span><span class="keyword">= array(</span><span class="default">3 </span><span class="keyword">=&gt; </span><span class="string">"Test3"</span><span class="keyword">, </span><span class="default">4 </span><span class="keyword">=&gt; </span><span class="string">"Test4"</span><span class="keyword">);
<br />

<br />
</span><span class="default">$array1 </span><span class="keyword">+= </span><span class="default">$array2</span><span class="keyword">;
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
dont know if this is working with other php versions but it is a simple and fast way to solve that problem.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="36173""></a>
  <div class="note">
   <strong class="user">loner at psknet dot !NOSPAM!com</strong>
   <a href="#36173" class="date">29-Sep-2003 03:00</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I got tripped up for a few days when I tried to merge a (previously serialized) array into a object. If it doesn't make sense, think about it... To someone fairly new, it could... Anyway, here is what I did:<br />
(It's obviously not recursive, but easy to make that way)<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">array_object_merge</span><span class="keyword">(&amp;</span><span class="default">$object</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$object</span><span class="keyword">-&gt;{</span><span class="default">$key</span><span class="keyword">} = </span><span class="default">$value</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Simple problem, but concevibly easy to get stuck on.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="35519""></a>
  <div class="note">
   
   <a href="#35519" class="date">03-Sep-2003 03:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For those who are getting duplicate entries when using this function, there is a very easy solution:<br />
<br />
wrap array_unique() around array_merge()<br />
<br />
cheers,<br />
<br />
k.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="34380""></a>
  <div class="note">
   <strong class="user">tobias_mik at hotmail dot com</strong>
   <a href="#34380" class="date">25-Jul-2003 05:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This function merges any number of arrays and maintains the keys:
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">array_kmerge </span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) {
<br />
&nbsp;</span><span class="default">reset</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);
<br />
&nbsp;while (</span><span class="default">$tmp </span><span class="keyword">= </span><span class="default">each</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">))
<br />
&nbsp;{
<br />
&nbsp; if(</span><span class="default">count</span><span class="keyword">(</span><span class="default">$tmp</span><span class="keyword">[</span><span class="string">'value'</span><span class="keyword">]) &gt; </span><span class="default">0</span><span class="keyword">)
<br />
&nbsp; {
<br />
&nbsp;&nbsp; </span><span class="default">$k</span><span class="keyword">[</span><span class="default">$tmp</span><span class="keyword">[</span><span class="string">'key'</span><span class="keyword">]] = </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$tmp</span><span class="keyword">[</span><span class="string">'value'</span><span class="keyword">]);
<br />
&nbsp;&nbsp; </span><span class="default">$v</span><span class="keyword">[</span><span class="default">$tmp</span><span class="keyword">[</span><span class="string">'key'</span><span class="keyword">]] = </span><span class="default">array_values</span><span class="keyword">(</span><span class="default">$tmp</span><span class="keyword">[</span><span class="string">'value'</span><span class="keyword">]);
<br />
&nbsp; }
<br />
&nbsp;}
<br />
&nbsp;while(</span><span class="default">$tmp </span><span class="keyword">= </span><span class="default">each</span><span class="keyword">(</span><span class="default">$k</span><span class="keyword">))
<br />
&nbsp;{
<br />
&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">$start</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$start</span><span class="keyword">+</span><span class="default">count</span><span class="keyword">(</span><span class="default">$tmp</span><span class="keyword">[</span><span class="string">'value'</span><span class="keyword">]); </span><span class="default">$i </span><span class="keyword">++)</span><span class="default">$r</span><span class="keyword">[</span><span class="default">$tmp</span><span class="keyword">[</span><span class="string">'value'</span><span class="keyword">][</span><span class="default">$i</span><span class="keyword">-</span><span class="default">$start</span><span class="keyword">]] = </span><span class="default">$v</span><span class="keyword">[</span><span class="default">$tmp</span><span class="keyword">[</span><span class="string">'key'</span><span class="keyword">]][</span><span class="default">$i</span><span class="keyword">-</span><span class="default">$start</span><span class="keyword">];
<br />
&nbsp; </span><span class="default">$start </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$tmp</span><span class="keyword">[</span><span class="string">'value'</span><span class="keyword">]);
<br />
&nbsp;}
<br />
&nbsp;return </span><span class="default">$r</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
