<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>设置一个 SNMP 对象</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.snmprealwalk.html">? snmprealwalk</a></li>
      <li style="float: right;"><a href="function.snmpwalk.html">snmpwalk ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.snmp.html">SNMP 函数</a></li>
    <li>设置一个 SNMP 对象</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.snmpset" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">snmpset</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">snmpset</span> &mdash; <span class="dc-title">设置一个 SNMP 对象</span></p>

 </div>
 <div class="refsect1 unknown-seealsp" id="refsect1-function.snmpset-unknown-seealsp">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>snmpset</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$hostname</code></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$community</code></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$object_id</code></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$type</code></span>
   , <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$value</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$timeout</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$retries</code></span>
  ]] ) : <span class="type">bool</span></div>


  <p class="para rdfs-comment">
   设置指定的 SNMP 对象的值，成功返回 <strong><code>TRUE</code></strong>，错误则返回 <strong><code>FALSE</code></strong>。
  </p>

  <p class="para">
   函数 <span class="function"><strong>snmpset()</strong></span> 用于设置由
   <code class="parameter">object_id</code> 指定的 SNMP
   对象的值。<code class="parameter">hostname</code> 
   指定 SNMP 代理，而 <code class="parameter">community</code>
   参数指定具有读权限的域。
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="95634""></a>
  <div class="note">
   <strong class="user">ch at lathspell dot de</strong>
   <a href="#95634" class="date">13-Jan-2010 06:22</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that there are two ways to set a variable of the type BITS like e.g.: <br />
&nbsp; SYNTAX&nbsp; &nbsp; &nbsp; &nbsp; BITS {telnet(0), ftp(1), http(2), icmp(3), snmp(4), ssh(5), https(6)}<br />
<br />
1. Using type "b" and a list of bit numbers like:<br />
&nbsp; snmpset('FOO-MIB::bar.42', 'b', '0 1 2 3 4');<br />
with the disadvantage that the success is not easily verifyable as an snmpget() for the same OID would return e.g. 0xF8.<br />
<br />
2. Using type "x" and a hex number but without(!) the usual "0x" prefix:<br />
&nbsp; snmpset('FOO-MIB::bar.42', 'x', 'F0');</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="74600""></a>
  <div class="note">
   <strong class="user">tridman</strong>
   <a href="#74600" class="date">19-Apr-2007 07:19</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you have importet the MIB-Files into the MIB Tree with "snmp_read_mib" you may use '=' as the "type" parameter.<br />
In this case the type will also be taken from the loaded mib file. (Octest strings will be interpreted like strings though)<br />
Comes in handy for a more dynamic use of snmpset.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="72000""></a>
  <div class="note">
   <strong class="user">deivis dot jakstas at gmail dot com</strong>
   <a href="#72000" class="date">28-Dec-2006 06:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you setting hex values correct format is:<br />
snmpset($source_ip,$community,"$oid","x","10 10 10 10");</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="1192""></a>
  <div class="note">
   <strong class="user">slawrance at technologist dot com</strong>
   <a href="#1192" class="date">21-Jul-1999 12:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The "type" parameter must be one of the following, depending on the type of variable to set on the SNMP host:
<br />

<br />
i&nbsp; &nbsp; INTEGER
<br />
u&nbsp; &nbsp; unsigned INTEGER
<br />
t&nbsp; &nbsp; TIMETICKS
<br />
a&nbsp; &nbsp; IPADDRESS
<br />
o&nbsp; &nbsp; OBJID
<br />
s&nbsp; &nbsp; STRING
<br />
x&nbsp; &nbsp; HEX STRING
<br />
d&nbsp; &nbsp; DECIMAL STRING
<br />
n&nbsp; &nbsp; NULLOBJ
<br />
b&nbsp; &nbsp; BITS
<br />

<br />
If OPAQUE_SPECIAL_TYPES was defined while compiling the SNMP library, the
<br />
following are also valid:
<br />

<br />
U&nbsp; &nbsp; unsigned int64
<br />
I&nbsp; &nbsp; signed int64
<br />
F&nbsp; &nbsp; float
<br />
D&nbsp; &nbsp; double
<br />

<br />
As an example, using "i" would set an integer, and "s" would set a string.&nbsp; If the SNMP host rejects the data type, you might get the following message: "Warning: Error in packet. Reason: (badValue) The value given has the wrong type or length."
<br />

<br />
If you specify an unknown or invalid OID, you might get a "Could not add variable" message.&nbsp; When specifying an absolute OID (one that is already resolved) that is completely numeric, prepend it with a period.&nbsp; For example, an OID that could enable/disable Ethernet ports on an Asante hub might be "1.3.6.1.2.1.22.1.3.1.1.3.6.4.0", but you would need to use ".1.3.6.1.2.1.22.1.3.1.1.3.6.4.0" in the OID parameter so that the SNMP library won't try to resolve an already resolved OID.&nbsp; Friendly, unresolved OIDs do not need the period prepended, such as "system.SysContact.0"</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
