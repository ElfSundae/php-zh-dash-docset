<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>Windows 系统下的安装</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="install.macosx.compile.html">? 在 macOS 下编译 PHP</a></li>
      <li style="float: right;"><a href="install.windows.requirements.html">环境要求 ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="install.html">安装与配置</a></li>
    <li>Windows 系统下的安装</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="install.windows" class="chapter">
 <h1 class="title">Windows 系统下的安装</h1>
<h2>Table of Contents</h2><ul class="chunklist chunklist_chapter"><li><a href="install.windows.requirements.html">环境要求</a></li><li><a href="install.windows.pecl.html">PECL</a></li><li><a href="install.windows.tools.html">Windows 下的 PHP 安装程序工具</a></li><li><a href="install.windows.recommended.html">Windows 系统下的推荐配置</a></li><li><a href="install.windows.manual.html">在 Windows 上手动安装 PHP</a></li><li><a href="install.windows.building.html">从源程序编译</a></li><li><a href="install.windows.commandline.html">PHP 在 Microsoft Windows 下的命令行方式</a></li><li><a href="install.windows.apache2.html">Microsoft Windows 下的 Apache 2.x</a></li><li><a href="install.windows.troubleshooting.html">Windows 下 PHP 故障排除</a></li></ul>

 <p class="para">
  在微软 Windows 系统上安装 PHP，并推荐使用常见的 Web 服务器进行配置。
 </p>

 <p class="para">
  PHP 在 Windows 上的官方版本被推荐用于生产环境。如果有需要，你也可以从源码中构建 PHP。你需要一个 Visual Studio 环境。请参阅
  <a href="https://wiki.php.net/internals/windows/stepbystepbuild" class="link external" title="Link : https://wiki.php.net/internals/windows/stepbystepbuild">&raquo;&nbsp;从源码构建</a>
  章节。
 </p>
 <p class="para">
  <ul class="itemizedlist">
   <li class="listitem">
    <p class="para">
     <a href="install.windows.commandline.html" class="link">在 Windows 命令行使用 PHP</a>
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     <a href="install.cloud.azure.html" class="link">在 Azure 上安装 PHP 服务</a>
     (又称 Microsoft Azure、Windows Azure 或 (Windows) Azure Web 应用)。
    </p>
   </li>
  </ul>
 </p>

 

 

 
 






 








 







 







 







 






 






</div>
<div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="64754""></a>
  <div class="note">
   <strong class="user">SmugWimp at smugwimp dot com</strong>
   <a href="#64754" class="date">20-Apr-2006 02:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you make changes to your PHP.ini file, consider the following.
<br />

<br />
(I'm running IIS5 on W2K server. I don't know about 2K3)
<br />

<br />
PHP will not "take" the changes until the webserver is restarted, and that doesn't mean through the MMC.&nbsp; Usually folks just reboot. But you can also use the following commands, for a much faster "turnaround".&nbsp; At a command line prompt, type:
<br />

<br />
iisreset /stop
<br />

<br />
and that will stop the webserver service.&nbsp; Then type:
<br />

<br />
net start w3svc
<br />

<br />
and that will start the webserver service again.&nbsp; MUCH faster than a reboot, and you can check your changes faster as a result with the old:
<br />

<br />
&lt;?php&gt;
<br />
phpinfo();
<br />
?&gt;
<br />

<br />
in your page somewhere.
<br />

<br />
I wish I could remember where I read this tip; it isn't anything I came up with...</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="60737""></a>
  <div class="note">
   <strong class="user">lukasz at szostak dot biz</strong>
   <a href="#60737" class="date">15-Jan-2006 07:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You can have multiple versions of PHP running on the same Apache server. I have seen many different solutions pointing at achieving this, but most of them required installing additional instances of Apache, redirecting ports/hosts, etc., which was not satisfying for me.<br />
Finally, I have come up with the simplest solution I've seen so far, limited to reconfiguring Apache's httpd.conf.<br />
<br />
My goal is to have PHP5 as the default scripting language for .php files in my DocumentRoot (which is in my case d:/htdocs), and PHP4 for specified DocumentRoot subdirectories.<br />
<br />
Here it is (Apache's httpd.conf contents):<br />
<br />
---------------------------<br />
# replace with your PHP4 directory<br />
ScriptAlias /php4/ "c:/usr/php4/"<br />
# replace with your PHP5 directory<br />
ScriptAlias /php5/ "c:/usr/php5/"<br />
<br />
AddType application/x-httpd-php .php<br />
Action application/x-httpd-php "/php5/php-cgi.exe"<br />
<br />
# populate this for every directory with PHP4 code<br />
&lt;Directory "d:/htdocs/some_subdir"&gt;<br />
&nbsp;&nbsp;&nbsp; Action application/x-httpd-php "/php4/php.exe"<br />
&nbsp;&nbsp;&nbsp; # directory where your PHP4 php.ini file is located at<br />
&nbsp;&nbsp;&nbsp; SetEnv PHPRC "c:/usr/php4"<br />
&lt;/Directory&gt;<br />
<br />
# remember to put this section below the above<br />
&lt;Directory "d:/htdocs"&gt;<br />
&nbsp;&nbsp;&nbsp; # directory where your PHP5 php.ini file is located at<br />
&nbsp;&nbsp;&nbsp; SetEnv PHPRC "c:/usr/php5"<br />
&lt;/Directory&gt;<br />
---------------------------<br />
<br />
This solution is not limited to having only two parallel versions of PHP. You can play with httpd.conf contents to have as many PHP versions configured as you want.<br />
You can also use multiple php.ini configuration files for the same PHP version (but for different DocumentRoot subfolders), which might be useful in some cases.<br />
<br />
Remember to put your php.ini files in directories specified in lines "SetEnv PHPRC...", and make sure that there's no php.ini files in other directories (such as c:\windows in Windows).<br />
<br />
And finally, as you can see, I run PHP in CGI mode. This has its advantages and limitations. If you have to run PHP as Apache module, then... sorry - you have to use other solution (the best advice as always is: Google it!).<br />
<br />
Hope this helps someone.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="55049""></a>
  <div class="note">
   <strong class="user">jp at iticonsulting dot nl</strong>
   <a href="#55049" class="date">23-Jul-2005 09:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you get 404 page not found on Windows/IIS5, have a look at C:\SYSTEM32\INETSRV\URLSCAN<br />
<br />
There is a .ini file there that prevents some files from being served by IIS, even if they exist, instead IIS will give a 404. The urlscan logfile (same place) should give you some insight into what parameter is preventing a page from loading, if any.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
