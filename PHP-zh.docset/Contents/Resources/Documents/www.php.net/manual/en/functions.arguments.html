<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>函数的参数</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="functions.user-defined.html">? 用户自定义函数</a></li>
      <li style="float: right;"><a href="functions.returning-values.html">返回值 ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="language.functions.html">函数</a></li>
    <li>函数的参数</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="functions.arguments" class="sect1">
   <h2 class="title">函数的参数</h2>

   <p class="simpara">
    通过参数列表可以传递信息到函数，即以逗号作为分隔符的表达式列表。参数是从左向右求值的。
   </p>
   
   
   
   
   <p class="para">
    PHP 支持按值传递参数（默认），<a href="functions.arguments.html#functions.arguments.by-reference" class="link">通过引用传递参数</a>以及<a href="functions.arguments.html#functions.arguments.default" class="link">默认参数</a>。也支持<a href="functions.arguments.html#functions.variable-arg-list" class="link">可变长度参数列表</a>。
   </p>
   <p class="para">
    <div class="example" id="example-145">
     <p><strong>Example #1 向函数传递数组</strong></p>
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">takes_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$input</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$input</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]</span><span style="color: #DD0000">&nbsp;+&nbsp;</span><span style="color: #0000BB">$input</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]</span><span style="color: #DD0000">&nbsp;=&nbsp;"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$input</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]+</span><span style="color: #0000BB">$input</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">];<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

    </div>
   </p>

   
   <div class="sect2" id="functions.arguments.by-reference">
    <h3 class="title">通过引用传递参数</h3>

    <p class="simpara">
     默认情况下，函数参数通过值传递（因而即使在函数内部改变参数的值，它并不会改变函数外部的值）。如果希望允许函数修改它的参数值，必须通过引用传递参数。
    </p>
    <p class="para">
     如果想要函数的一个参数总是通过引用传递，可以在函数定义中该参数的前面加上符号 &amp;：
    </p>
    
    
    
    <p class="para">
     <div class="example" id="example-146">
      <p><strong>Example #2 用引用传递函数参数</strong></p>
      <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">add_some_extra</span><span style="color: #007700">(&amp;</span><span style="color: #0000BB">$string</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$string&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #DD0000">'and&nbsp;something&nbsp;extra.'</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">$str&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'This&nbsp;is&nbsp;a&nbsp;string,&nbsp;'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">add_some_extra</span><span style="color: #007700">(</span><span style="color: #0000BB">$str</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">$str</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;outputs&nbsp;'This&nbsp;is&nbsp;a&nbsp;string,&nbsp;and&nbsp;something&nbsp;extra.'<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
      </div>

     </div>
    </p>

   </div>

   <div class="sect2" id="functions.arguments.default">
    <h3 class="title">默认参数的值</h3>

    <p class="para">
     函数可以定义 C++ 风格的标量参数默认值，如下所示：
    </p>
    <p class="para">
     <div class="example" id="example-147">
      <p><strong>Example #3 在函数中使用默认参数</strong></p>
      <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">makecoffee</span><span style="color: #007700">(</span><span style="color: #0000BB">$type&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"cappuccino"</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #DD0000">"Making&nbsp;a&nbsp;cup&nbsp;of&nbsp;</span><span style="color: #0000BB">$type</span><span style="color: #DD0000">.\n"</span><span style="color: #007700">;<br />}<br />echo&nbsp;</span><span style="color: #0000BB">makecoffee</span><span style="color: #007700">();<br />echo&nbsp;</span><span style="color: #0000BB">makecoffee</span><span style="color: #007700">(</span><span style="color: #0000BB">null</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">makecoffee</span><span style="color: #007700">(</span><span style="color: #DD0000">"espresso"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
      </div>

      <div class="example-contents"><p>以上例程会输出：</p></div>
      <div class="example-contents screen">
<div class="cdata"><pre>
Making a cup of cappuccino.
Making a cup of .
Making a cup of espresso.
</pre></div>
      </div>
     </div>
    </p>
    <p class="para">
     PHP 还允许使用数组 <span class="type"><a href="language.types.array.html" class="type array">array</a></span> 和特殊类型 <strong><code>NULL</code></strong> 作为默认参数，例如：
    </p>
    <p class="para">
     <div class="example" id="example-148">
      <p><strong>Example #4 使用非标量类型作为默认参数</strong></p>
      <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">makecoffee</span><span style="color: #007700">(</span><span style="color: #0000BB">$types&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">"cappuccino"</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">$coffeeMaker&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">NULL</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$device&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">is_null</span><span style="color: #007700">(</span><span style="color: #0000BB">$coffeeMaker</span><span style="color: #007700">)&nbsp;?&nbsp;</span><span style="color: #DD0000">"hands"&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">$coffeeMaker</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #DD0000">"Making&nbsp;a&nbsp;cup&nbsp;of&nbsp;"</span><span style="color: #007700">.</span><span style="color: #0000BB">join</span><span style="color: #007700">(</span><span style="color: #DD0000">",&nbsp;"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$types</span><span style="color: #007700">).</span><span style="color: #DD0000">"&nbsp;with&nbsp;</span><span style="color: #0000BB">$device</span><span style="color: #DD0000">.\n"</span><span style="color: #007700">;<br />}<br />echo&nbsp;</span><span style="color: #0000BB">makecoffee</span><span style="color: #007700">();<br />echo&nbsp;</span><span style="color: #0000BB">makecoffee</span><span style="color: #007700">(array(</span><span style="color: #DD0000">"cappuccino"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"lavazza"</span><span style="color: #007700">),&nbsp;</span><span style="color: #DD0000">"teapot"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
      </div>

     </div>
    </p>

    <p class="simpara">
     默认值必须是常量表达式，不能是诸如变量，类成员，或者函数调用等。
    </p>
    <p class="para">
     注意当使用默认参数时，任何默认参数必须放在任何非默认参数的右侧；否则，函数将不会按照预期的情况工作。考虑下面的代码片断：
    </p>
    
    
    <p class="para">
     <div class="example" id="example-149">
      <p><strong>Example #5 函数默认参数的不正确用法</strong></p>
      <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">makeyogurt</span><span style="color: #007700">(</span><span style="color: #0000BB">$type&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"acidophilus"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$flavour</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #DD0000">"Making&nbsp;a&nbsp;bowl&nbsp;of&nbsp;</span><span style="color: #0000BB">$type</span><span style="color: #DD0000">&nbsp;</span><span style="color: #0000BB">$flavour</span><span style="color: #DD0000">.\n"</span><span style="color: #007700">;<br />}<br /><br />echo&nbsp;</span><span style="color: #0000BB">makeyogurt</span><span style="color: #007700">(</span><span style="color: #DD0000">"raspberry"</span><span style="color: #007700">);&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;won't&nbsp;work&nbsp;as&nbsp;expected<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
      </div>

      <div class="example-contents"><p>以上例程会输出：</p></div>
      <div class="example-contents screen">
<div class="cdata"><pre>
Warning: Missing argument 2 in call to makeyogurt() in 
/usr/local/etc/httpd/htdocs/phptest/functest.html on line 41
Making a bowl of raspberry .
</pre></div>
      </div>
     </div>
    </p>
    <p class="para">
     现在，比较上面的例子和这个例子：
    </p>
    <p class="para">
     <div class="example" id="example-150">
      <p><strong>Example #6 函数默认参数正确的用法</strong></p>
      <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">makeyogurt</span><span style="color: #007700">(</span><span style="color: #0000BB">$flavour</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$type&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"acidophilus"</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #DD0000">"Making&nbsp;a&nbsp;bowl&nbsp;of&nbsp;</span><span style="color: #0000BB">$type</span><span style="color: #DD0000">&nbsp;</span><span style="color: #0000BB">$flavour</span><span style="color: #DD0000">.\n"</span><span style="color: #007700">;<br />}<br /><br />echo&nbsp;</span><span style="color: #0000BB">makeyogurt</span><span style="color: #007700">(</span><span style="color: #DD0000">"raspberry"</span><span style="color: #007700">);&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;works&nbsp;as&nbsp;expected<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
      </div>

      <div class="example-contents"><p>以上例程会输出：</p></div>
      <div class="example-contents screen">
<div class="cdata"><pre>
Making a bowl of acidophilus raspberry.
</pre></div>
      </div>
     </div>
    </p>
    <blockquote class="note"><p><strong class="note">Note</strong>: 
     <span class="simpara">
      自 PHP 5 起，传引用的参数也可以有默认值。
     </span>
    </p></blockquote>

   </div>

   <div class="sect2" id="functions.arguments.type-declaration">
    <h3 class="title">类型声明</h3>

    <blockquote class="note"><p><strong class="note">Note</strong>: 
     <p class="para">
      在PHP 5中，类型声明也被称为类型提示。
     </p>
    </p></blockquote>

    <p class="para">
     类型声明允许函数在调用时要求参数为特定类型。
     如果给出的值类型不对，那么将会产生一个错误：
     在PHP 5中，这将是一个可恢复的致命错误，而在PHP 7中将会抛出一个<strong class="classname">TypeError</strong>异常。
    </p>

    <p class="para">
     为了指定一个类型声明，类型应该加到参数名前。这个声明可以通过将参数的默认值设为<strong><code>NULL</code></strong>来实现允许传递<strong><code>NULL</code></strong>。
    </p>

    <div class="sect3" id="functions.arguments.type-declaration.types">
     <h4 class="title">Valid types</h4>
     <table class="doctable informaltable">
      
       <thead>
        <tr>
         <th>Type</th>
         <th>Description</th>
         <th>Minimum PHP version</th>
        </tr>

       </thead>

       <tbody class="tbody">
        <tr>
         <td>Class/interface name</td>
         <td>
          The parameter must be an <a href="language.operators.type.html" class="link"><em>instanceof</em></a> the given class or interface
          name.
         </td>
         <td>PHP 5.0.0</td>
        </tr>

        <tr>
         <td><em>self</em></td>
         <td>
          The parameter must be an <a href="language.operators.type.html" class="link"><em>instanceof</em></a> the same class as the one the
          method is defined on. This can only be used on class and instance
          methods.
         </td>
         <td>PHP 5.0.0</td>
        </tr>

        <tr>
         <td><span class="type"><a href="language.types.array.html" class="type array">array</a></span></td>
         <td>
          The parameter must be an <span class="type"><a href="language.types.array.html" class="type array">array</a></span>.
         </td>
         <td>PHP 5.1.0</td>
        </tr>

        <tr>
         <td><span class="type"><a href="language.types.callable.html" class="type callable">callable</a></span></td>
         <td>
          The parameter must be a valid <span class="type"><a href="language.types.callable.html" class="type callable">callable</a></span>.
         </td>
         <td>PHP 5.4.0</td>
        </tr>

        <tr>
         <td><span class="type"><a href="language.types.boolean.html" class="type bool">bool</a></span></td>
         <td>
          The parameter must be a <span class="type"><a href="language.types.boolean.html" class="type boolean">boolean</a></span> value.
         </td>
         <td>PHP 7.0.0</td>
        </tr>

        <tr>
         <td><span class="type"><a href="language.types.float.html" class="type float">float</a></span></td>
         <td>
          The parameter must be a <span class="type"><a href="language.types.float.html" class="type float">float</a></span>ing point number.
         </td>
         <td>PHP 7.0.0</td>
        </tr>

        <tr>
         <td><span class="type"><a href="language.types.integer.html" class="type int">int</a></span></td>
         <td>
          The parameter must be an <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>.
         </td>
         <td>PHP 7.0.0</td>
        </tr>

        <tr>
         <td><span class="type"><a href="language.types.string.html" class="type string">string</a></span></td>
         <td>
          The parameter must be a <span class="type"><a href="language.types.string.html" class="type string">string</a></span>.
         </td>
         <td>PHP 7.0.0</td>
        </tr>

       </tbody>
      
     </table>

     
     <div class="warning"><strong class="warning">Warning</strong>
      <p class="para">
       Aliases for the above scalar types are not supported. Instead, they are
       treated as class or interface names. For example, using
       <em>boolean</em> as a parameter or return type will require
       an argument or return value that is an <a href="language.operators.type.html" class="link"><em>instanceof</em></a> the class or
       interface <em>boolean</em>, rather than of type
       <span class="type"><a href="language.types.boolean.html" class="type bool">bool</a></span>:
      </p>
      <p class="para">
       <div class="example" id="example-151">
        <div class="example-contents">
 <div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">test</span><span style="color: #007700">(</span><span style="color: #0000BB">boolean&nbsp;$param</span><span style="color: #007700">)&nbsp;{}<br />&nbsp;</span><span style="color: #0000BB">test</span><span style="color: #007700">(</span><span style="color: #0000BB">true</span><span style="color: #007700">);<br />&nbsp;</span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
        </div>

        <div class="example-contents"><p>以上例程会输出：</p></div>
        <div class="example-contents screen">
 <div class="cdata"><pre>
 Fatal error: Uncaught TypeError: Argument 1 passed to test() must be an instance of boolean, boolean given, called in - on line 1 and defined in -:1
 </pre></div>
        </div>
       </div>
      </p>
     </div>
    </div>

    <div class="sect3" id="functions.arguments.type-declaration.examples">
     <h4 class="title">范例</h4>
     <div class="example" id="example-152">
      <p><strong>Example #7 Basic class type declaration</strong></p>
      <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">C&nbsp;</span><span style="color: #007700">{}<br />class&nbsp;</span><span style="color: #0000BB">D&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">C&nbsp;</span><span style="color: #007700">{}<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;doesn't&nbsp;extend&nbsp;C.<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">E&nbsp;</span><span style="color: #007700">{}<br /><br />function&nbsp;</span><span style="color: #0000BB">f</span><span style="color: #007700">(</span><span style="color: #0000BB">C&nbsp;$c</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">get_class</span><span style="color: #007700">(</span><span style="color: #0000BB">$c</span><span style="color: #007700">).</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">f</span><span style="color: #007700">(new&nbsp;</span><span style="color: #0000BB">C</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">f</span><span style="color: #007700">(new&nbsp;</span><span style="color: #0000BB">D</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">f</span><span style="color: #007700">(new&nbsp;</span><span style="color: #0000BB">E</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
      </div>

      <div class="example-contents"><p>以上例程会输出：</p></div>
      <div class="example-contents screen">
<div class="cdata"><pre>
C
D

Fatal error: Uncaught TypeError: Argument 1 passed to f() must be an instance of C, instance of E given, called in - on line 14 and defined in -:8
Stack trace:
#0 -(14): f(Object(E))
#1 {main}
  thrown in - on line 8
</pre></div>
      </div>
     </div>

     <div class="example" id="example-153">
      <p><strong>Example #8 Basic interface type declaration</strong></p>
      <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">interface&nbsp;</span><span style="color: #0000BB">I&nbsp;</span><span style="color: #007700">{&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">f</span><span style="color: #007700">();&nbsp;}<br />class&nbsp;</span><span style="color: #0000BB">C&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">I&nbsp;</span><span style="color: #007700">{&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">f</span><span style="color: #007700">()&nbsp;{}&nbsp;}<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;doesn't&nbsp;implement&nbsp;I.<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">E&nbsp;</span><span style="color: #007700">{}<br /><br />function&nbsp;</span><span style="color: #0000BB">f</span><span style="color: #007700">(</span><span style="color: #0000BB">I&nbsp;$i</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">get_class</span><span style="color: #007700">(</span><span style="color: #0000BB">$i</span><span style="color: #007700">).</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">f</span><span style="color: #007700">(new&nbsp;</span><span style="color: #0000BB">C</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">f</span><span style="color: #007700">(new&nbsp;</span><span style="color: #0000BB">E</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
      </div>

      <div class="example-contents"><p>以上例程会输出：</p></div>
      <div class="example-contents screen">
<div class="cdata"><pre>
C

Fatal error: Uncaught TypeError: Argument 1 passed to f() must implement interface I, instance of E given, called in - on line 13 and defined in -:8
Stack trace:
#0 -(13): f(Object(E))
#1 {main}
  thrown in - on line 8
</pre></div>
      </div>
     </div>

     <div class="example" id="example-154">
      <p><strong>Example #9 Nullable type declaration</strong></p>
      <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">C&nbsp;</span><span style="color: #007700">{}<br /><br />function&nbsp;</span><span style="color: #0000BB">f</span><span style="color: #007700">(</span><span style="color: #0000BB">C&nbsp;$c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$c</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #0000BB">f</span><span style="color: #007700">(new&nbsp;</span><span style="color: #0000BB">C</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">f</span><span style="color: #007700">(</span><span style="color: #0000BB">null</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
      </div>

      <div class="example-contents"><p>以上例程会输出：</p></div>
      <div class="example-contents screen">
<div class="cdata"><pre>
object(C)#1 (0) {
}
NULL
</pre></div>
      </div>
     </div>
    </div>

    <div class="sect3" id="functions.arguments.type-declaration.strict">
     <h4 class="title">严格类型</h4>

     <p class="para">
      默认情况下，如果能做到的话，PHP将会强迫错误类型的值转为函数期望的标量类型。
      例如，一个函数的一个参数期望是<span class="type"><a href="language.types.string.html" class="type string">string</a></span>，但传入的是<span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>，最终函数得到的将会是一个<span class="type"><a href="language.types.string.html" class="type string">string</a></span>类型的值。
     </p>

     <p class="para">
      可以基于每一个文件开启严格模式。在严格模式中，只有一个与类型声明完全相符的变量才会被接受，否则将会抛出一个<strong class="classname">TypeError</strong>。
      唯一的一个例外是可以将<span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>传给一个期望<span class="type"><a href="language.types.float.html" class="type float">float</a></span>的函数。
     </p>

     <p class="para">
      使用 <a href="control-structures.declare.html" class="link"><em>declare</em></a> 语句和<em>strict_types</em> 声明来启用严格模式：
     </p>

     <div class="caution"><strong class="caution">Caution</strong>
      <p class="para">
       启用严格模式同时也会影响<a href="functions.returning-values.html#functions.returning-values.type-declaration" class="link">返回值类型声明</a>.
      </p>
     </div>

     <blockquote class="note"><p><strong class="note">Note</strong>: 
      <p class="para">
       严格类型适用于在<em class="emphasis">启用严格模式的文件内</em>的函数调用，而不是在那个文件内声明的函数。
       一个没有启用严格模式的文件内调用了一个在启用严格模式的文件中定义的函数，那么将会遵循调用者的偏好（弱类型），而这个值将会被转换。
      </p>
     </p></blockquote>

     <blockquote class="note"><p><strong class="note">Note</strong>: 
      <p class="para">
       严格类型仅用于标量类型声明，也正是因为如此，这需要PHP 7.0.0 或更新版本，因为标量类型声明也是在那个版本中添加的。
      </p>
     </p></blockquote>

     <div class="example" id="example-155">
      <p><strong>Example #10 Strict typing</strong></p>
      <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">declare(</span><span style="color: #0000BB">strict_types</span><span style="color: #007700">=</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br /><br />function&nbsp;</span><span style="color: #0000BB">sum</span><span style="color: #007700">(</span><span style="color: #0000BB">int&nbsp;$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">int&nbsp;$b</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">sum</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">sum</span><span style="color: #007700">(</span><span style="color: #0000BB">1.5</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2.5</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
      </div>

      <div class="example-contents"><p>以上例程会输出：</p></div>
      <div class="example-contents screen">
<div class="cdata"><pre>
int(3)

Fatal error: Uncaught TypeError: Argument 1 passed to sum() must be of the type integer, float given, called in - on line 9 and defined in -:4
Stack trace:
#0 -(9): sum(1.5, 2.5)
#1 {main}
  thrown in - on line 4
</pre></div>
      </div>
     </div>

     <div class="example" id="example-156">
      <p><strong>Example #11 Weak typing</strong></p>
      <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">sum</span><span style="color: #007700">(</span><span style="color: #0000BB">int&nbsp;$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">int&nbsp;$b</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">sum</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">//&nbsp;These&nbsp;will&nbsp;be&nbsp;coerced&nbsp;to&nbsp;integers:&nbsp;note&nbsp;the&nbsp;output&nbsp;below!<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">sum</span><span style="color: #007700">(</span><span style="color: #0000BB">1.5</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2.5</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
      </div>

      <div class="example-contents"><p>以上例程会输出：</p></div>
      <div class="example-contents screen">
<div class="cdata"><pre>
int(3)
int(3)
</pre></div>
      </div>
     </div>

     <div class="example" id="example-157">
      <p><strong>Example #12 Catching <strong class="classname">TypeError</strong></strong></p>
      <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">declare(</span><span style="color: #0000BB">strict_types</span><span style="color: #007700">=</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br /><br />function&nbsp;</span><span style="color: #0000BB">sum</span><span style="color: #007700">(</span><span style="color: #0000BB">int&nbsp;$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">int&nbsp;$b</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">;<br />}<br /><br />try&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">sum</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">sum</span><span style="color: #007700">(</span><span style="color: #0000BB">1.5</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2.5</span><span style="color: #007700">));<br />}&nbsp;catch&nbsp;(</span><span style="color: #0000BB">TypeError&nbsp;$e</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Error:&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$e</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getMessage</span><span style="color: #007700">();<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
      </div>

      <div class="example-contents"><p>以上例程会输出：</p></div>
      <div class="example-contents screen">
<div class="cdata"><pre>
int(3)
Error: Argument 1 passed to sum() must be of the type integer, float given, called in - on line 10
</pre></div>
      </div>
     </div>
    </div>
   </div>

   <div class="sect2" id="functions.variable-arg-list">
    <h3 class="title">可变数量的参数列表</h3>

    <p class="simpara">
     PHP 在用户自定义函数中支持可变数量的参数列表。在 PHP 5.6 及以上的版本中，由 <em>...</em> 语法实现；在 PHP 5.5 及更早版本中，使用函数
     <span class="function"><a href="function.func-num-args.html" class="function">func_num_args()</a></span>，<span class="function"><a href="function.func-get-arg.html" class="function">func_get_arg()</a></span>，和
     <span class="function"><a href="function.func-get-args.html" class="function">func_get_args()</a></span> 。
    </p>
    <div class="sect3" id="functions.variable-arg-list.new">
     <h4 class="title"><em>...</em> in PHP 5.6+</h4>

     <p class="para">
      In PHP 5.6 and later, argument lists may include the
      <em>...</em> token to denote that the function accepts a
      variable number of arguments. The arguments will be passed into the
      given variable as an array; for example:

      <div class="example" id="example-158">
       <p><strong>Example #13 Using <em>...</em> to access variable arguments</strong></p>
       <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">sum</span><span style="color: #007700">(...</span><span style="color: #0000BB">$numbers</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$acc&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(</span><span style="color: #0000BB">$numbers&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$n</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$acc&nbsp;</span><span style="color: #007700">+=&nbsp;</span><span style="color: #0000BB">$n</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$acc</span><span style="color: #007700">;<br />}<br /><br />echo&nbsp;</span><span style="color: #0000BB">sum</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
       </div>

       <div class="example-contents"><p>以上例程会输出：</p></div>
       <div class="example-contents screen">
<div class="cdata"><pre>
10
</pre></div>
       </div>
      </div>
     </p>

     <p class="para">
      You can also use <em>...</em> when calling functions to unpack
      an <span class="type"><a href="language.types.array.html" class="type array">array</a></span> or <strong class="classname">Traversable</strong> variable or
      literal into the argument list:

      <div class="example" id="example-159">
       <p><strong>Example #14 Using <em>...</em> to provide arguments</strong></p>
       <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">add</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">;<br />}<br /><br />echo&nbsp;</span><span style="color: #0000BB">add</span><span style="color: #007700">(...[</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">]).</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;[</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">];<br />echo&nbsp;</span><span style="color: #0000BB">add</span><span style="color: #007700">(...</span><span style="color: #0000BB">$a</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
       </div>

       <div class="example-contents"><p>以上例程会输出：</p></div>
       <div class="example-contents screen">
<div class="cdata"><pre>
3
3
</pre></div>
       </div>
      </div>
     </p>

     <p class="para">
      You may specify normal positional arguments before the
      <em>...</em> token. In this case, only the trailing arguments
      that don&#039;t match a positional argument will be added to the array
      generated by <em>...</em>.
     </p>

     <p class="para">
      It is also possible to add a
      <a href="language.oop5.typehinting.html" class="link">type hint</a> before the
      <em>...</em> token. If this is present, then all arguments
      captured by <em>...</em> must be objects of the hinted class.

      <div class="example" id="example-160">
       <p><strong>Example #15 Type hinted variable arguments</strong></p>
       <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">total_intervals</span><span style="color: #007700">(</span><span style="color: #0000BB">$unit</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">DateInterval&nbsp;</span><span style="color: #007700">...</span><span style="color: #0000BB">$intervals</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$time&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(</span><span style="color: #0000BB">$intervals&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$interval</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$time&nbsp;</span><span style="color: #007700">+=&nbsp;</span><span style="color: #0000BB">$interval</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">$unit</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$time</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">DateInterval</span><span style="color: #007700">(</span><span style="color: #DD0000">'P1D'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">DateInterval</span><span style="color: #007700">(</span><span style="color: #DD0000">'P2D'</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">total_intervals</span><span style="color: #007700">(</span><span style="color: #DD0000">'d'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">).</span><span style="color: #DD0000">'&nbsp;days'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;will&nbsp;fail,&nbsp;since&nbsp;null&nbsp;isn't&nbsp;a&nbsp;DateInterval&nbsp;object.<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">total_intervals</span><span style="color: #007700">(</span><span style="color: #DD0000">'d'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
       </div>

       <div class="example-contents"><p>以上例程会输出：</p></div>
       <div class="example-contents screen">
<div class="cdata"><pre>
3 days
Catchable fatal error: Argument 2 passed to total_intervals() must be an instance of DateInterval, null given, called in - on line 14 and defined in - on line 2
</pre></div>
       </div>
      </div>
     </p>

     <p class="para">
      Finally, you may also pass variable arguments
      <a href="functions.arguments.html#functions.arguments.by-reference" class="link">by reference</a> by
      prefixing the <em>...</em> with an ampersand
      (<em>&amp;</em>).
     </p>
    </div>

    <div class="sect3" id="functions.variable-arg-list.old">
     <h4 class="title">Older versions of PHP</h4>

     <p class="para">
      No special syntax is required to note that a function is variadic;
      however access to the function&#039;s arguments must use
      <span class="function"><a href="function.func-num-args.html" class="function">func_num_args()</a></span>, <span class="function"><a href="function.func-get-arg.html" class="function">func_get_arg()</a></span>
      and <span class="function"><a href="function.func-get-args.html" class="function">func_get_args()</a></span>.
     </p>

     <p class="para">
      The first example above would be implemented as follows in PHP 5.5 and
      earlier:

      <div class="example" id="example-161">
       <p><strong>Example #16 Accessing variable arguments in PHP 5.5 and earlier</strong></p>
       <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">sum</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$acc&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(</span><span style="color: #0000BB">func_get_args</span><span style="color: #007700">()&nbsp;as&nbsp;</span><span style="color: #0000BB">$n</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$acc&nbsp;</span><span style="color: #007700">+=&nbsp;</span><span style="color: #0000BB">$n</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$acc</span><span style="color: #007700">;<br />}<br /><br />echo&nbsp;</span><span style="color: #0000BB">sum</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
       </div>

       <div class="example-contents"><p>以上例程会输出：</p></div>
       <div class="example-contents screen">
<div class="cdata"><pre>
10
</pre></div>
       </div>
      </div>
     </p>
    </div>

   </div>

  </div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="124424""></a>
  <div class="note">
   <strong class="user">shaman_master at list dot ru</strong>
   <a href="#124424" class="date">22-Nov-2019 04:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You can use the class/interface as a type even if the class/interface is not&nbsp; defined yet or the class/interface implements current class/interface.<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">interface </span><span class="default">RouteInterface<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">getGroup</span><span class="keyword">(): ?</span><span class="default">RouteGroupInterface</span><span class="keyword">;<br />
}<br />
interface </span><span class="default">RouteGroupInterface </span><span class="keyword">extends </span><span class="default">RouteInterface<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">set</span><span class="keyword">(</span><span class="default">RouteInterface $item</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;<br />
</span>'self' type - alias to current class/interface, it's not changed in implementations. This code looks right but throw error:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">Route<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; protected </span><span class="default">$name</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; </span><span class="comment">// method must return Route object<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">setName</span><span class="keyword">(</span><span class="default">string $name</span><span class="keyword">): </span><span class="default">self<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">{<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">name </span><span class="keyword">= </span><span class="default">$name</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$this</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
class </span><span class="default">RouteGroup </span><span class="keyword">extends </span><span class="default">Route<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// method STILL must return only Route object<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">setName</span><span class="keyword">(</span><span class="default">string $name</span><span class="keyword">): </span><span class="default">self<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">{<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$name </span><span class="keyword">.= </span><span class="string">' group'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">parent</span><span class="keyword">::</span><span class="default">setName</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="124295""></a>
  <div class="note">
   <strong class="user">info at ensostudio dot ru</strong>
   <a href="#124295" class="date">15-Oct-2019 08:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If class have __toString method then his methods may set return type 'string' and return self:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">Str<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">getAsString</span><span class="keyword">(): </span><span class="default">string<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">getAsObject</span><span class="keyword">(): </span><span class="default">self<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__toString</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
&nbsp;</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="123338""></a>
  <div class="note">
   <strong class="user">dmitry dot balabka at gmail dot com</strong>
   <a href="#123338" class="date">13-Nov-2018 09:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
There is a possibility to use parent keyword as type hint which is not mentioned in the documentation.<br />
<br />
Following code snippet will be executed w/o errors on PHP version 7. In this example, parent keyword is referencing on ParentClass instead of ClassTrait.<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">namespace </span><span class="default">TestTypeHints</span><span class="keyword">;<br />
<br />
class </span><span class="default">ParentClass<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">someMethod</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">'Some method called' </span><span class="keyword">. \</span><span class="default">PHP_EOL</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
trait </span><span class="default">ClassTrait<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; private </span><span class="default">$original</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__construct</span><span class="keyword">(</span><span class="default">parent $original</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">original </span><span class="keyword">= </span><span class="default">$original</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; protected function </span><span class="default">getOriginal</span><span class="keyword">(): </span><span class="default">parent<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">original</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
class </span><span class="default">Implementation </span><span class="keyword">extends </span><span class="default">ParentClass<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; use </span><span class="default">ClassTrait</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">callSomeMethod</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">getOriginal</span><span class="keyword">()-&gt;</span><span class="default">someMethod</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">$obj </span><span class="keyword">= new </span><span class="default">Implementation</span><span class="keyword">(new </span><span class="default">ParentClass</span><span class="keyword">());<br />
</span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">callSomeMethod</span><span class="keyword">();<br />
</span><span class="default">?&gt;<br />
</span><br />
Outputs:<br />
Some method called</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="122740""></a>
  <div class="note">
   <strong class="user">iqravi dot bhushan at gmail dot com</strong>
   <a href="#122740" class="date">16-May-2018 05:21</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You can pass a function as an argument too.<br />
<br />
<span class="default">&lt;?php <br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">sum</span><span class="keyword">(</span><span class="default">$numbers</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$acc </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$numbers </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$acc </span><span class="keyword">+= </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$acc</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">generateString</span><span class="keyword">(){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$x </span><span class="keyword">= array(</span><span class="default">1</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">,</span><span class="default">6</span><span class="keyword">,</span><span class="default">7</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$x</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">sum</span><span class="keyword">(</span><span class="default">generateString</span><span class="keyword">());<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="122497""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#122497" class="date">12-Mar-2018 01:35</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Notice that only order matters. Example:<br />
<br />
function f($x='a', $y='b'){<br />
&nbsp;&nbsp; $output = $x.$y;<br />
&nbsp;&nbsp; echo $output;<br />
}<br />
f($y='c',$x='d');<br />
<br />
This will print 'cd'. <br />
<br />
If we call function like this <br />
f($y='c')<br />
<br />
actually $x in function gets value of 'c' and $y takes default value, as it just fills parameters in order specified so output will be 'cb'. Names have no meaning in function call. This may be confusing if you are coming from python for example.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="122371""></a>
  <div class="note">
   <strong class="user">boan dot web at outlook dot com</strong>
   <a href="#122371" class="date">08-Feb-2018 11:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Quote:<br />
<br />
"The declaration can be made to accept NULL values if the default value of the parameter is set to NULL."<br />
<br />
But you can do this (PHP 7.1+):<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">foo</span><span class="keyword">(?</span><span class="default">string $bar</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//...<br />
</span><span class="keyword">}<br />
<br />
</span><span class="default">foo</span><span class="keyword">(); </span><span class="comment">// Fatal error<br />
</span><span class="default">foo</span><span class="keyword">(</span><span class="default">null</span><span class="keyword">); </span><span class="comment">// Okay<br />
</span><span class="default">foo</span><span class="keyword">(</span><span class="string">'Hello world'</span><span class="keyword">); </span><span class="comment">// Okay<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="122189""></a>
  <div class="note">
   <strong class="user">igorsantos07 at gmail dot com</strong>
   <a href="#122189" class="date">27-Dec-2017 05:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
PHP 7+ does type coercion if strict typing is not enabled, but there's a small gotcha: it won't convert null values into anything.<br />
<br />
You must explicitly set your default argument value to be null (as explained in this page) so your function can also receive nulls.<br />
<br />
For instance, if you type an argument as "string", but pass a null variable into it, you might expect to receive an empty string, but actually, PHP will yell at you a TypeError.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">null_string_wrong</span><span class="keyword">(</span><span class="default">string $str</span><span class="keyword">) {<br />
&nbsp; </span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">);<br />
}<br />
function </span><span class="default">null_string_correct</span><span class="keyword">(</span><span class="default">string $str </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">) {<br />
&nbsp; </span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">);<br />
}<br />
</span><span class="default">$null </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">;<br />
</span><span class="default">null_string_wrong</span><span class="keyword">(</span><span class="string">'a'</span><span class="keyword">);&nbsp; &nbsp;&nbsp; </span><span class="comment">//string(1) "a"<br />
</span><span class="default">null_string_correct</span><span class="keyword">(</span><span class="string">'a'</span><span class="keyword">);&nbsp;&nbsp; </span><span class="comment">//string(1) "a"<br />
</span><span class="default">null_string_correct</span><span class="keyword">();&nbsp; &nbsp; &nbsp; </span><span class="comment">//NULL<br />
</span><span class="default">null_string_correct</span><span class="keyword">(</span><span class="default">$null</span><span class="keyword">); </span><span class="comment">//NULL<br />
</span><span class="default">null_string_wrong</span><span class="keyword">(</span><span class="default">$null</span><span class="keyword">);&nbsp;&nbsp; </span><span class="comment">//TypeError thrown<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="121667""></a>
  <div class="note">
   <strong class="user">info at keraweb dot nl</strong>
   <a href="#121667" class="date">21-Sep-2017 09:25</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You can use a class constant as a default parameter.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">A </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; const </span><span class="default">FOO </span><span class="keyword">= </span><span class="string">'default'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">bar</span><span class="keyword">( </span><span class="default">$val </span><span class="keyword">= </span><span class="default">self</span><span class="keyword">::</span><span class="default">FOO </span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="default">$val</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">$a </span><span class="keyword">= new </span><span class="default">A</span><span class="keyword">();<br />
</span><span class="default">$a</span><span class="keyword">-&gt;</span><span class="default">bar</span><span class="keyword">(); </span><span class="comment">// Will echo "default"</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="121579""></a>
  <div class="note">
   <strong class="user">Hayley Watson</strong>
   <a href="#121579" class="date">30-Aug-2017 11:41</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
There are fewer restrictions on using ... to supply multiple arguments to a function call than there are on using it to declare a variadic parameter in the function declaration. In particular, it can be used more than once to unpack arguments, provided that all such uses come after any positional arguments.<br />
<br />
<span class="default">&lt;?php<br />
<br />
$array1 </span><span class="keyword">= [[</span><span class="default">1</span><span class="keyword">],[</span><span class="default">2</span><span class="keyword">],[</span><span class="default">3</span><span class="keyword">]];<br />
</span><span class="default">$array2 </span><span class="keyword">= [</span><span class="default">4</span><span class="keyword">];<br />
</span><span class="default">$array3 </span><span class="keyword">= [[</span><span class="default">5</span><span class="keyword">],[</span><span class="default">6</span><span class="keyword">],[</span><span class="default">7</span><span class="keyword">]];<br />
<br />
</span><span class="default">$result </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(...</span><span class="default">$array1</span><span class="keyword">); </span><span class="comment">// Legal, of course: $result == [1,2,3];<br />
</span><span class="default">$result </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$array2</span><span class="keyword">, ...</span><span class="default">$array1</span><span class="keyword">); </span><span class="comment">// $result == [4,1,2,3]<br />
</span><span class="default">$result </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(...</span><span class="default">$array1</span><span class="keyword">, </span><span class="default">$array2</span><span class="keyword">); </span><span class="comment">// Fatal error: Cannot use positional argument after argument unpacking.<br />
</span><span class="default">$result </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(...</span><span class="default">$array1</span><span class="keyword">, ...</span><span class="default">$array3</span><span class="keyword">); </span><span class="comment">// Legal! $result == [1,2,3,5,6,7]<br />
</span><span class="default">?&gt;<br />
</span><br />
The Right Thing for the error case above would be for $result==[1,2,3,4], but this isn't yet (v7.1.8) supported.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="121526""></a>
  <div class="note">
   <strong class="user">Hayley Watson</strong>
   <a href="#121526" class="date">16-Aug-2017 12:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you use ... in a function's parameter list, you can use it only once for obvious reasons. Less obvious is that it has to be on the LAST parameter; as the manual puts it: "You may specify normal positional arguments BEFORE the ... token. (emphasis mine).<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">variadic</span><span class="keyword">(</span><span class="default">$first</span><span class="keyword">, ...</span><span class="default">$most</span><span class="keyword">, </span><span class="default">$last</span><span class="keyword">)<br />
{</span><span class="comment">/*etc.*/</span><span class="keyword">}<br />
<br />
</span><span class="default">variadic</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">, </span><span class="default">5</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span>results in a fatal error, even though it looks like the Thing To Do&trade; would be to set $first to 1, $most to [2, 3, 4], and $last to 5.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="120580""></a>
  <div class="note">
   <strong class="user">g dot sokol99 at g-sokol dot info</strong>
   <a href="#120580" class="date">03-Feb-2017 08:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Nullable arguments:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">C </span><span class="keyword">{}<br />
<br />
function </span><span class="default">foo</span><span class="keyword">(?</span><span class="default">C $a</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br />
}<br />
<br />
</span><span class="default">foo</span><span class="keyword">(</span><span class="default">null</span><span class="keyword">);<br />
<br />
</span><span class="default">foo</span><span class="keyword">();<br />
</span><span class="default">?&gt;<br />
</span><br />
Output:<br />
<br />
NULL<br />
PHP Warning:&nbsp; Uncaught ArgumentCountError: Too few arguments to function foo(), 0 passed in php shell code on line 1 and exactly 1 expected in php shell code:1<br />
Stack trace:<br />
#0 php shell code(1): foo()<br />
#1 {main}<br />
&nbsp; thrown in php shell code on line 1<br />
<br />
Usage of "?" Is also possible with "string", "int", "array" and so on primitive types (which is strange). Also unliKe "= null" "?" can be passed not only for tail of arguments, e.g.:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">foo</span><span class="keyword">(?</span><span class="default">string $a</span><span class="keyword">, </span><span class="default">string $b</span><span class="keyword">) {}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="119724""></a>
  <div class="note">
   <strong class="user">gabriel at figdice dot org</strong>
   <a href="#119724" class="date">11-Aug-2016 07:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A function's argument that is an object, will have its properties modified by the function although you don't need to pass it by reference.<br />
<br />
<span class="default">&lt;?php<br />
$x </span><span class="keyword">= new </span><span class="default">stdClass</span><span class="keyword">();<br />
</span><span class="default">$x</span><span class="keyword">-&gt;</span><span class="default">prop </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br />
<br />
function </span><span class="default">f </span><span class="keyword">( </span><span class="default">$o </span><span class="keyword">) </span><span class="comment">// Notice the absence of &amp;<br />
</span><span class="keyword">{<br />
&nbsp; </span><span class="default">$o</span><span class="keyword">-&gt;</span><span class="default">prop </span><span class="keyword">++;<br />
}<br />
<br />
</span><span class="default">f</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">);<br />
<br />
echo </span><span class="default">$x</span><span class="keyword">-&gt;</span><span class="default">prop</span><span class="keyword">; </span><span class="comment">// shows: 2<br />
</span><span class="default">?&gt;<br />
</span><br />
This is different for arrays:<br />
<br />
<span class="default">&lt;?php<br />
$y </span><span class="keyword">= [ </span><span class="string">'prop' </span><span class="keyword">=&gt; </span><span class="default">1 </span><span class="keyword">];<br />
<br />
function </span><span class="default">g</span><span class="keyword">( </span><span class="default">$a </span><span class="keyword">)<br />
{<br />
&nbsp; </span><span class="default">$a</span><span class="keyword">[</span><span class="string">'prop'</span><span class="keyword">] ++;<br />
&nbsp; echo </span><span class="default">$a</span><span class="keyword">[</span><span class="string">'prop'</span><span class="keyword">];&nbsp; </span><span class="comment">// shows: 2<br />
</span><span class="keyword">}<br />
<br />
</span><span class="default">g</span><span class="keyword">(</span><span class="default">$y</span><span class="keyword">);<br />
<br />
echo </span><span class="default">$y</span><span class="keyword">[</span><span class="string">'prop'</span><span class="keyword">];&nbsp; </span><span class="comment">// shows: 1<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="118795""></a>
  <div class="note">
   <strong class="user">catman at esteticas dot se</strong>
   <a href="#118795" class="date">07-Feb-2016 01:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I wondered if variable length argument lists and references works together, and what the syntax might be. It is not mentioned explicitly yet in the php manual as far as I can find. But other sources mention the following syntax "&amp;...$variable" that works in php&nbsp; 5.6.16. <br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">foo</span><span class="keyword">(&amp;...</span><span class="default">$args</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$args </span><span class="keyword">as &amp;</span><span class="default">$arg</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$arg </span><span class="keyword">= ++</span><span class="default">$i</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">foo</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">, </span><span class="default">$c</span><span class="keyword">);<br />
echo </span><span class="string">'a = '</span><span class="keyword">, </span><span class="default">$a</span><span class="keyword">, </span><span class="string">', b = '</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">, </span><span class="string">', c = '</span><span class="keyword">, </span><span class="default">$c</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span>Gives<br />
a = 1, b = 2, c = 3</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="118283""></a>
  <div class="note">
   <strong class="user">ohcc at 163 dot com</strong>
   <a href="#118283" class="date">08-Nov-2015 09:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
As of PHP 5.6, you can use an array as arguments when calling a function with the ... $args syntax.<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; $args </span><span class="keyword">= array(</span><span class="string">'wu'</span><span class="keyword">,</span><span class="string">'WU'</span><span class="keyword">,</span><span class="string">'wuxiancheng.cn'</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$string </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(...</span><span class="default">$args</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">$string</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
Ha ha, is that interesting and powerful? <br />
<br />
Also you can use it like this<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; $args </span><span class="keyword">= array(</span><span class="string">'WU'</span><span class="keyword">,</span><span class="string">'wuxiancheng.cn'</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$string </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'wu'</span><span class="keyword">, ...</span><span class="default">$args</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">$string</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
It also can be used to define a user function.<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">wxc </span><span class="keyword">(</span><span class="default">$arg1</span><span class="keyword">, </span><span class="default">$arg2</span><span class="keyword">, ...</span><span class="default">$otherArgs</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">'&lt;pre&gt;'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$otherArgs</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">func_get_args</span><span class="keyword">());<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">'&lt;/pre&gt;'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">wxc </span><span class="keyword">(</span><span class="default">1</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, ...array(</span><span class="default">3</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">));<br />
</span><span class="default">?&gt;<br />
</span><br />
REMEMBER this: ... $args is not supported in PHP 5.5 and older versions.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="116968""></a>
  <div class="note">
   <strong class="user">php at richardneill dot org</strong>
   <a href="#116968" class="date">28-Mar-2015 07:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To experiment on performance of pass-by-reference and pass-by-value, I used this&nbsp; script. Conclusions are below. <br />
<br />
#!/usr/bin/php<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">sum</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">,</span><span class="default">$max</span><span class="keyword">){&nbsp;&nbsp; </span><span class="comment">//For Reference, use:&nbsp; "&amp;$array"<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$sum</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">2</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">#$array[$i]++;&nbsp; &nbsp; &nbsp; &nbsp; //Uncomment this line to modify the array within the function.<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$sum </span><span class="keyword">+= </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">];&nbsp; <br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return (</span><span class="default">$sum</span><span class="keyword">);<br />
}<br />
<br />
</span><span class="default">$max </span><span class="keyword">= </span><span class="default">1E7&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//10 M data points.<br />
</span><span class="default">$data </span><span class="keyword">= </span><span class="default">range</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">$max</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);<br />
<br />
</span><span class="default">$start </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
for (</span><span class="default">$x </span><span class="keyword">= </span><span class="default">0 </span><span class="keyword">; </span><span class="default">$x </span><span class="keyword">&lt; </span><span class="default">100</span><span class="keyword">; </span><span class="default">$x</span><span class="keyword">++){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$sum </span><span class="keyword">= </span><span class="default">sum</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">, </span><span class="default">$max</span><span class="keyword">);<br />
}<br />
</span><span class="default">$end </span><span class="keyword">=&nbsp; </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
echo </span><span class="string">"Time: "</span><span class="keyword">.(</span><span class="default">$end </span><span class="keyword">- </span><span class="default">$start</span><span class="keyword">).</span><span class="string">" s\n"</span><span class="keyword">;<br />
<br />
</span><span class="comment">/* Run times:<br />
#&nbsp; &nbsp; PASS BY&nbsp; &nbsp; MODIFIED?&nbsp;&nbsp; Time<br />
-&nbsp; &nbsp; -------&nbsp; &nbsp; ---------&nbsp;&nbsp; ----<br />
1&nbsp; &nbsp; value&nbsp; &nbsp; &nbsp; no&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 56 us<br />
2&nbsp; &nbsp; reference&nbsp; no&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 58 us<br />
<br />
3&nbsp; &nbsp; valuue&nbsp; &nbsp;&nbsp; yes&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 129 s<br />
4&nbsp; &nbsp; reference&nbsp; yes&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 66 us<br />
<br />
Conclusions:<br />
<br />
1. PHP is already smart about zero-copy / copy-on-write. A function call does NOT copy the data unless it needs to; the data is<br />
&nbsp;&nbsp; only copied on write. That's why&nbsp; #1 and #2 take similar times, whereas #3 takes 2 million times longer than #4.<br />
&nbsp;&nbsp; [You never need to use &amp;$array to ask the compiler to do a zero-copy optimisation; it can work that out for itself.]<br />
<br />
2. You do use &amp;$array&nbsp; to tell the compiler "it is OK for the function to over-write my argument in place, I don't need the original<br />
&nbsp;&nbsp; any more." This can make a huge difference to performance when we have large amounts of memory to copy.<br />
&nbsp;&nbsp; (This is the only way it is done in C, arrays are always passed as pointers)<br />
<br />
3. The other use of &amp; is as a way to specify where data should be *returned*. (e.g. as used by exec() ).<br />
&nbsp;&nbsp; (This is a C-like way of passing pointers for outputs, whereas PHP functions normally return complex types, or multiple answers<br />
&nbsp;&nbsp; in an array)<br />
<br />
4. It's&nbsp; unhelpful that only the function definition has &amp;. The caller should have it, at least as syntactic sugar. Otherwise<br />
&nbsp;&nbsp; it leads to unreadable code: because the person reading the function call doesn't expect it to pass by reference. At the moment,<br />
&nbsp;&nbsp; it's necessary to write a by-reference function call with a comment, thus:<br />
&nbsp;&nbsp;&nbsp; $sum = sum($data,$max);&nbsp; //warning, $data passed by reference, and may be modified.<br />
<br />
5. Sometimes, pass by reference could be at the choice of the caller, NOT the function definitition. PHP doesn't allow it, but it<br />
&nbsp;&nbsp; would be meaningful for the caller to decide to pass data in as a reference. i.e. "I'm done with the variable, it's OK to stomp<br />
&nbsp;&nbsp; on it in memory".<br />
*/<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114065""></a>
  <div class="note">
   <strong class="user">Horst Schirmeier</strong>
   <a href="#114065" class="date">08-Jan-2014 11:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Editor's note: what is expected here by the parser is a non-evaluated expression. An operand and two constants requires evaluation, which is not done by the parser. However, this feature is included as of PHP 5.6.0. See this page for more information: <a href="http://php.net/migration56.new-features#migration56.new-features.const-scalar-exprs" rel="nofollow" target="_blank">http://php.net/migration56.new-features#migration56.new-features.const-scalar-exprs</a>
<br />
--------
<br />

<br />
"The default value must be a constant expression" is misleading (or even wrong).&nbsp; PHP 5.4.4 fails to parse this function definition:
<br />

<br />
function htmlspecialchars_latin1($s, $flags = ENT_COMPAT | ENT_HTML401) {}
<br />

<br />
This yields a " PHP Parse error:&nbsp; syntax error, unexpected '|', expecting ')' " although ENT_COMPAT|ENT_HTML401 is certainly what a compiler-affine person would call a "constant expression".
<br />

<br />
The obvious workaround is to use a single special value ($flags = NULL) as the default, and to set it to the desired value in the function's body (if ($flags === NULL) { $flags = ENT_COMPAT | ENT_HTML401; }).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="98425""></a>
  <div class="note">
   <strong class="user">carlos at wfmh dot org dot pl dot REMOVE dot COM</strong>
   <a href="#98425" class="date">15-Jun-2010 04:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You can use (very) limited signatures for your functions, specifing type of arguments allowed. <br />
<br />
For example:<br />
<br />
public function Right( My_Class $a, array $b )<br />
<br />
tells first argument have to by object of My_Class, second an array. My_Class means that you can pass also object of class that either extends My_Class or implements (if My_Class is abstract class) My_Class. If you need exactly My_Class you need to either make it final, or add some code to check what $a really.<br />
<br />
Also note, that (unfortunately) "array" is the only built-in type you can use in signature. Any other types i.e.:<br />
<br />
public function Wrong( string $a, boolean $b )<br />
<br />
will cause an error, because PHP will complain that $a is not an *object* of class string (and $b is not an object of class boolean).<br />
<br />
So if you need to know if $a is a string or $b bool, you need to write some code in your function body and i.e. throw exception if you detect type mismatch (or you can try to cast if it's doable).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="97890""></a>
  <div class="note">
   <strong class="user">rburnap at intelligent dash imaging dot com</strong>
   <a href="#97890" class="date">13-May-2010 05:19</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This may be helpful when you need to call an arbitrary function known only at runtime:<br />
<br />
You can call a function as a variable name.<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">foo</span><span class="keyword">(){<br />
&nbsp;&nbsp;&nbsp; echo</span><span class="string">"\nfoo()"</span><span class="keyword">;<br />
}<br />
<br />
function </span><span class="default">callfunc</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">, </span><span class="default">$y </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if( </span><span class="default">$y</span><span class="keyword">==</span><span class="string">'' </span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if( </span><span class="default">$x</span><span class="keyword">==</span><span class="string">'' </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo </span><span class="string">"\nempty"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else </span><span class="default">$x</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$y</span><span class="keyword">-&gt;</span><span class="default">$x</span><span class="keyword">();<br />
}<br />
<br />
class </span><span class="default">cbar </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">fcatch</span><span class="keyword">(){ echo </span><span class="string">"\nfcatch"</span><span class="keyword">; }<br />
}<br />
<br />
</span><span class="default">$x </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
</span><span class="default">callfunc</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">);<br />
</span><span class="default">$x </span><span class="keyword">= </span><span class="string">'foo'</span><span class="keyword">;<br />
</span><span class="default">callfunc</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">);<br />
</span><span class="default">$o </span><span class="keyword">= new </span><span class="default">cbar</span><span class="keyword">();<br />
</span><span class="default">$x </span><span class="keyword">= </span><span class="string">'fcatch'</span><span class="keyword">;<br />
</span><span class="default">callfunc</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">, </span><span class="default">$o</span><span class="keyword">);<br />
echo </span><span class="string">"\n\n"</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
The code will output<br />
<br />
empty<br />
foo()<br />
fcatch</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="97037""></a>
  <div class="note">
   <strong class="user">mracky at pacbell dot net</strong>
   <a href="#97037" class="date">29-Mar-2010 09:40</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Nothing was written here about argument types as part of the function definition.<br />
<br />
When working with classes, the class name can be used as argument type.&nbsp; This acts as a reminder to the user of the class, as well as a prototype for php&nbsp; control. (At least in php 5 -- did not check 4).<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">foo </span><span class="keyword">{<br />
&nbsp; public </span><span class="default">$data</span><span class="keyword">;<br />
&nbsp; public function </span><span class="default">__construct</span><span class="keyword">(</span><span class="default">$dd</span><span class="keyword">)<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">data </span><span class="keyword">= </span><span class="default">$dd</span><span class="keyword">;<br />
&nbsp; }<br />
};<br />
<br />
class </span><span class="default">test </span><span class="keyword">{<br />
&nbsp; public </span><span class="default">$bar</span><span class="keyword">;<br />
<br />
&nbsp; public function </span><span class="default">__construct</span><span class="keyword">(</span><span class="default">foo $arg</span><span class="keyword">) </span><span class="comment">// Strict typing for argument<br />
&nbsp; </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">bar </span><span class="keyword">= </span><span class="default">$arg</span><span class="keyword">;<br />
&nbsp; }<br />
&nbsp; public function </span><span class="default">dump</span><span class="keyword">()<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">bar</span><span class="keyword">-&gt;</span><span class="default">data </span><span class="keyword">. </span><span class="string">"\n"</span><span class="keyword">;<br />
&nbsp; }<br />
<br />
};<br />
<br />
</span><span class="default">$A </span><span class="keyword">= new </span><span class="default">foo</span><span class="keyword">(</span><span class="default">25</span><span class="keyword">);<br />
</span><span class="default">$Test1 </span><span class="keyword">= new </span><span class="default">test</span><span class="keyword">(</span><span class="default">$A</span><span class="keyword">);<br />
</span><span class="default">$Test1</span><span class="keyword">-&gt;</span><span class="default">dump</span><span class="keyword">();<br />
</span><span class="default">$Test2 </span><span class="keyword">= new </span><span class="default">test</span><span class="keyword">(</span><span class="default">10</span><span class="keyword">); </span><span class="comment">// wrong argument for testing<br />
<br />
</span><span class="default">?&gt;<br />
</span>outputs:<br />
25<br />
PHP Fatal error:&nbsp; Argument 1 passed to test::__construct() must be an object of class foo, called in testArgType.php on line 27 and defined in testArgType.php on line 13</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="96927""></a>
  <div class="note">
   <strong class="user">pigiman at gmail dot com</strong>
   <a href="#96927" class="date">23-Mar-2010 09:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Hey, 
<br />

<br />
I started to learn for the Zend Certificate exam a few days ago and I got stuck with one unanswered-well question. 
<br />
This is the question: 
<br />
"Absent any actual need for choosing one method over the other, does passing arrays by value to a read-only function reduce performance compared to passing them by reference?'
<br />

<br />
This question answered by Zend support team at Zend.com: 
<br />

<br />
"A copy of the original $array is created within the function scope. Once the function terminates, the scope is removed and the copy of $array with it." (By massimilianoc)
<br />

<br />
Have a nice day! 
<br />

<br />
Shaked KO</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="89759""></a>
  <div class="note">
   <strong class="user">allankelly at gmail dot com</strong>
   <a href="#89759" class="date">21-Mar-2009 02:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I like to pass an associative array as an argument. This is reminiscent of a Perl technique and can be tested with is_array. For example:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">div</span><span class="keyword">( </span><span class="default">$opt </span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$class </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$text&nbsp; </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; if( </span><span class="default">is_array</span><span class="keyword">( </span><span class="default">$opt </span><span class="keyword">) )<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach( </span><span class="default">$opt </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$v </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; switch( </span><span class="default">$k </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="string">'class'</span><span class="keyword">: </span><span class="default">$class </span><span class="keyword">= </span><span class="string">"class = '</span><span class="default">$v</span><span class="string">'"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="string">'text'</span><span class="keyword">: </span><span class="default">$text </span><span class="keyword">= </span><span class="default">$v</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; else<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$text </span><span class="keyword">= </span><span class="default">$opt</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="string">"&lt;div </span><span class="default">$class</span><span class="string">&gt;</span><span class="default">$text</span><span class="string">&lt;/div&gt;"</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="88258""></a>
  <div class="note">
   <strong class="user">herenvardoREMOVEatSTUFFgmailINdotCAPScom</strong>
   <a href="#88258" class="date">17-Jan-2009 12:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
There is a nice trick to emulate variables/function calls/etc as default values:<br />
<br />
<span class="default">&lt;?php<br />
$myVar </span><span class="keyword">= </span><span class="string">"Using a variable as a default value!"</span><span class="keyword">;<br />
<br />
function </span><span class="default">myFunction</span><span class="keyword">(</span><span class="default">$myArgument</span><span class="keyword">=</span><span class="default">null</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$myArgument</span><span class="keyword">===</span><span class="default">null</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$myArgument </span><span class="keyword">= </span><span class="default">$GLOBALS</span><span class="keyword">[</span><span class="string">"myVar"</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">$myArgument</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="comment">// Outputs "Hello World!":<br />
</span><span class="default">myFunction</span><span class="keyword">(</span><span class="string">"Hello World!"</span><span class="keyword">);<br />
</span><span class="comment">// Outputs "Using a variable as a default value!":<br />
</span><span class="default">myFunction</span><span class="keyword">();<br />
</span><span class="comment">// Outputs the same again:<br />
</span><span class="default">myFunction</span><span class="keyword">(</span><span class="default">null</span><span class="keyword">);<br />
</span><span class="comment">// Outputs "Changing the variable affects the function!":<br />
</span><span class="default">$myVar </span><span class="keyword">= </span><span class="string">"Changing the variable affects the function!"</span><span class="keyword">;<br />
</span><span class="default">myFunction</span><span class="keyword">();<br />
</span><span class="default">?&gt;<br />
</span>In general, you define the default value as null (or whatever constant you like), and then check for that value at the start of the function, computing the actual default if needed, before using the argument for actual work.<br />
Building upon this, it's also easy to provide fallback behaviors when the argument given is not valid: simply put a default that is known to be invalid in the prototype, and then check for general validity instead of a specific value: if the argument is not valid (either not given, so the default is used, or an invalid value was given), the function computes a (valid) default to use.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="74676""></a>
  <div class="note">
   <strong class="user">conciseusa at yahoo[nospammm] dot com</strong>
   <a href="#74676" class="date">22-Apr-2007 08:03</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
With regards to:<br />
<br />
It is also possible to force a parameter type using this syntax. I couldn't see it in the documentation.<br />
function foo(myclass par) { }<br />
<br />
I think you are referring to Type Hinting. It is documented here: <a href="http://ch2.php.net/language.oop5.typehinting" rel="nofollow" target="_blank">http://ch2.php.net/language.oop5.typehinting</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="71198""></a>
  <div class="note">
   <strong class="user">John</strong>
   <a href="#71198" class="date">15-Nov-2006 03:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This might be documented somewhere OR obvious to most, but when passing an argument by reference (as of PHP 5.04) you can assign a value to an argument variable in the function call. For example:<br />
<br />
function my_function($arg1, &amp;$arg2) {<br />
&nbsp; if ($arg1 == true) {<br />
&nbsp;&nbsp;&nbsp; $arg2 = true;<br />
&nbsp; }<br />
}<br />
my_function(true, $arg2 = false);<br />
echo $arg2;<br />
<br />
outputs 1 (true)<br />
<br />
my_function(false, $arg2 = false);<br />
echo $arg2;<br />
<br />
outputs 0 (false)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="62803""></a>
  <div class="note">
   <strong class="user">jcaplan at bogus dot amazon dot com</strong>
   <a href="#62803" class="date">09-Mar-2006 03:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In function calls, PHP clearly distinguishes between missing arguments and present but empty arguments.&nbsp; Thus:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">f</span><span class="keyword">( </span><span class="default">$x </span><span class="keyword">= </span><span class="default">4 </span><span class="keyword">) { echo </span><span class="default">$x </span><span class="keyword">. </span><span class="string">"\\n"</span><span class="keyword">; }<br />
</span><span class="default">f</span><span class="keyword">(); </span><span class="comment">// prints 4<br />
</span><span class="default">f</span><span class="keyword">( </span><span class="default">null </span><span class="keyword">); </span><span class="comment">// prints blank line<br />
</span><span class="default">f</span><span class="keyword">( </span><span class="default">$y </span><span class="keyword">); </span><span class="comment">// $y undefined, prints blank line<br />
</span><span class="default">?&gt;<br />
</span><br />
The utility of the optional argument feature is thus somewhat diminished.&nbsp; Suppose you want to call the function f many times from function g, allowing the caller of g to specify if f should be called with a specific value or with its default value:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">f</span><span class="keyword">( </span><span class="default">$x </span><span class="keyword">= </span><span class="default">4 </span><span class="keyword">) {echo </span><span class="default">$x </span><span class="keyword">. </span><span class="string">"\\n"</span><span class="keyword">; }<br />
<br />
</span><span class="comment">// option 1: cut and paste the default value from f's interface into g's<br />
</span><span class="keyword">function </span><span class="default">g</span><span class="keyword">( </span><span class="default">$x </span><span class="keyword">= </span><span class="default">4 </span><span class="keyword">) { </span><span class="default">f</span><span class="keyword">( </span><span class="default">$x </span><span class="keyword">); </span><span class="default">f</span><span class="keyword">( </span><span class="default">$x </span><span class="keyword">); }<br />
<br />
</span><span class="comment">// option 2: branch based on input to g<br />
</span><span class="keyword">function </span><span class="default">g</span><span class="keyword">( </span><span class="default">$x </span><span class="keyword">= </span><span class="default">null </span><span class="keyword">) { if ( !isset( </span><span class="default">$x </span><span class="keyword">) ) { </span><span class="default">f</span><span class="keyword">(); </span><span class="default">f</span><span class="keyword">() } else { </span><span class="default">f</span><span class="keyword">( </span><span class="default">$x </span><span class="keyword">); </span><span class="default">f</span><span class="keyword">( </span><span class="default">$x </span><span class="keyword">); } }<br />
</span><span class="default">?&gt;<br />
</span><br />
Both options suck.<br />
<br />
The best approach, it seems to me, is to always use a sentinel like null as the default value of an optional argument.&nbsp; This way, callers like g and g's clients have many options, and furthermore, callers always know how to omit arguments so they can omit one in the middle of the parameter list.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">f</span><span class="keyword">( </span><span class="default">$x </span><span class="keyword">= </span><span class="default">null </span><span class="keyword">) { if ( !isset( </span><span class="default">$x </span><span class="keyword">) ) </span><span class="default">$x </span><span class="keyword">= </span><span class="default">4</span><span class="keyword">; echo </span><span class="default">$x </span><span class="keyword">. </span><span class="string">"\\n"</span><span class="keyword">; }<br />
<br />
function </span><span class="default">g</span><span class="keyword">( </span><span class="default">$x </span><span class="keyword">= </span><span class="default">null </span><span class="keyword">) { </span><span class="default">f</span><span class="keyword">( </span><span class="default">$x </span><span class="keyword">); </span><span class="default">f</span><span class="keyword">( </span><span class="default">$x </span><span class="keyword">); }<br />
<br />
</span><span class="default">f</span><span class="keyword">(); </span><span class="comment">// prints 4<br />
</span><span class="default">f</span><span class="keyword">( </span><span class="default">null </span><span class="keyword">); </span><span class="comment">// prints 4<br />
</span><span class="default">f</span><span class="keyword">( </span><span class="default">$y </span><span class="keyword">); </span><span class="comment">// $y undefined, prints 4<br />
</span><span class="default">g</span><span class="keyword">(); </span><span class="comment">// prints 4 twice<br />
</span><span class="default">g</span><span class="keyword">( </span><span class="default">null </span><span class="keyword">); </span><span class="comment">// prints 4 twice<br />
</span><span class="default">g</span><span class="keyword">( </span><span class="default">5 </span><span class="keyword">); </span><span class="comment">// prints 5 twice<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="61597""></a>
  <div class="note">
   <strong class="user">ksamvel at gmail dot com</strong>
   <a href="#61597" class="date">07-Feb-2006 07:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
by default Classes constructor does not have any arguments. Using small trick with func_get_args() and other relative functions constructor becomes a function w/ args (tested in php 5.1.2). Check it out:<br />
<br />
class A {<br />
&nbsp;&nbsp;&nbsp; public function __construct() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo func_num_args() . "&lt;br&gt;";<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; var_dump( func_get_args());<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo "&lt;br&gt;";<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
$oA = new A();<br />
$oA = new A( 1, 2, 3, "txt");<br />
<br />
Output:<br />
<br />
0<br />
array(0) { }<br />
4<br />
array(4) { [0]=&gt; int(1) [1]=&gt; int(2) [2]=&gt; int(3) [3]=&gt; string(3) "txt" }</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="58331""></a>
  <div class="note">
   <strong class="user">Sergio Santana: ssantana at tlaloc dot imta dot mx</strong>
   <a href="#58331" class="date">31-Oct-2005 02:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
PASSING A "VARIABLE-LENGTH ARGUMENT LIST OF REFERENCES" TO A FUNCTION<br />
As of PHP 5, Call-time pass-by-reference has been deprecated, this represents no problem in most cases, since instead of calling a function like this:<br />
&nbsp;&nbsp; myfunction($arg1, &amp;$arg2, &amp;$arg3);<br />
<br />
you can call it<br />
&nbsp;&nbsp; myfunction($arg1, $arg2, $arg3);<br />
<br />
provided you have defined your function as <br />
&nbsp;&nbsp; function myfuncion($a1, &amp;$a2, &amp;$a3) { // so &amp;$a2 and &amp;$a3 are <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // declared to be refs.<br />
&nbsp;&nbsp;&nbsp; ... &lt;function-code&gt;<br />
&nbsp;&nbsp; }<br />
<br />
However, what happens if you wanted to pass an undefined number of references, i.e., something like:<br />
&nbsp;&nbsp; myfunction(&amp;$arg1, &amp;$arg2, ..., &amp;$arg-n);?<br />
This doesn't work in PHP 5 anymore.<br />
<br />
In the following code I tried to amend this by using the <br />
array() language-construct as the actual argument in the <br />
call to the function.<br />
<br />
<span class="default">&lt;?php<br />
<br />
&nbsp; </span><span class="keyword">function </span><span class="default">aa </span><span class="keyword">(</span><span class="default">$A</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// This function increments each <br />
&nbsp;&nbsp;&nbsp; // "pseudo-argument" by 2s<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">foreach (</span><span class="default">$A </span><span class="keyword">as &amp;</span><span class="default">$x</span><span class="keyword">) { <br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$x </span><span class="keyword">+= </span><span class="default">2</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp; }<br />
&nbsp;<br />
&nbsp; </span><span class="default">$x </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">; </span><span class="default">$y </span><span class="keyword">= </span><span class="default">2</span><span class="keyword">; </span><span class="default">$z </span><span class="keyword">= </span><span class="default">3</span><span class="keyword">;<br />
&nbsp; <br />
&nbsp; </span><span class="default">aa</span><span class="keyword">(array(&amp;</span><span class="default">$x</span><span class="keyword">, &amp;</span><span class="default">$y</span><span class="keyword">, &amp;</span><span class="default">$z</span><span class="keyword">));<br />
&nbsp; echo </span><span class="string">"--</span><span class="default">$x</span><span class="string">--</span><span class="default">$y</span><span class="string">--</span><span class="default">$z</span><span class="string">--\n"</span><span class="keyword">;<br />
&nbsp; </span><span class="comment">// This will output:<br />
&nbsp; // --3--4--5--<br />
</span><span class="default">?&gt;<br />
</span><br />
I hope this is useful.<br />
<br />
Sergio.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="56331""></a>
  <div class="note">
   <strong class="user">nate at natemurray dot com</strong>
   <a href="#56331" class="date">30-Aug-2005 03:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Of course you can fake a global variable for a default argument by something like this:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">self_url</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">, </span><span class="default">$page</span><span class="keyword">, </span><span class="default">$per_page </span><span class="keyword">= </span><span class="default">NULL</span><span class="keyword">) {<br />
&nbsp; </span><span class="default">$per_page </span><span class="keyword">= (</span><span class="default">$per_page </span><span class="keyword">== </span><span class="default">NULL</span><span class="keyword">) ? </span><span class="default">$GLOBALS</span><span class="keyword">[</span><span class="string">'gPER_PAGE'</span><span class="keyword">] : </span><span class="default">$per_page</span><span class="keyword">; </span><span class="comment"># setup a default value of per page<br />
&nbsp; </span><span class="keyword">return </span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">"&lt;a href=%s?page=%s&amp;perpage=%s&gt;%s&lt;/a&gt;"</span><span class="keyword">, </span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">"PHP_SELF"</span><span class="keyword">], </span><span class="default">$page</span><span class="keyword">, </span><span class="default">$per_page</span><span class="keyword">, </span><span class="default">$text</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="33559""></a>
  <div class="note">
   <strong class="user">thesibster at hotmail dot com</strong>
   <a href="#33559" class="date">30-Jun-2003 11:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Call-time pass-by-ref arguments are deprecated and may not be supported later, so doing this:<br />
<br />
----<br />
function foo($str) {<br />
&nbsp;&nbsp;&nbsp; $str = "bar";<br />
}<br />
<br />
$mystr = "hello world";<br />
foo(&amp;$mystr);<br />
----<br />
<br />
will produce a warning when using the recommended php.ini file.&nbsp; The way I ended up using for optional pass-by-ref args is to just pass an unused variable when you don't want to use the resulting parameter value:<br />
<br />
----<br />
function foo(&amp;$str) {<br />
&nbsp;&nbsp;&nbsp; $str = "bar";<br />
}<br />
<br />
foo($_unused_);<br />
----<br />
<br />
Note that trying to pass a value of NULL will produce an error.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="23498""></a>
  <div class="note">
   <strong class="user">guillaume dot goutaudier at eurecom dot fr</strong>
   <a href="#23498" class="date">19-Jul-2002 12:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Concerning default values for arguments passed by reference:<br />
I often use that trick:<br />
func($ref=$defaultValue) {<br />
&nbsp;&nbsp;&nbsp; $ref = "new value";<br />
}<br />
func(&amp;$var);<br />
print($var) // echo "new value"<br />
<br />
Setting $defaultValue to null enables you to write functions with optional arguments which, if given, are to be modified.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="16968""></a>
  <div class="note">
   <strong class="user">wls at wwco dot com</strong>
   <a href="#16968" class="date">20-Nov-2001 11:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Follow up to resource passing:
<br />

<br />
It appears that if you have defined the resource in the same file
<br />
as the function that uses it, you can get away with the global trick.
<br />

<br />
Here's the failure case:
<br />

<br />
&nbsp; include "functions_doing_globals.php"
<br />
&nbsp; $conn = openDatabaseConnection();
<br />
&nbsp; invoke_function_doing_global_conn();
<br />

<br />
...that it fails.
<br />

<br />
Perhaps it's some strange scoping problem with include/require, or
<br />
globals trying to resolve before the variable is defined, rather
<br />
than at function execution.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
