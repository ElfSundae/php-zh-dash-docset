<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>Integer 整型</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="language.types.boolean.html">? Boolean 布尔类型</a></li>
      <li style="float: right;"><a href="language.types.float.html">Float 浮点型 ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="language.types.html">类型</a></li>
    <li>Integer 整型</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="language.types.integer" class="sect1">
 <h2 class="title">Integer 整型</h2>
 
 <p class="simpara">
   <span class="type"><a href="language.types.integer.html" class="type int">int</a></span> 是集合 ? = {..., -2, -1, 0, 1, 2, ...} 中的某个数。
 </p>
  
 <div class="sect2">
  <h3 class="title">参见</h3>
  <p class="para">
   <ul class="simplelist">
    <li><a href="language.types.float.html" class="link">浮点数</a></li>
    <li><a href="book.bc.html" class="link">任意精度/BCMath</a></li>
    <li><a href="book.gmp.html" class="link">任意长度整数/GMP</a></li>
   </ul>
  </p>
 </div>

 <div class="sect2" id="language.types.integer.syntax">
  <h3 class="title">语法</h3>

  <p class="simpara">
   <span class="type"><a href="language.types.integer.html" class="type Int">Int</a></span> 可以使用十进制，十六进制，八进制或二进制表示，前面可以加上可选的符号（- 或者 +）。
   可以用<a href="language.operators.arithmetic.html" class="link">负运算符</a>
   来表示一个负的 <span class="type"><a href="language.types.integer.html" class="type int">int</a></span>。
  </p>

  <p class="para">
   要使用八进制表达，数字前必须加上 <code class="literal">0</code>（零）。
   PHP 8.1.0 起，八进制表达也可以在前面加上 <code class="literal">0o</code> 或者 <code class="literal">0O</code> 。
   要使用十六进制表达，数字前必须加上
   <code class="literal">0x</code>。要使用二进制表达，数字前必须加上
   <code class="literal">0b</code>。
  </p>

  <p class="para">
   从 PHP 7.4.0
   开始，整型数值可能会包含下划线 (<code class="literal">_</code>)，为了更好的阅读体验，这些下划线在展示的时候，会被 PHP 过滤掉。
  </p>

  <div class="example" id="example-33">
   <p><strong>Example #1 整数文字表达</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br />$a </span><span style="color: #007700">= </span><span style="color: #0000BB">1234</span><span style="color: #007700">; </span><span style="color: #FF8000">// 十进制数<br /></span><span style="color: #0000BB">$a </span><span style="color: #007700">= </span><span style="color: #0000BB">0123</span><span style="color: #007700">; </span><span style="color: #FF8000">// 八进制数 (等于十进制 83)<br /></span><span style="color: #0000BB">$a </span><span style="color: #007700">= </span><span style="color: #0000BB">0o123</span><span style="color: #007700">; </span><span style="color: #FF8000">// 八进制数 (PHP 8.1.0 起)<br /></span><span style="color: #0000BB">$a </span><span style="color: #007700">= </span><span style="color: #0000BB">0x1A</span><span style="color: #007700">; </span><span style="color: #FF8000">// 十六进制数 (等于十进制 26)<br /></span><span style="color: #0000BB">$a </span><span style="color: #007700">= </span><span style="color: #0000BB">0b11111111</span><span style="color: #007700">; </span><span style="color: #FF8000">// 二进制数字 (等于十进制 255)<br /></span><span style="color: #0000BB">$a </span><span style="color: #007700">= </span><span style="color: #0000BB">1_234_567</span><span style="color: #007700">; </span><span style="color: #FF8000">// 整型数值 (PHP 7.4.0 以后)<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

  </div>

  <p class="para">
   <span class="type"><a href="language.types.integer.html" class="type int">int</a></span> literal 的结构形式从 PHP 8.1.0 开始是（之前不允许使用 <code class="literal">0o</code> 或
   <code class="literal">0O</code> 八进制前缀，并且 PHP 7.4.0 之前不允许使用下划线）：
  </p>
 
  <div class="informalexample">
   <div class="example-contents">
<div class="cdata"><pre>
decimal     : [1-9][0-9]*(_[0-9]+)*
            | 0

hexadecimal : 0[xX][0-9a-fA-F]+(_[0-9a-fA-F]+)*

octal       : 0[oO]?[0-7]+(_[0-7]+)*

binary      : 0[bB][01]+(_[01]+)*

integer     : decimal
            | hexadecimal
            | octal
            | binary
</pre></div>
   </div>

  </div>

  <p class="para">
   整型数 <span class="type"><a href="language.types.integer.html" class="type int">int</a></span> 的字长和平台有关，尽管通常最大值是大约二十亿（32 位有符号）。64
   位平台下的最大值通常是大约 9E18。
   
   PHP 不支持无符号的 <span class="type"><a href="language.types.integer.html" class="type int">int</a></span>。<span class="type"><a href="language.types.integer.html" class="type int">int</a></span> 值的字长可以用常量
   <strong><code><a href="reserved.constants.html#constant.php-int-size">PHP_INT_SIZE</a></code></strong>来表示，
   最大值可以用常量 <strong><code><a href="reserved.constants.html#constant.php-int-max">PHP_INT_MAX</a></code></strong> 来表示，
   最小值可以用常量 <strong><code><a href="reserved.constants.html#constant.php-int-min">PHP_INT_MIN</a></code></strong> 表示。
  </p>

 </div>

 <div class="sect2" id="language.types.integer.overflow">
  <h3 class="title">整数溢出</h3>

  <p class="para">
   如果给定的一个数超出了 <span class="type"><a href="language.types.integer.html" class="type int">int</a></span> 的范围，将会被解释为
   <span class="type"><a href="language.types.float.html" class="type float">float</a></span>。同样如果执行的运算结果超出了
   <span class="type"><a href="language.types.integer.html" class="type int">int</a></span> 范围，也会返回 <span class="type"><a href="language.types.float.html" class="type float">float</a></span>。
  </p>

  <div class="example" id="example-34">
   <p><strong>Example #2 32 位系统下的整数溢出</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br />$large_number </span><span style="color: #007700">= </span><span style="color: #0000BB">2147483647</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$large_number</span><span style="color: #007700">);                     </span><span style="color: #FF8000">// int(2147483647)<br /><br /></span><span style="color: #0000BB">$large_number </span><span style="color: #007700">= </span><span style="color: #0000BB">2147483648</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$large_number</span><span style="color: #007700">);                     </span><span style="color: #FF8000">// float(2147483648)<br /><br /></span><span style="color: #0000BB">$million </span><span style="color: #007700">= </span><span style="color: #0000BB">1000000</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$large_number </span><span style="color: #007700">=  </span><span style="color: #0000BB">50000 </span><span style="color: #007700">* </span><span style="color: #0000BB">$million</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$large_number</span><span style="color: #007700">);                     </span><span style="color: #FF8000">// float(50000000000)<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

  </div>

  <div class="example" id="example-35">
   <p><strong>Example #3 64 位系统下的整数溢出</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br />$large_number </span><span style="color: #007700">= </span><span style="color: #0000BB">9223372036854775807</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$large_number</span><span style="color: #007700">);                     </span><span style="color: #FF8000">// int(9223372036854775807)<br /><br /></span><span style="color: #0000BB">$large_number </span><span style="color: #007700">= </span><span style="color: #0000BB">9223372036854775808</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$large_number</span><span style="color: #007700">);                     </span><span style="color: #FF8000">// float(9.2233720368548E+18)<br /><br /></span><span style="color: #0000BB">$million </span><span style="color: #007700">= </span><span style="color: #0000BB">1000000</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$large_number </span><span style="color: #007700">=  </span><span style="color: #0000BB">50000000000000 </span><span style="color: #007700">* </span><span style="color: #0000BB">$million</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$large_number</span><span style="color: #007700">);                     </span><span style="color: #FF8000">// float(5.0E+19)<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

  </div>

  <p class="para">
   PHP 没有 <span class="type"><a href="language.types.integer.html" class="type int">int</a></span> 除法取整运算符，要使用 <span class="function"><a href="function.intdiv.html" class="function">intdiv()</a></span> 实现。
   <code class="literal">1/2</code> 产生出 <span class="type"><a href="language.types.float.html" class="type float">float</a></span>
   <code class="literal">0.5</code>。
   值可以舍弃小数部分，强制转换为 <span class="type"><a href="language.types.integer.html" class="type int">int</a></span>，或者使用
   <span class="function"><a href="function.round.html" class="function">round()</a></span> 函数可以更好地进行四舍五入。
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br />var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">25</span><span style="color: #007700">/</span><span style="color: #0000BB">7</span><span style="color: #007700">);         </span><span style="color: #FF8000">// float(3.5714285714286) <br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">((int) (</span><span style="color: #0000BB">25</span><span style="color: #007700">/</span><span style="color: #0000BB">7</span><span style="color: #007700">)); </span><span style="color: #FF8000">// int(3)<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">round</span><span style="color: #007700">(</span><span style="color: #0000BB">25</span><span style="color: #007700">/</span><span style="color: #0000BB">7</span><span style="color: #007700">));  </span><span style="color: #FF8000">// float(4) <br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

  </div>
 </div>

 <div class="sect2" id="language.types.integer.casting">
  <h3 class="title">转换为整型</h3>

  <p class="simpara">
   要明确地将一个值转换为 <span class="type"><a href="language.types.integer.html" class="type int">int</a></span>，用 <code class="literal">(int)</code> 或
   <code class="literal">(integer)</code> 强制转换。不过大多数情况下都不需要强制转换，因为当运算符，函数或流程控制需要一个
   <span class="type"><a href="language.types.integer.html" class="type int">int</a></span> 参数时，值会自动转换。还可以通过函数
   <span class="function"><a href="function.intval.html" class="function">intval()</a></span> 来将一个值转换成 <span class="type"><a href="language.types.integer.html" class="type int">int</a></span> 整型。
  </p>

  <p class="simpara">
   将 <span class="type"><a href="language.types.resource.html" class="type resource">resource</a></span> 转换成 <span class="type"><a href="language.types.integer.html" class="type int">int</a></span> 时，
   结果会是 PHP 运行时为 <span class="type"><a href="language.types.resource.html" class="type resource">resource</a></span> 分配的唯一资源号。
  </p>

  <p class="simpara">
   参见：<a href="language.types.type-juggling.html" class="link">类型转换的判别</a>。
  </p>
   
  <div class="sect3" id="language.types.integer.casting.from-boolean">
   <h4 class="title">从<a href="language.types.boolean.html" class="link">布尔值</a>转换</h4>

   <p class="simpara">
    <strong><code><a href="reserved.constants.html#constant.false">false</a></code></strong> 将产生出 <code class="literal">0</code>（零），<strong><code><a href="reserved.constants.html#constant.true">true</a></code></strong> 将产生出
    <code class="literal">1</code>（壹）。
   </p>
  </div>

  <div class="sect3" id="language.types.integer.casting.from-float">
   <h4 class="title">
    从<a href="language.types.float.html" class="link">浮点型</a>转换
   </h4> 

   <p class="simpara">
    当从浮点数 <span class="type"><a href="language.types.float.html" class="type float">float</a></span> 转换成整数 <span class="type"><a href="language.types.integer.html" class="type int">int</a></span>时，将<em>向零</em>取整。自
    PHP 8.1.0 起，当将非整数类型的 <span class="type"><a href="language.types.float.html" class="type float">float</a></span> 转换为失去精度的 <span class="type"><a href="language.types.integer.html" class="type int">int</a></span> 时，会发出弃用通知。
   </p>

   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #007700">function </span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">): </span><span style="color: #0000BB">int </span><span style="color: #007700">{<br />  return </span><span style="color: #0000BB">$value</span><span style="color: #007700">; <br />}<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">8.1</span><span style="color: #007700">)); </span><span style="color: #FF8000">// 自 PHP 8.1.0 起："Deprecated: Implicit conversion from float 8.1 to int loses precision"<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">8.1</span><span style="color: #007700">)); </span><span style="color: #FF8000">// PHP 8.1.0 之前为 8<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">8.0</span><span style="color: #007700">)); </span><span style="color: #FF8000">// 8 in both cases<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">((int)</span><span style="color: #0000BB">8.1</span><span style="color: #007700">); </span><span style="color: #FF8000">// 8 in both cases<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">intval</span><span style="color: #007700">(</span><span style="color: #0000BB">8.1</span><span style="color: #007700">)); </span><span style="color: #FF8000">// 8 in both cases<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

    
   <p class="para">
    如果浮点数超出了 <span class="type"><a href="language.types.integer.html" class="type int">int</a></span> 范围（32 位平台下通常为
    <code class="literal">+/- 2.15e+9 = 2^31</code>，64 位平台下，通常为
    <code class="literal">+/- 9.22e+18 = 2^63</code>），则结果为未定义，
    因为没有足够的精度给出一个确切的 <span class="type"><a href="language.types.integer.html" class="type int">int</a></span> 结果。
    在此情况下没有警告，甚至没有任何通知！
   </p>

   <blockquote class="note"><p><strong class="note">Note</strong>: 
    <p class="para">
     NaN 和 Infinity 在转换成 <span class="type"><a href="language.types.integer.html" class="type int">int</a></span> 时是零。
    </p>
   </p></blockquote>
    
   <div class="warning"><strong class="warning">Warning</strong>
    <p class="para">
     绝不要将未知的分数强制转换为 <span class="type"><a href="language.types.integer.html" class="type int">int</a></span>，这样有时会导致不可预料的结果。
    </p>

    <div class="informalexample">
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">echo (int) ( (</span><span style="color: #0000BB">0.1</span><span style="color: #007700">+</span><span style="color: #0000BB">0.7</span><span style="color: #007700">) * </span><span style="color: #0000BB">10 </span><span style="color: #007700">); </span><span style="color: #FF8000">// 显示 7!<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
     </div>

    </div>
    
    <p class="para">
     参见<a href="language.types.float.html#warn.float-precision" class="link">关于浮点数精度的警告</a>。
    </p>
   </div>
  </div>
   
  <div class="sect3" id="language.types.integer.casting.from-string">
   <h4 class="title">从字符串转换</h4>

   <p class="simpara">
    如果 string 是 <a href="language.types.numeric-strings.html" class="link">numeric</a> 或者前导数字，
    则将它解析为相应的 int 值，否则将转换为零（<code class="literal">0</code>）。
   </p>
  </div>
   
  <div class="sect3" id="language.types.integer.casting-from-null">
   <h4 class="title">从 <span class="type"><a href="language.types.null.html" class="type NULL">NULL</a></span> 转换</h4>

   <p class="simpara">
    <strong><code><a href="reserved.constants.html#constant.null">null</a></code></strong> 会转换为零（<code class="literal">0</code>）。
   </p>
  </div>

  <div class="sect3" id="language.types.integer.casting.from-other">
   <h4 class="title">从其它类型转换</h4>

   <div class="caution"><strong class="caution">Caution</strong>
    <p class="simpara">
     没有定义从其它类型转换为 <span class="type"><a href="language.types.integer.html" class="type int">int</a></span> 的行为。
     <em>不要</em>依赖任何现有的行为，因为它会未加通知地改变。
    </p>
   </div>
  </div>

 </div>
</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="129594""></a>
  <div class="note">
   <strong class="user">lewismoten at gmail dot com</strong>
   <a href="#129594" class="date">18-Jun-2024 08:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Regarding the part about `PHP does not support unsigned ints`, this often causes much confusion when using the hard-coded minimum value of a signed integer that matches PHP_INT_MIN.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// 64-bit example<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">PHP_INT_MIN</span><span class="keyword">);<br />
</span><span class="default">var_dump</span><span class="keyword">(-</span><span class="default">9223372036854775808</span><span class="keyword">);<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">PHP_INT_MIN </span><span class="keyword">=== -</span><span class="default">9223372036854775808</span><span class="keyword">);<br />
</span><span class="comment">// int(-9223372036854775808)<br />
// float(-9.223372036854776E+18)<br />
// bool(false)<br />
</span><span class="default">?&gt;<br />
</span><br />
Although visually, I've typed the same value that PHP_INT_MIN writes out `-9223372036854775808`, the language parser only understands it as two expressions with a negate operator followed by `9223372036854775808`. The value exceeds the maximum value of an integer by one, and is promoted to a float. Although it's been suggested in the past to wire up a hook to look for this value specifically, it's more difficult than it sounds. The tokenizer is unable to evaluate both the negate and integer as one token. In addition, you would also need to address binary, octal, and hex literals.<br />
<br />
<span class="default">&lt;?php<br />
var_dump</span><span class="keyword">(-</span><span class="default">9223372036854775808</span><span class="keyword">); </span><span class="comment">// literal decimal<br />
</span><span class="default">var_dump</span><span class="keyword">(-</span><span class="default">0x8000000000000000</span><span class="keyword">); </span><span class="comment">// literal hex<br />
</span><span class="default">var_dump</span><span class="keyword">(-</span><span class="default">0b1000000000000000000000000000000000000000000000000000000000000000</span><span class="keyword">); </span><span class="comment">// literal binary<br />
</span><span class="default">var_dump</span><span class="keyword">(-</span><span class="default">01000000000000000000000</span><span class="keyword">); </span><span class="comment">// literal octal<br />
</span><span class="default">?&gt;<br />
</span><br />
If you need to hard-code the minimum value, use `PHP_INT_MIN`. It was introduced specifically for this edge case. Alternative methods are to write `-9223372036854775807 - 1`.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="125251""></a>
  <div class="note">
   <strong class="user">ganlvtech at qq dot com</strong>
   <a href="#125251" class="date">07-Aug-2020 07:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Be aware of float to int cast overflow<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">// You may expected these<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">0x7fffffffffffffff</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// int(9223372036854775807)<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">0x7fffffffffffffff </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// float(9.2233720368548E+18)<br />
</span><span class="default">var_dump</span><span class="keyword">((int)(</span><span class="default">0x7fffffffffffffff </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">));&nbsp; &nbsp;&nbsp; </span><span class="comment">// int(9223372036854775807)<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">0x7fffffffffffffff </span><span class="keyword">+ </span><span class="default">1 </span><span class="keyword">&gt; </span><span class="default">0</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// bool(true)<br />
</span><span class="default">var_dump</span><span class="keyword">((int)(</span><span class="default">0x7fffffffffffffff </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">) &gt; </span><span class="default">0</span><span class="keyword">); </span><span class="comment">// bool(true)<br />
</span><span class="default">var_dump</span><span class="keyword">((int)</span><span class="string">'9223372036854775807'</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// int(9223372036854775807)<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">9223372036854775808</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// float(9.2233720368548E+18)<br />
</span><span class="default">var_dump</span><span class="keyword">((int)</span><span class="string">'9223372036854775808'</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// int(9223372036854775807)<br />
</span><span class="default">var_dump</span><span class="keyword">((int)</span><span class="default">9223372036854775808</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// int(9223372036854775807)<br />
<br />
// But actually, it likes these<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">0x7fffffffffffffff</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// int(9223372036854775807)<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">0x7fffffffffffffff </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// float(9.2233720368548E+18)<br />
</span><span class="default">var_dump</span><span class="keyword">((int)(</span><span class="default">0x7fffffffffffffff </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">));&nbsp; &nbsp;&nbsp; </span><span class="comment">// int(-9223372036854775808)&nbsp;&nbsp; &lt;-----<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">0x7fffffffffffffff </span><span class="keyword">+ </span><span class="default">1 </span><span class="keyword">&gt; </span><span class="default">0</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// bool(true)<br />
</span><span class="default">var_dump</span><span class="keyword">((int)(</span><span class="default">0x7fffffffffffffff </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">) &gt; </span><span class="default">0</span><span class="keyword">); </span><span class="comment">// bool(false)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;-----<br />
</span><span class="default">var_dump</span><span class="keyword">((int)</span><span class="string">'9223372036854775807'</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// int(9223372036854775807)<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">9223372036854775808</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// float(9.2233720368548E+18)<br />
</span><span class="default">var_dump</span><span class="keyword">((int)</span><span class="string">'9223372036854775808'</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// int(9223372036854775807)<br />
</span><span class="default">var_dump</span><span class="keyword">((int)</span><span class="default">9223372036854775808</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// int(-9223372036854775808)&nbsp;&nbsp; &lt;-----<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
These overflows are dangerous when you try to compare it with zero, or substract it from another value (e.g. money).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="121917""></a>
  <div class="note">
   <strong class="user">egwayjen at gmail dot com</strong>
   <a href="#121917" class="date">27-Nov-2017 10:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
"There is no integer division operator in PHP". But since PHP 7, there is the intdiv function.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="121886""></a>
  <div class="note">
   <strong class="user">dhairya lakhera</strong>
   <a href="#121886" class="date">20-Nov-2017 04:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
-------------------------------------------------------------------------<br />
Question : <br />
var_dump((int) 010);&nbsp; //Output 8<br />
<br />
var_dump((int) "010"); //output 10<br />
<br />
First one is octal notation so the output is correct. But what about the when converting "010" to integer. it should be also output 8 ?<br />
--------------------------------------------------------------------------<br />
Answer :<br />
<br />
Casting to an integer using (int) will always cast to the default base, which is 10.<br />
<br />
Casting a string to a number this way does not take into account the many ways of formatting an integer value in PHP (leading zero for base 8, leading "0x" for base 16, leading "0b" for base 2). It will simply look at the first characters in a string and convert them to a base 10 integer. Leading zeroes will be stripped off because they have no meaning in numerical values, so you will end up with the decimal value 10 for (int)"010".<br />
<br />
Converting an integer value between bases using (int)010 will take into account the various ways of formatting an integer. A leading zero like in 010 means the number is in octal notation, using (int)010 will convert it to the decimal value 8 in base 10.<br />
<br />
This is similar to how you use 0x10 to write in hexadecimal (base 16) notation. Using (int)0x10 will convert that to the base 10 decimal value 16, whereas using (int)"0x10" will end up with the decimal value 0: since the "x" is not a numerical value, anything after that will be ignored.<br />
<br />
If you want to interpret the string "010" as an octal value, you need to instruct PHP to do so. intval("010", 8) will interpret the number in base 8 instead of the default base 10, and you will end up with the decimal value 8. You could also use octdec("010") to convert the octal string to the decimal value 8. Another option is to use base_convert("010", 8, 10) to explicitly convert the number "010" from base 8 to base 10, however this function will return the string "8" instead of the integer 8.<br />
<br />
Casting a string to an integer follows the same the logic used by the intval function:<br />
<br />
Returns the integer value of var, using the specified base for the conversion (the default is base 10).<br />
intval allows specifying a different base as the second argument, whereas a straight cast operation does not, so using (int) will always treat a string as being in base 10.<br />
<br />
php &gt; var_export((int) "010");<br />
10<br />
php &gt; var_export(intval("010"));<br />
10<br />
php &gt; var_export(intval("010", 8));<br />
8</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="118903""></a>
  <div class="note">
   <strong class="user">litbai</strong>
   <a href="#118903" class="date">25-Feb-2016 08:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
$ipArr </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">'.'</span><span class="keyword">, </span><span class="default">$ipString</span><span class="keyword">);<br />
</span><span class="default">$ipVal </span><span class="keyword">= (</span><span class="default">$ipArr</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] &lt;&lt; </span><span class="default">24</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; + (</span><span class="default">$ipArr</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] &lt;&lt; </span><span class="default">16</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; + (</span><span class="default">$ipArr</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">] &lt;&lt; </span><span class="default">8</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; + </span><span class="default">$ipArr</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">]<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; ;<br />
</span><span class="default">?&gt;<br />
</span>1. the priority of bit op is lower than '+',so there should be brackets.<br />
2. there is no unsighed int in PHP, if you use 32 bit version，the code above will get negative result when the first position of IP string greater than 127.<br />
3. what the code actually do is calculate the integer value of transformed 32 binary bit from IP string.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="116479""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#116479" class="date">09-Jan-2015 09:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Converting to an integer works only if the input begins with a number<br />
(int) "5txt" // will output the integer 5<br />
(int) "before5txt" // will output the integer 0<br />
(int) "53txt" // will output the integer 53<br />
(int) "53txt534text" // will output the integer 53</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="111523""></a>
  <div class="note">
   <strong class="user">php at richardneill dot org</strong>
   <a href="#111523" class="date">28-Feb-2013 06:25</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A leading zero in a numeric literal means "this is octal". But don't be confused: a leading zero in a string does not. Thus:<br />
$x = 0123;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // 83<br />
$y = "0123" + 0&nbsp; &nbsp;&nbsp; // 123</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="77056""></a>
  <div class="note">
   <strong class="user">d_n at NOSPAM dot Loryx dot com</strong>
   <a href="#77056" class="date">13-Aug-2007 05:33</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here are some tricks to convert from a "dotted" IP address to a LONG int, and backwards. This is very useful because accessing an IP addy in a database table is very much faster if it's stored as a BIGINT rather than in characters.<br />
<br />
IP to BIGINT:<br />
<span class="default">&lt;?php<br />
&nbsp; $ipArr&nbsp; &nbsp; </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">'.'</span><span class="keyword">,</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'REMOTE_ADDR'</span><span class="keyword">]);<br />
&nbsp; </span><span class="default">$ip&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">= </span><span class="default">$ipArr</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] * </span><span class="default">0x1000000<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">+ </span><span class="default">$ipArr</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] * </span><span class="default">0x10000<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">+ </span><span class="default">$ipArr</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">] * </span><span class="default">0x100<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">+ </span><span class="default">$ipArr</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">]<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; ;<br />
</span><span class="default">?&gt;<br />
</span><br />
IP as BIGINT read from db back to dotted form:<br />
<br />
Keep in mind, PHP integer operators are INTEGER -- not long. Also, since there is no integer divide in PHP, we save a couple of S-L-O-W floor (&lt;division&gt;)'s by doing bitshifts. We must use floor(/) for $ipArr[0] because though $ipVal is stored as a long value, $ipVal &gt;&gt; 24 will operate on a truncated, integer value of $ipVal! $ipVint is, however, a nice integer, so <br />
we can enjoy the bitshifts.<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $ipVal </span><span class="keyword">= </span><span class="default">$row</span><span class="keyword">[</span><span class="string">'client_IP'</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ipArr </span><span class="keyword">= array(</span><span class="default">0 </span><span class="keyword">=&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">floor</span><span class="keyword">(&nbsp; </span><span class="default">$ipVal&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">/ </span><span class="default">0x1000000</span><span class="keyword">) );<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ipVint&nbsp;&nbsp; </span><span class="keyword">= </span><span class="default">$ipVal</span><span class="keyword">-(</span><span class="default">$ipArr</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]*</span><span class="default">0x1000000</span><span class="keyword">); </span><span class="comment">// for clarity<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ipArr</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] = (</span><span class="default">$ipVint </span><span class="keyword">&amp; </span><span class="default">0xFF0000</span><span class="keyword">)&nbsp; &gt;&gt; </span><span class="default">16</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ipArr</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">] = (</span><span class="default">$ipVint </span><span class="keyword">&amp; </span><span class="default">0xFF00&nbsp; </span><span class="keyword">)&nbsp; &gt;&gt; </span><span class="default">8</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ipArr</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">] =&nbsp; </span><span class="default">$ipVint </span><span class="keyword">&amp; </span><span class="default">0xFF</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ipDotted </span><span class="keyword">= </span><span class="default">implode</span><span class="keyword">(</span><span class="string">'.'</span><span class="keyword">, </span><span class="default">$ipArr</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="73790""></a>
  <div class="note">
   <strong class="user">Jacek</strong>
   <a href="#73790" class="date">10-Mar-2007 04:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
On 64 bits machines max integer value is 0x7fffffffffffffff (9 223 372 036 854 775 807).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="73766""></a>
  <div class="note">
   
   <a href="#73766" class="date">09-Mar-2007 07:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To force the correct usage of 32-bit unsigned integer in some functions, just add '+0'&nbsp; just before processing them.<br />
<br />
for example <br />
echo(dechex("2724838310"));<br />
will print '7FFFFFFF'<br />
but it should print 'A269BBA6'<br />
<br />
When adding '+0' php will handle the 32bit unsigned integer<br />
correctly<br />
echo(dechex("2724838310"+0));<br />
will print 'A269BBA6'</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="71709""></a>
  <div class="note">
   <strong class="user">rustamabd@gmail-you-know-what</strong>
   <a href="#71709" class="date">12-Dec-2006 01:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Be careful with using the modulo operation on big numbers, it will cast a float argument to an int and may return wrong results. For example:<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; $i </span><span class="keyword">= </span><span class="default">6887129852</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"i=</span><span class="default">$i</span><span class="string">\n"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"i%36="</span><span class="keyword">.(</span><span class="default">$i</span><span class="keyword">%</span><span class="default">36</span><span class="keyword">).</span><span class="string">"\n"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"alternative i%36="</span><span class="keyword">.(</span><span class="default">$i</span><span class="keyword">-</span><span class="default">floor</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">/</span><span class="default">36</span><span class="keyword">)*</span><span class="default">36</span><span class="keyword">).</span><span class="string">"\n"</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span>Will output:<br />
i=6.88713E+009<br />
i%36=-24<br />
alternative i%36=20</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
