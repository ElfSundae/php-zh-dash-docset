<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>元字符</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="regexp.reference.delimiters.html">? 分隔符</a></li>
      <li style="float: right;"><a href="regexp.reference.escape.html">转义序列(反斜线) ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="reference.pcre.pattern.syntax.html">PCRE 正则语法</a></li>
    <li>元字符</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="regexp.reference.meta" class="section">
  <h2 class="title">元字符</h2>
  <p class="para">  
  正则表达式的威力源于它可以在模式中拥有选择和重复的能力。 一些字符被赋予
  特殊的涵义，使其不再单纯的代表自己，模式中的这种有特殊涵义的编码字符
  称为 <em class="emphasis">元字符</em>。
  </p>
  <p class="para">
  共有两种不同的元字符：一种是可以在模式中方括号外任何地方使用的，另外一种
  是需要在方括号内使用的。
  在方括号外使用的元字符如下：
   <dl>

    
     <dt>
<em class="emphasis">\</em></dt>

     <dd>
<span class="simpara">一般用于转义字符</span></dd>

    
    
     <dt>
<em class="emphasis">^</em></dt>

     <dd>
<span class="simpara">断言目标的开始位置(或在多行模式下是行首)</span></dd>

    
    
     <dt>
<em class="emphasis">$</em></dt>

     <dd>
<span class="simpara">断言目标的结束位置(或在多行模式下是行尾)</span></dd>

    
    
     <dt>
<em class="emphasis">.</em></dt>

     <dd>
<span class="simpara">匹配除换行符外的任何字符(默认)</span></dd>

    
    
     <dt>
<em class="emphasis">[</em></dt>

     <dd>
<span class="simpara">开始字符类定义</span></dd>

    
    
     <dt>
<em class="emphasis">]</em></dt>

     <dd>
<span class="simpara">结束字符类定义</span></dd>

    
    
     <dt>
<em class="emphasis">|</em></dt>

     <dd>
<span class="simpara">开始一个可选分支</span></dd>

    
    
     <dt>
<em class="emphasis">(</em></dt>

     <dd>
<span class="simpara">子组的开始标记</span></dd>

    
    
     <dt>
<em class="emphasis">)</em></dt>

     <dd>
<span class="simpara">子组的结束标记</span></dd>

    
    
     <dt>
<em class="emphasis">?</em></dt>

     <dd>

      <span class="simpara">
      作为量词，表示 0 次或 1 次匹配。位于量词后面用于改变量词的贪婪特性。
      (查阅<a href="regexp.reference.repetition.html" class="link">量词</a>)
      </span>
     </dd>

    
    
     <dt>
<em class="emphasis">*</em></dt>

     <dd>
<span class="simpara">量词，0 次或多次匹配</span></dd>

    
    
     <dt>
<em class="emphasis">+</em></dt>

     <dd>
<span class="simpara">量词，1 次或多次匹配</span></dd>

    
    
     <dt>
<em class="emphasis">{</em></dt>

     <dd>
<span class="simpara">自定义量词开始标记</span></dd>

    
    
     <dt>
<em class="emphasis">}</em></dt>

     <dd>
<span class="simpara">自定义量词结束标记</span></dd>

    
   </dl>

   模式中方括号内的部分称为"字符类"。 在一个字符类中仅有以下可用元字符：
   
   <dl>

    
     <dt>
<em class="emphasis">\</em></dt>

     <dd>
<span class="simpara">转义字符</span></dd>

    
    
     <dt>
<em class="emphasis">^</em></dt>

     <dd>
<span class="simpara">仅在作为第一个字符(方括号内)时，表明字符类取反</span></dd>

    
    
     <dt>
<em class="emphasis">-</em></dt>

     <dd>
<span class="simpara">标记字符范围</span></dd>

    
   </dl>

   下面部分描述每个元字符的用法。
  </p>
 </div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="122428""></a>
  <div class="note">
   <strong class="user">Wirek</strong>
   <a href="#122428" class="date">23-Feb-2018 11:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
An important addendum (with new $pat3_2 utilising \R properly, its results and comments):<br />
Note that there are (sometimes difficult to grasp at first glance) nuances of meaning and application of escape sequences like \r, \R and \v - none of them is perfect in all situations, but they are quite useful nevertheless. Some official PCRE control options and their changes come in handy too - unfortunately neither (*ANYCRLF), (*ANY) nor (*CRLF) is documented here on php.net at the moment (although they seem to be available for over 10 years and 5 months now), but they are described on Wikipedia ("Newline/linebreak options" at https://en.wikipedia.org/wiki/Perl_Compatible_Regular_Expressions) and official PCRE library site ("Newline convention" at <a href="http://www.pcre.org/original/doc/html/pcresyntax.html#SEC17" rel="nofollow" target="_blank">http://www.pcre.org/original/doc/html/pcresyntax.html#SEC17</a>) pretty well. The functionality of \R appears somehow disappointing (with default configuration of compile time option) according to php.net as well as official description ("Newline sequences" at https://www.pcre.org/original/doc/html/pcrepattern.html#newlineseq) when used improperly.<br />
<br />
A hint for those of you who are trying to fight off (or work around at least) the problem of matching a pattern correctly at the end (or at the beginning) of any line even without the multiple lines mode (/m) or meta-character assertions ($ or ^).<br />
<span class="default">&lt;?php <br />
</span><span class="comment">// Various OS-es have various end line (a.k.a line break) chars:<br />
// - Windows uses CR+LF (\r\n);<br />
// - Linux LF (\n);<br />
// - OSX CR (\r).<br />
// And that's why single dollar meta assertion ($) sometimes fails with multiline modifier (/m) mode - possible bug in PHP 5.3.8 or just a "feature"(?) of default configuration option for meta-character assertions (^ and $) at compile time of PCRE.<br />
</span><span class="default">$str</span><span class="keyword">=</span><span class="string">"ABC ABC\n\n123 123\r\ndef def\rnop nop\r\n890 890\nQRS QRS\r\r~-_ ~-_"</span><span class="keyword">;<br />
</span><span class="comment">//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; C&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; p&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; _<br />
</span><span class="default">$pat3</span><span class="keyword">=</span><span class="string">'/\w\R?$/mi'</span><span class="keyword">;&nbsp; &nbsp; </span><span class="comment">// Somehow disappointing according to php.net and pcre.org when used improperly<br />
</span><span class="default">$pat3_2</span><span class="keyword">=</span><span class="string">'/\w(?=\R)/i'</span><span class="keyword">;&nbsp; &nbsp; </span><span class="comment">// Much better with allowed lookahead assertion (just to detect without capture) without multiline (/m) mode; note that with alternative for end of string ((?=\R|$)) it would grab all 7 elements as expected, but '/(*ANYCRLF)\w$/mi' is more straightforward in use anyway<br />
</span><span class="default">$p</span><span class="keyword">=</span><span class="default">preg_match_all</span><span class="keyword">(</span><span class="default">$pat3</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">, </span><span class="default">$m3</span><span class="keyword">);<br />
</span><span class="default">$r</span><span class="keyword">=</span><span class="default">preg_match_all</span><span class="keyword">(</span><span class="default">$pat3_2</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">, </span><span class="default">$m4</span><span class="keyword">);<br />
echo </span><span class="default">$str</span><span class="keyword">.</span><span class="string">"\n3 !!! </span><span class="default">$pat3</span><span class="string"> (</span><span class="default">$p</span><span class="string">): "</span><span class="keyword">.</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$m3</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="default">true</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; .</span><span class="string">"\n3_2 !!! </span><span class="default">$pat3_2</span><span class="string"> (</span><span class="default">$r</span><span class="string">): "</span><span class="keyword">.</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$m4</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="default">true</span><span class="keyword">);<br />
</span><span class="comment">// Note the difference between the two very helpful escape sequences in $pat3 and $pat3_2 (\R) - for some applications at least.<br />
<br />
/* The code above results in the following output:<br />
ABC ABC<br />
<br />
123 123<br />
def def<br />
nop nop<br />
890 890<br />
QRS QRS<br />
<br />
~-_ ~-_<br />
3 !!! /\w\R?$/mi (5): Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; C<br />
<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; 3<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; p<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; 0<br />
&nbsp;&nbsp;&nbsp; [4] =&gt; _<br />
)<br />
<br />
3_2 !!! /\w(?=\R)/i (6): Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; C<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; 3<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; f<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; p<br />
&nbsp;&nbsp;&nbsp; [4] =&gt; 0<br />
&nbsp;&nbsp;&nbsp; [5] =&gt; S<br />
)<br />
&nbsp;*/<br />
</span><span class="default">?&gt;<br />
</span>Unfortunately, I haven't got any access to a server with the latest PHP version - my local PHP is 5.3.8 and my public host's PHP is version 5.2.17.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="122410""></a>
  <div class="note">
   <strong class="user">Wirek</strong>
   <a href="#122410" class="date">19-Feb-2018 10:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Significantly updated version (with $pat4 and the best $pat5!):<br />
A hint for those of you who are trying to fight off (or work around at least) the problem of matching a pattern correctly at the end ($) of any line in multiple lines mode (/m).<br />
<span class="default">&lt;?php <br />
</span><span class="comment">// Various OS-es have various end line (a.k.a line break) chars:<br />
// - Windows uses CR+LF (\r\n);<br />
// - Linux LF (\n);<br />
// - OSX CR (\r).<br />
// And that's why single dollar meta assertion ($) sometimes fails with multiline modifier (/m) mode - possible bug in PHP 5.3.8 or just a "feature"(?).<br />
</span><span class="default">$str</span><span class="keyword">=</span><span class="string">"ABC ABC\n\n123 123\r\ndef def\rnop nop\r\n890 890\nQRS QRS\r\r~-_ ~-_"</span><span class="keyword">;<br />
</span><span class="comment">//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; C&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; p&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; _<br />
</span><span class="default">$pat1</span><span class="keyword">=</span><span class="string">'/\w$/mi'</span><span class="keyword">;<br />
</span><span class="default">$pat2</span><span class="keyword">=</span><span class="string">'/\w\r?$/mi'</span><span class="keyword">;<br />
</span><span class="default">$pat3</span><span class="keyword">=</span><span class="string">'/\w\R?$/mi'</span><span class="keyword">;<br />
</span><span class="default">$pat4</span><span class="keyword">=</span><span class="string">'/\w\v?$/mi'</span><span class="keyword">;<br />
</span><span class="default">$pat5</span><span class="keyword">=</span><span class="string">'/(*ANYCRLF)\w$/mi'</span><span class="keyword">;<br />
</span><span class="default">$n</span><span class="keyword">=</span><span class="default">preg_match_all</span><span class="keyword">(</span><span class="default">$pat1</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">, </span><span class="default">$m1</span><span class="keyword">);<br />
</span><span class="default">$o</span><span class="keyword">=</span><span class="default">preg_match_all</span><span class="keyword">(</span><span class="default">$pat2</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">, </span><span class="default">$m2</span><span class="keyword">);<br />
</span><span class="default">$p</span><span class="keyword">=</span><span class="default">preg_match_all</span><span class="keyword">(</span><span class="default">$pat3</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">, </span><span class="default">$m3</span><span class="keyword">);<br />
</span><span class="default">$r</span><span class="keyword">=</span><span class="default">preg_match_all</span><span class="keyword">(</span><span class="default">$pat4</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">, </span><span class="default">$m4</span><span class="keyword">);<br />
</span><span class="default">$s</span><span class="keyword">=</span><span class="default">preg_match_all</span><span class="keyword">(</span><span class="default">$pat5</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">, </span><span class="default">$m5</span><span class="keyword">);<br />
echo </span><span class="default">$str</span><span class="keyword">.</span><span class="string">"\n1 !!! </span><span class="default">$pat1</span><span class="string"> (</span><span class="default">$n</span><span class="string">): "</span><span class="keyword">.</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$m1</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="default">true</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; .</span><span class="string">"\n2 !!! </span><span class="default">$pat2</span><span class="string"> (</span><span class="default">$o</span><span class="string">): "</span><span class="keyword">.</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$m2</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="default">true</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; .</span><span class="string">"\n3 !!! </span><span class="default">$pat3</span><span class="string"> (</span><span class="default">$p</span><span class="string">): "</span><span class="keyword">.</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$m3</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="default">true</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; .</span><span class="string">"\n4 !!! </span><span class="default">$pat4</span><span class="string"> (</span><span class="default">$r</span><span class="string">): "</span><span class="keyword">.</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$m4</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="default">true</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; .</span><span class="string">"\n5 !!! </span><span class="default">$pat5</span><span class="string"> (</span><span class="default">$s</span><span class="string">): "</span><span class="keyword">.</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$m5</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="default">true</span><span class="keyword">);<br />
</span><span class="comment">// Note the difference between the three very helpful escape sequences in $pat2 (\r), $pat3 (\R), $pat4 (\v) and altered newline option in $pat5 ((*ANYCRLF)) - for some applications at least.<br />
<br />
/* The code above results in the following output:<br />
ABC ABC<br />
<br />
123 123<br />
def def<br />
nop nop<br />
890 890<br />
QRS QRS<br />
<br />
~-_ ~-_<br />
1 !!! /\w$/mi (3): Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; C<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; 0<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; _<br />
)<br />
<br />
2 !!! /\w\r?$/mi (5): Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; C<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; 3<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; p<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; 0<br />
&nbsp;&nbsp;&nbsp; [4] =&gt; _<br />
)<br />
<br />
3 !!! /\w\R?$/mi (5): Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; C<br />
<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; 3<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; p<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; 0<br />
&nbsp;&nbsp;&nbsp; [4] =&gt; _<br />
) <br />
<br />
4 !!! /\w\v?$/mi (5): Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; C<br />
<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; 3<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; p<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; 0<br />
&nbsp;&nbsp;&nbsp; [4] =&gt; _<br />
)<br />
<br />
5 !!! /(*ANYCRLF)\w$/mi (7): Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; C<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; 3<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; f<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; p<br />
&nbsp;&nbsp;&nbsp; [4] =&gt; 0<br />
&nbsp;&nbsp;&nbsp; [5] =&gt; S<br />
&nbsp;&nbsp;&nbsp; [6] =&gt; _<br />
)<br />
&nbsp;*/<br />
</span><span class="default">?&gt;<br />
</span>Unfortunately, I haven't got any access to a server with the latest PHP version - my local PHP is 5.3.8 and my public host's PHP is version 5.2.17.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="122408""></a>
  <div class="note">
   <strong class="user">Wirek</strong>
   <a href="#122408" class="date">19-Feb-2018 06:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A hint for those of you who are trying to fight off (or work around at least) the problem of matching a pattern correctly at the end ($) of any line in multiple lines mode (/m).<br />
<span class="default">&lt;?php <br />
</span><span class="comment">// Various OS-es have various end line (a.k.a line break) chars:<br />
// - Windows uses CR+LF (\r\n);<br />
// - Linux LF (\n);<br />
// - OSX CR (\r).<br />
// And that's why single dollar meta assertion ($) sometimes fails with multiline modifier (/m) mode - possible bug in PHP 5.3.8(?).<br />
</span><span class="default">$str</span><span class="keyword">=</span><span class="string">"ABC ABC\n\n123 123\r\ndef def\rnop nop\r\n890 890\nQRS QRS\r\r~-_ ~-_"</span><span class="keyword">;<br />
</span><span class="comment">//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; C&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; p&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; _<br />
</span><span class="default">$pat1</span><span class="keyword">=</span><span class="string">'/\w$/mi'</span><span class="keyword">;<br />
</span><span class="default">$pat2</span><span class="keyword">=</span><span class="string">'/\w\r?$/mi'</span><span class="keyword">;<br />
</span><span class="default">$pat3</span><span class="keyword">=</span><span class="string">'/\w\R?$/mi'</span><span class="keyword">;<br />
</span><span class="default">$n</span><span class="keyword">=</span><span class="default">preg_match_all</span><span class="keyword">(</span><span class="default">$pat1</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">, </span><span class="default">$m1</span><span class="keyword">);<br />
</span><span class="default">$o</span><span class="keyword">=</span><span class="default">preg_match_all</span><span class="keyword">(</span><span class="default">$pat2</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">, </span><span class="default">$m2</span><span class="keyword">);<br />
</span><span class="default">$p</span><span class="keyword">=</span><span class="default">preg_match_all</span><span class="keyword">(</span><span class="default">$pat3</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">, </span><span class="default">$m3</span><span class="keyword">);<br />
echo </span><span class="default">$str</span><span class="keyword">.</span><span class="string">"\n1 !!! </span><span class="default">$pat1</span><span class="string"> (</span><span class="default">$n</span><span class="string">): "</span><span class="keyword">.</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$m1</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="default">true</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; .</span><span class="string">"\n2 !!! </span><span class="default">$pat2</span><span class="string"> (</span><span class="default">$o</span><span class="string">): "</span><span class="keyword">.</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$m2</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="default">true</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; .</span><span class="string">"\n3 !!! </span><span class="default">$pat3</span><span class="string"> (</span><span class="default">$p</span><span class="string">): "</span><span class="keyword">.</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$m3</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="default">true</span><span class="keyword">);<br />
</span><span class="comment">// Note the difference between the two very helpful escape sequences in $pat2 (\r) and in $pat3 (\R) - for some applications at least.<br />
<br />
/* The code above results in the following output:<br />
ABC ABC<br />
<br />
123 123<br />
def def<br />
nop nop<br />
890 890<br />
QRS QRS<br />
<br />
~-_ ~-_<br />
1 !!! /\w$/mi (3): Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; C<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; 0<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; _<br />
)<br />
<br />
2 !!! /\w\r?$/mi (5): Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; C<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; 3<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; p<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; 0<br />
&nbsp;&nbsp;&nbsp; [4] =&gt; _<br />
)<br />
<br />
3 !!! /\w\R?$/mi (5): Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; C<br />
<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; 3<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; p<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; 0<br />
&nbsp;&nbsp;&nbsp; [4] =&gt; _<br />
) <br />
&nbsp;*/<br />
</span><span class="default">?&gt;<br />
</span>Unfortunately, I haven't got any access to a server with the latest PHP version - my local PHP is 5.3.8 and my public host's PHP is version 5.2.17.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="118854""></a>
  <div class="note">
   <strong class="user">Kurt Wei</strong>
   <a href="#118854" class="date">17-Feb-2016 10:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
disturbing usage of "any character" for multi-lines...
<br />

<br />
remark:
<br />
'.' (all characters) just does NOT include on single character the newline (\n) by default,
<br />
while \n is included in all other matching searches (e.g. \s).
<br />
Funny enough, the "carriage return" (\r) is included, when using '.'
<br />

<br />
You have to write "(.|\\n)" instead of a single dot, with disadvantages in using complex matching-results,
<br />

<br />
or simple use the "s" modificator to bring dot to accept the newline.
<br />

<br />
$subject="&lt;tag&gt;Hello\nWorld&lt;/tag&gt;";
<br />

<br />
preg_match( '/&lt;tag&gt;[A-Za-z\\s]*&lt;\\/tag&gt;/' , $subject ); //true
<br />
preg_match( '/&lt;tag&gt;[^&lt;]*&lt;\\/tag&gt;/' , $subject ); //true
<br />
preg_match( '/&lt;tag&gt;(.|\\n)*&lt;\\/tag&gt;/' , $subject ); //true
<br />
preg_match( '/&lt;tag&gt;.*&lt;\\/tag&gt;/s' , $subject ); //true
<br />
preg_match( '/&lt;tag&gt;.*&lt;\\/tag&gt;/' , $subject ); //ATTENTION! *false*</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="116962""></a>
  <div class="note">
   <strong class="user">Thomas</strong>
   <a href="#116962" class="date">27-Mar-2015 12:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The meta character $ accepts a (one) newline character (\n).<br />
<br />
(Take a moment to let this information sink in)<br />
<br />
You might want to (r)trim() your input afterwards if you have a match because otherwise it (still) might not meet a length requirement or other strange stuff might happen when you store the input as-is.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
