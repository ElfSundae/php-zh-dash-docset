<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>简介</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="book.parallel.html">? parallel</a></li>
      <li style="float: right;"><a href="parallel.setup.html">安装 ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="book.parallel.html">parallel</a></li>
    <li>简介</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="intro.parallel" class="preface">
  <h1 class="title">简介</h1>
  <p class="para">
   parallel 是适用于 PHP ≥ 7.2.0 的并行并发扩展。自 parallel 1.2.0 起，要求 PHP ≥ 8.0.0。
  </p>
  <p class="para">
   下面是并行核心概念的简要描述，更多详细信息可以在手册的这一节中找到。
  </p>
  <div class="simplesect">
   <h3 class="title">Runtime</h3>
   <p class="para">
    <span class="classname"><a href="class.parallel-runtime.html" class="classname">parallel\Runtime</a></span> 表示 PHP 解释器线程。将可选的 bootstrap 文件传递给 <span class="methodname"><a href="parallel-runtime.construct.html" class="methodname">parallel\Runtime::__construct()</a></span>
    可用于配置 <span class="classname"><a href="class.parallel-runtime.html" class="classname">parallel\Runtime</a></span>，这通常是自动加载器或者一些其它预加载程序：引导文件将在任何任务执行之前加载。
   </p>
   <p class="para">
    构造之后，<span class="classname"><a href="class.parallel-runtime.html" class="classname">parallel\Runtime</a></span> 在 PHP 对象正常作用域规则关闭、杀死或者销毁之前一直可用。<span class="methodname"><a href="parallel-runtime.run.html" class="methodname">parallel\Runtime::run()</a></span>
    允许程序员安排并行执行的任务。<span class="classname"><a href="class.parallel-runtime.html" class="classname">parallel\Runtime</a></span> 有 FIFO 调度，任务将按照调度的顺序执行。
   </p>
  </div>
  <div class="simplesect">
   <h3 class="title">功能性 API</h3>
   <p class="para">
    Parallel 在 <span class="classname"><a href="class.parallel-runtime.html" class="classname">parallel\Runtime</a></span> 之上实现了一个功能性的、更高级别的 API，提供了单一函数入口点来通过自动调度执行并行代码：<span class="function"><a href="parallel.run.html" class="function">parallel\run()</a></span>。
   </p>
  </div>
  <div class="simplesect">
   <h3 class="title">Task</h3>
   <p class="para">
    Task 只是用于并行执行的 <span class="classname"><a href="class.closure.html" class="classname">Closure</a></span>。<span class="classname"><a href="class.closure.html" class="classname">Closure</a></span> 几乎可以包含任何指令，包含嵌套闭包。但是 task
    中禁止使用一些指令：
    <ul class="itemizedlist">
     <li class="listitem">
     <p class="para">yield</p>
     </li>
     <li class="listitem">
     <p class="para">使用引用</p>
     </li>
     <li class="listitem">
     <p class="para">声明类</p>
     </li>
     <li class="listitem">
     <p class="para">声明命名函数</p>
     </li>
    </ul>
   </p>
   <blockquote class="note"><p><strong class="note">Note</strong>: 
    <p class="para">
     嵌套闭包可以 yield 或使用引用，但不得包含类声明或命名函数声明。
    </p>
   </p></blockquote>
   <blockquote class="note"><p><strong class="note">Note</strong>: 
    <p class="para">
     Task 可能 include 的文件不禁止任何指令。
    </p>
   </p></blockquote>
  </div>
  <div class="simplesect">
   <h3 class="title">Future</h3>
   <p class="para">
    <span class="classname"><a href="class.parallel-future.html" class="classname">parallel\Future</a></span> 用于访问 task 的返回值，并公开用于取消任务的 API。
   </p>
  </div>
  <div class="simplesect">
   <h3 class="title">Channel</h3>
   <p class="para">
    Task 可以通过参数调用，使用词法作用域变量（按值）和返回值（通过 <span class="classname"><a href="class.parallel-future.html" class="classname">parallel\Future</a></span>），但这些仅允许单向通信：它们允许程序员将数据发送到
    task 中并从 task 中检索数据，但不允许 task 之间进行双向通信。<span class="classname"><a href="class.parallel-channel.html" class="classname">parallel\Channel</a></span> API 允许 task
    之间进行双向通信，<span class="classname"><a href="class.parallel-channel.html" class="classname">parallel\Channel</a></span> 是 task 之间类似套接字的链接，程序员可以用于发送和接收数据。
   </p>
  </div>
  <div class="simplesect">
   <h3 class="title">Events</h3>
   <p class="para">
    <span class="classname"><a href="class.parallel-events.html" class="classname">parallel\Events</a></span> API 实现了原生特性（<span class="classname"><a href="class.traversable.html" class="classname">Traversable</a></span>）事件循环，和 <span class="methodname"><a href="parallel-events.poll.html" class="methodname">parallel\Events::poll()</a></span>
    方法。允许程序员使用 channel 和 future 组合。程序员只需将 channel 和 future 添加到事件循环中，可以选择使用 <span class="methodname"><a href="parallel-events.setinput.html" class="methodname">parallel\Events::setInput()</a></span> 设置用于写入的
    input。然后进入 foreach：当对象可用时，parallel 将从这些对象中读取和写入数据，同时生成描述已经发生的操作的 <span class="classname"><a href="class.parallel-events-event.html" class="classname">parallel\Events\Event</a></span> 对象。
   </p>
  </div>
   <div class="simplesect">
   <h3 class="title">参见</h3>
   <ul class="simplelist">
    <li><a href="philosophy.parallel.html" class="xref">Philosophy</a></li>
   </ul>
  </div>
 </div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
 <div class="note">There are no user contributed notes for this page.</div>
</div>
</div></div></body></html>
