<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>定义命名空间</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="language.namespaces.rationale.html">? 命名空间概述</a></li>
      <li style="float: right;"><a href="language.namespaces.nested.html">定义子命名空间 ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="language.namespaces.html">命名空间</a></li>
    <li>定义命名空间</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="language.namespaces.definition" class="sect1">
  <h2 class="title">定义命名空间</h2>
  <p class="verinfo">(PHP 5 &gt;= 5.3.0, PHP 7, PHP 8)</p>
  <p class="para">
   虽然任意合法的 PHP 代码都可以包含在命名空间中，但只有以下类型的代码受命名空间的影响，它们是：类（包括抽象类和 trait）、接口、函数和常量。
  </p>
  <p class="para">
   命名空间通过关键字 <code class="literal">namespace</code>
   来声明。如果一个文件中包含命名空间，它必须在其它所有代码之前声明命名空间，除了一个以外：<a href="control-structures.declare.html" class="xref">declare</a>关键字。
   <div class="example" id="example-270">
    <p><strong>Example #1 声明单个命名空间</strong></p>
    <div class="example-contents">
     <div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">MyProject</span><span style="color: #007700">;<br /><br />const&nbsp;</span><span style="color: #0000BB">CONNECT_OK&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />class&nbsp;</span><span style="color: #0000BB">Connection&nbsp;</span><span style="color: #007700">{&nbsp;</span><span style="color: #FF8000">/*&nbsp;...&nbsp;*/&nbsp;</span><span style="color: #007700">}<br />function&nbsp;</span><span style="color: #0000BB">connect</span><span style="color: #007700">()&nbsp;{&nbsp;</span><span style="color: #FF8000">/*&nbsp;...&nbsp;*/&nbsp;&nbsp;</span><span style="color: #007700">}<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
   在声明命名空间之前唯一合法的代码是用于定义源文件编码方式的 <code class="literal">declare</code>
   语句。另外，所有非 PHP
   代码包括空白符都不能出现在命名空间的声明之前：
   <div class="example" id="example-271">
    <p><strong>Example #2 声明单个命名空间</strong></p>
    <div class="example-contents">
     <div class="phpcode"><code><span style="color: #000000">
&lt;html&gt;<br /><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">MyProject</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;致命错误&nbsp;-　命名空间必须是程序脚本的第一条语句<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
  <p class="para">
   另外，与 PHP 其它的语言特征不同，同一个命名空间可以定义在多个文件中，即允许将同一个命名空间的内容分割存放在不同的文件中。
  </p>
 </div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="125705""></a>
  <div class="note">
   <strong class="user">anisgazig at gmail dot com</strong>
   <a href="#125705" class="date">21-Jan-2021 05:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
namespace statement&nbsp; is defined at first of the php files. But <br />
&nbsp;&nbsp;&nbsp; before namespace declaration only three elements allowed.<br />
&nbsp;&nbsp; &nbsp;&nbsp; 1.declare statement<br />
&nbsp;&nbsp; &nbsp;&nbsp; 2.spaces<br />
&nbsp;&nbsp; &nbsp;&nbsp; 3.comments</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="125678""></a>
  <div class="note">
   <strong class="user">anisgazig at gmail dot com</strong>
   <a href="#125678" class="date">14-Jan-2021 04:03</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Namespace name are case-insensitive.<br />
namespace App<br />
and<br />
namespace app<br />
are same meaning.<br />
<br />
Besides, Namespace keword are case-insensitive.<br />
Namespace App<br />
namespace App<br />
and<br />
NAMESPACE App<br />
are same meaning.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="115504""></a>
  <div class="note">
   <strong class="user">kuzawinski dot marcin at NOSPAM dot gmail dot com</strong>
   <a href="#115504" class="date">05-Aug-2014 09:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If your code looks like this:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">namespace </span><span class="default">NS</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
...and you still get "Namespace declaration statement has to be the very first statement in the script" Fatal error, then you probably use UTF-8 encoding (which is good) with Byte Order Mark, aka BOM (which is bad). Try to convert your files to "UTF-8 without BOM", and it should be ok.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="112937""></a>
  <div class="note">
   <strong class="user">FatBat</strong>
   <a href="#112937" class="date">08-Aug-2013 09:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Expanding on @danbettles note, it is better to always be explicit about which constant to use.<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">namespace </span><span class="default">NS</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">define</span><span class="keyword">(</span><span class="default">__NAMESPACE__ </span><span class="keyword">.</span><span class="string">'\foo'</span><span class="keyword">,</span><span class="string">'111'</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">define</span><span class="keyword">(</span><span class="string">'foo'</span><span class="keyword">,</span><span class="string">'222'</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">foo</span><span class="keyword">;&nbsp; </span><span class="comment">// 111.<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">echo \</span><span class="default">foo</span><span class="keyword">;&nbsp; </span><span class="comment">// 222.<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">echo \</span><span class="default">NS</span><span class="keyword">\</span><span class="default">foo&nbsp; </span><span class="comment">// 111.<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">echo </span><span class="default">NS</span><span class="keyword">\</span><span class="default">foo&nbsp; </span><span class="comment">// fatal error. assumes \NS\NS\foo.<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93882""></a>
  <div class="note">
   <strong class="user">huskyr at gmail dot com</strong>
   <a href="#93882" class="date">05-Oct-2009 04:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
"A file containing a namespace must declare the namespace at the top of the file before any other code"
<br />

<br />
It might be obvious, but this means that you *can* include comments and white spaces before the namespace keyword.
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="comment">// Lots 
<br />
// of
<br />
// interesting
<br />
// comments and white space
<br />

<br />
</span><span class="keyword">namespace </span><span class="default">Foo</span><span class="keyword">;
<br />
class </span><span class="default">Bar </span><span class="keyword">{
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="92212""></a>
  <div class="note">
   <strong class="user">jeremeamia at gmail dot com</strong>
   <a href="#92212" class="date">14-Jul-2009 08:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You should not try to create namespaces that use PHP keywords. These will cause parse errors. 
<br />

<br />
Examples:
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">namespace </span><span class="default">Project</span><span class="keyword">/</span><span class="default">Classes</span><span class="keyword">/Function; </span><span class="comment">// Causes parse errors
<br />
</span><span class="keyword">namespace </span><span class="default">Project</span><span class="keyword">/Abstract/</span><span class="default">Factory</span><span class="keyword">; </span><span class="comment">// Causes parse errors
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="90283""></a>
  <div class="note">
   <strong class="user">danbettles at yahoo dot co dot uk</strong>
   <a href="#90283" class="date">14-Apr-2009 12:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Regarding constants defined with define() inside namespaces...<br />
<br />
define() will define constants exactly as specified.&nbsp; So, if you want to define a constant in a namespace, you will need to specify the namespace in your call to define(), even if you're calling define() from within a namespace.&nbsp; The following examples will make it clear.<br />
<br />
The following code will define the constant "MESSAGE" in the global namespace (i.e. "\MESSAGE").<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">namespace </span><span class="default">test</span><span class="keyword">;<br />
</span><span class="default">define</span><span class="keyword">(</span><span class="string">'MESSAGE'</span><span class="keyword">, </span><span class="string">'Hello world!'</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
The following code will define two constants in the "test" namespace.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">namespace </span><span class="default">test</span><span class="keyword">;<br />
</span><span class="default">define</span><span class="keyword">(</span><span class="string">'test\HELLO'</span><span class="keyword">, </span><span class="string">'Hello world!'</span><span class="keyword">);<br />
</span><span class="default">define</span><span class="keyword">(</span><span class="default">__NAMESPACE__ </span><span class="keyword">. </span><span class="string">'\GOODBYE'</span><span class="keyword">, </span><span class="string">'Goodbye cruel world!'</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83194""></a>
  <div class="note">
   <strong class="user">Baptiste</strong>
   <a href="#83194" class="date">14-May-2008 12:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
There is nothing wrong with PHP namespaces, except that those 2 instructions give a false impression of package management.<br />
... while they just correspond to the "with()" instruction of Javascript.<br />
<br />
By contrast, a package is a namespace for its members, but it offers more (like deployment facilities), and a compiler knows exactly what classes are in a package, and where to find them.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="82222""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#82222" class="date">01-Apr-2008 11:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
@ RS: Also, you can specify how your __autoload() function looks for the files. That way another users namespace classes cannot overwrite yours unless they replace your file specifically.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
