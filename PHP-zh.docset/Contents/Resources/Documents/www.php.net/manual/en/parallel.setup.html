<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>安装</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="intro.parallel.html">? 简介</a></li>
      <li style="float: right;"><a href="philosophy.parallel.html">Philosophy ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="book.parallel.html">parallel</a></li>
    <li>安装</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="parallel.setup" class="chapter">
 <h1 class="title">安装</h1>


 <div class="simplesect" id="parallel.requirements">
  <h3 class="title">需求</h3>
  <p class="para">
   parallel 要求启用 ZTS（Zend 线程安全）PHP 编译（<strong class="option configure">--enable-zts</strong>，或者 PHP 8.0.0 之前的非 Windows
   系统是 <strong class="option configure">--enable-maintainer-zts</strong>）
  </p>
  <div class="caution"><strong class="caution">Caution</strong>
  <p class="para">
   Zend 线程安全在编译后无法启用，因为他是编译时的配置项。
  </p>
  </div>
  <p class="para">
   parallel 应该在任何有有效的 Posix Thread 头文件（pthread.h）和 PHP ZTS 的地方编译，包含 Windows（使用 redhat 的 pthread-w32 项目）。
  </p>
 </div>

 <div class="simplesect" id="parallel.installation">
  <h3 class="title">安装</h3>
  <p class="para">
   parallel 版本由 PECL 托管，源代码由 
   <a href="https://github.com/krakjoe/parallel" class="link external" title="Link : https://github.com/krakjoe/parallel">&raquo;&nbsp;github</a> 托管，最简单的安装办法是使用 PECL 安装 <a href="https://pecl.php.net/package/parallel" class="link external" title="Link : https://pecl.php.net/package/parallel">&raquo;&nbsp;https://pecl.php.net/package/parallel</a>.
  </p>
  <p class="para">
   Windows 用户可以从 <a href="https://windows.php.net/downloads/pecl/releases/parallel" class="link external" title="Link : https://windows.php.net/downloads/pecl/releases/parallel">&raquo;&nbsp;PECL</a> 网站下载预编译的已发布的二进制文件。
  </p>
  <div class="caution"><strong class="caution">Caution</strong>
   <p class="para">
    Windows 用户需要采取额外的步骤，将 pthreadVC2.dll（随 Windows 一起发布）添加到 <var class="envar">PATH</var> 中。
   </p>
  </div>
 </div>

</div>
<div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="127891""></a>
  <div class="note">
   <strong class="user">Mike</strong>
   <a href="#127891" class="date">04-Nov-2022 03:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Version 1.2.0, released on October 24, 2022, supports PHP 8.0.0.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="127608""></a>
  <div class="note">
   <strong class="user">Anonym</strong>
   <a href="#127608" class="date">10-Sep-2022 12:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
As it seems, the last compiled Windows version is for PHP 7.4 which PHP 8.x refuses to load as extension. In his GitHub repository the author of the parallels extension wrote on August 2021 that the project is "probably a dead end" and the project hasn't been updated since 2 years.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="126095""></a>
  <div class="note">
   <strong class="user">andre at webtechnik dot ch</strong>
   <a href="#126095" class="date">20-May-2021 08:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
On Windows Systems:<br />
<br />
- Install PHP TS (Thread Safe)<br />
- Download Extension from PECL (PHP-Version, Thread Safe (TS), Compiler - Version (VC15, VC16), Architecture must match)<br />
- Copy extension to folder: &lt;your php dir&gt;/ext/php_parallel.dll<br />
- Copy app to folder: &lt;your php dir&gt;/pthreadVC2.dll (It is important to copy pthreadVC2.dll not into the ext folder!)<br />
- add pthreadVC2.dll to windows system environment path<br />
- add in php.ini the line extension=parallel to load the extension<br />
- restart<br />
<br />
Try on console: php -v<br />
<br />
If there are no errors, everything works and you can try the examples</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
