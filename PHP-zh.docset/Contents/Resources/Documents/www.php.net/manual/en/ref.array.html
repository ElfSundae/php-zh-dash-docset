<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>数组 函数</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="array.sorting.html">? 对数组进行排序</a></li>
      <li style="float: right;"><a href="function.array-change-key-case.html">array_change_key_case ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="book.array.html">数组</a></li>
    <li>数组 函数</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="ref.array" class="reference">
 <h1 class="title">数组 函数</h1>
 <div class="partintro">
   <h1 class="title">参见</h1>
   <p class="para">
    参考 <span class="function"><a href="function.is-array.html" class="function">is_array()</a></span>, <span class="function"><a href="function.explode.html" class="function">explode()</a></span>,
    <span class="function"><a href="function.implode.html" class="function">implode()</a></span>, <span class="function"><a href="function.split.html" class="function">split()</a></span>,
    <span class="function"><a href="function.preg-split.html" class="function">preg_split()</a></span>, and <span class="function"><a href="function.unset.html" class="function">unset()</a></span>.
   </p>
 </div>

 



































































  




























  



































  































































  























































  




























  






























































  

























































  
  







  














  






























  






















  






















  















  






  


































































<h2>Table of Contents</h2><ul class="chunklist chunklist_reference"><li><a href="function.array-change-key-case.html">array_change_key_case</a> &mdash; 将数组中的所有键名修改为全大写或小写</li><li><a href="function.array-chunk.html">array_chunk</a> &mdash; 将一个数组分割成多个</li><li><a href="function.array-column.html">array_column</a> &mdash; 返回数组中指定的一列</li><li><a href="function.array-combine.html">array_combine</a> &mdash; 创建一个数组，用一个数组的值作为其键名，另一个数组的值作为其值</li><li><a href="function.array-count-values.html">array_count_values</a> &mdash; 统计数组中所有的值</li><li><a href="function.array-diff-assoc.html">array_diff_assoc</a> &mdash; 带索引检查计算数组的差集</li><li><a href="function.array-diff-key.html">array_diff_key</a> &mdash; 使用键名比较计算数组的差集</li><li><a href="function.array-diff-uassoc.html">array_diff_uassoc</a> &mdash; 用用户提供的回调函数做索引检查来计算数组的差集</li><li><a href="function.array-diff-ukey.html">array_diff_ukey</a> &mdash; 用回调函数对键名比较计算数组的差集</li><li><a href="function.array-diff.html">array_diff</a> &mdash; 计算数组的差集</li><li><a href="function.array-fill-keys.html">array_fill_keys</a> &mdash; 使用指定的键和值填充数组</li><li><a href="function.array-fill.html">array_fill</a> &mdash; 用给定的值填充数组</li><li><a href="function.array-filter.html">array_filter</a> &mdash; 用回调函数过滤数组中的单元</li><li><a href="function.array-flip.html">array_flip</a> &mdash; 交换数组中的键和值</li><li><a href="function.array-intersect-assoc.html">array_intersect_assoc</a> &mdash; 带索引检查计算数组的交集</li><li><a href="function.array-intersect-key.html">array_intersect_key</a> &mdash; 使用键名比较计算数组的交集</li><li><a href="function.array-intersect-uassoc.html">array_intersect_uassoc</a> &mdash; 带索引检查计算数组的交集，用回调函数比较索引</li><li><a href="function.array-intersect-ukey.html">array_intersect_ukey</a> &mdash; 用回调函数比较键名来计算数组的交集</li><li><a href="function.array-intersect.html">array_intersect</a> &mdash; 计算数组的交集</li><li><a href="function.array-key-exists.html">array_key_exists</a> &mdash; 检查数组里是否有指定的键名或索引</li><li><a href="function.array-key-first.html">array_key_first</a> &mdash; Gets the first key of an array</li><li><a href="function.array-key-last.html">array_key_last</a> &mdash; Gets the last key of an array</li><li><a href="function.array-keys.html">array_keys</a> &mdash; 返回数组中部分的或所有的键名</li><li><a href="function.array-map.html">array_map</a> &mdash; 为数组的每个元素应用回调函数</li><li><a href="function.array-merge-recursive.html">array_merge_recursive</a> &mdash; 递归地合并一个或多个数组</li><li><a href="function.array-merge.html">array_merge</a> &mdash; 合并一个或多个数组</li><li><a href="function.array-multisort.html">array_multisort</a> &mdash; 对多个数组或多维数组进行排序</li><li><a href="function.array-pad.html">array_pad</a> &mdash; 以指定长度将一个值填充进数组</li><li><a href="function.array-pop.html">array_pop</a> &mdash; 弹出数组最后一个单元（出栈）</li><li><a href="function.array-product.html">array_product</a> &mdash; 计算数组中所有值的乘积</li><li><a href="function.array-push.html">array_push</a> &mdash; 将一个或多个单元压入数组的末尾（入栈）</li><li><a href="function.array-rand.html">array_rand</a> &mdash; 从数组中随机取出一个或多个单元</li><li><a href="function.array-reduce.html">array_reduce</a> &mdash; 用回调函数迭代地将数组简化为单一的值</li><li><a href="function.array-replace-recursive.html">array_replace_recursive</a> &mdash; 使用传递的数组递归替换第一个数组的元素</li><li><a href="function.array-replace.html">array_replace</a> &mdash; 使用传递的数组替换第一个数组的元素</li><li><a href="function.array-reverse.html">array_reverse</a> &mdash; 返回单元顺序相反的数组</li><li><a href="function.array-search.html">array_search</a> &mdash; 在数组中搜索给定的值，如果成功则返回首个相应的键名</li><li><a href="function.array-shift.html">array_shift</a> &mdash; 将数组开头的单元移出数组</li><li><a href="function.array-slice.html">array_slice</a> &mdash; 从数组中取出一段</li><li><a href="function.array-splice.html">array_splice</a> &mdash; 去掉数组中的某一部分并用其它值取代</li><li><a href="function.array-sum.html">array_sum</a> &mdash; 对数组中所有值求和</li><li><a href="function.array-udiff-assoc.html">array_udiff_assoc</a> &mdash; 带索引检查计算数组的差集，用回调函数比较数据</li><li><a href="function.array-udiff-uassoc.html">array_udiff_uassoc</a> &mdash; 带索引检查计算数组的差集，用回调函数比较数据和索引</li><li><a href="function.array-udiff.html">array_udiff</a> &mdash; 用回调函数比较数据来计算数组的差集</li><li><a href="function.array-uintersect-assoc.html">array_uintersect_assoc</a> &mdash; 带索引检查计算数组的交集，用回调函数比较数据</li><li><a href="function.array-uintersect-uassoc.html">array_uintersect_uassoc</a> &mdash; 带索引检查计算数组的交集，用单独的回调函数比较数据和索引</li><li><a href="function.array-uintersect.html">array_uintersect</a> &mdash; 计算数组的交集，用回调函数比较数据</li><li><a href="function.array-unique.html">array_unique</a> &mdash; 移除数组中重复的值</li><li><a href="function.array-unshift.html">array_unshift</a> &mdash; 在数组开头插入一个或多个单元</li><li><a href="function.array-values.html">array_values</a> &mdash; 返回数组中所有的值</li><li><a href="function.array-walk-recursive.html">array_walk_recursive</a> &mdash; 对数组中的每个成员递归地应用用户函数</li><li><a href="function.array-walk.html">array_walk</a> &mdash; 使用用户自定义函数对数组中的每个元素做回调处理</li><li><a href="function.array.html">array</a> &mdash; 新建一个数组</li><li><a href="function.arsort.html">arsort</a> &mdash; 对数组进行逆向排序并保持索引关系</li><li><a href="function.asort.html">asort</a> &mdash; 对数组进行排序并保持索引关系</li><li><a href="function.compact.html">compact</a> &mdash; 建立一个数组，包括变量名和它们的值</li><li><a href="function.count.html">count</a> &mdash; 计算数组中的单元数目，或对象中的属性个数</li><li><a href="function.current.html">current</a> &mdash; 返回数组中的当前单元</li><li><a href="function.each.html">each</a> &mdash; 返回数组中当前的键／值对并将数组指针向前移动一步</li><li><a href="function.end.html">end</a> &mdash; 将数组的内部指针指向最后一个单元</li><li><a href="function.extract.html">extract</a> &mdash; 从数组中将变量导入到当前的符号表</li><li><a href="function.in-array.html">in_array</a> &mdash; 检查数组中是否存在某个值</li><li><a href="function.key-exists.html">key_exists</a> &mdash; 别名 array_key_exists</li><li><a href="function.key.html">key</a> &mdash; 从关联数组中取得键名</li><li><a href="function.krsort.html">krsort</a> &mdash; 对数组按照键名逆向排序</li><li><a href="function.ksort.html">ksort</a> &mdash; 对数组按照键名排序</li><li><a href="function.list.html">list</a> &mdash; 把数组中的值赋给一组变量</li><li><a href="function.natcasesort.html">natcasesort</a> &mdash; 用&ldquo;自然排序&rdquo;算法对数组进行不区分大小写字母的排序</li><li><a href="function.natsort.html">natsort</a> &mdash; 用&ldquo;自然排序&rdquo;算法对数组排序</li><li><a href="function.next.html">next</a> &mdash; 将数组中的内部指针向前移动一位</li><li><a href="function.pos.html">pos</a> &mdash; current 的别名</li><li><a href="function.prev.html">prev</a> &mdash; 将数组的内部指针倒回一位</li><li><a href="function.range.html">range</a> &mdash; 根据范围创建数组，包含指定的元素</li><li><a href="function.reset.html">reset</a> &mdash; 将数组的内部指针指向第一个单元</li><li><a href="function.rsort.html">rsort</a> &mdash; 对数组逆向排序</li><li><a href="function.shuffle.html">shuffle</a> &mdash; 打乱数组</li><li><a href="function.sizeof.html">sizeof</a> &mdash; count 的别名</li><li><a href="function.sort.html">sort</a> &mdash; 对数组排序</li><li><a href="function.uasort.html">uasort</a> &mdash; 使用用户自定义的比较函数对数组中的值进行排序并保持索引关联</li><li><a href="function.uksort.html">uksort</a> &mdash; 使用用户自定义的比较函数对数组中的键名进行排序</li><li><a href="function.usort.html">usort</a> &mdash; 使用用户自定义的比较函数对数组中的值进行排序</li></ul>
</div>
<div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="123886""></a>
  <div class="note">
   <strong class="user">indioeuropeo at driverop dot com</strong>
   <a href="#123886" class="date">27-May-2019 02:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I need to take an element from the Array and change its position within the Array by moving the rest of the elements as required.<br />
This is the function that does it. The first parameter is the working Array. The second is the position of the element to move and the third is the position where to move the element.<br />
The function returns the modified Array.<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">array_move_elem</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$from</span><span class="keyword">, </span><span class="default">$to</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$from </span><span class="keyword">== </span><span class="default">$to</span><span class="keyword">) { return </span><span class="default">$array</span><span class="keyword">; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$c </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if ((</span><span class="default">$c </span><span class="keyword">&gt; </span><span class="default">$from</span><span class="keyword">) and (</span><span class="default">$c </span><span class="keyword">&gt; </span><span class="default">$to</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$from </span><span class="keyword">&lt; </span><span class="default">$to</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$f </span><span class="keyword">= </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$from</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">$from</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$to</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$to</span><span class="keyword">] = </span><span class="default">$f</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$f </span><span class="keyword">= </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$from</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">$from</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&gt; </span><span class="default">$to</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">--) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$to</span><span class="keyword">] = </span><span class="default">$f</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$array</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">?&gt;<br />
</span>Examples:<br />
<span class="default">&lt;?php<br />
$array </span><span class="keyword">= array(</span><span class="string">'Cero'</span><span class="keyword">,</span><span class="string">'Uno'</span><span class="keyword">,</span><span class="string">'Dos'</span><span class="keyword">,</span><span class="string">'Tres'</span><span class="keyword">,</span><span class="string">'Cuatro'</span><span class="keyword">,</span><span class="string">'Cinco'</span><span class="keyword">,</span><span class="string">'Seis'</span><span class="keyword">,</span><span class="string">'Siete'</span><span class="keyword">,</span><span class="string">'Ocho'</span><span class="keyword">,</span><span class="string">'Nueve'</span><span class="keyword">,</span><span class="string">'Diez'</span><span class="keyword">);<br />
</span><span class="default">$array </span><span class="keyword">= </span><span class="default">array_move_elem</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">, </span><span class="default">5</span><span class="keyword">); </span><span class="comment">// Move element in position 3 to position 5...<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
<br />
</span><span class="default">$array </span><span class="keyword">= </span><span class="default">array_move_elem</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">5</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">); </span><span class="comment">// Move element in position 5 to position 3, leaving array as it was... ;)<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;<br />
</span>Return:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">Array ( [</span><span class="default">0</span><span class="keyword">] =&gt; </span><span class="default">Cero </span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] =&gt; </span><span class="default">Uno </span><span class="keyword">[</span><span class="default">2</span><span class="keyword">] =&gt; </span><span class="default">Dos </span><span class="keyword">[</span><span class="default">3</span><span class="keyword">] =&gt; </span><span class="default">Cuatro </span><span class="keyword">[</span><span class="default">4</span><span class="keyword">] =&gt; </span><span class="default">Cinco </span><span class="keyword">[</span><span class="default">5</span><span class="keyword">] =&gt; </span><span class="default">Tres </span><span class="keyword">[</span><span class="default">6</span><span class="keyword">] =&gt; </span><span class="default">Seis </span><span class="keyword">[</span><span class="default">7</span><span class="keyword">] =&gt; </span><span class="default">Siete </span><span class="keyword">[</span><span class="default">8</span><span class="keyword">] =&gt; </span><span class="default">Ocho </span><span class="keyword">[</span><span class="default">9</span><span class="keyword">] =&gt; </span><span class="default">Nueve </span><span class="keyword">[</span><span class="default">10</span><span class="keyword">] =&gt; </span><span class="default">Diez </span><span class="keyword">)<br />
Array ( [</span><span class="default">0</span><span class="keyword">] =&gt; </span><span class="default">Cero </span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] =&gt; </span><span class="default">Uno </span><span class="keyword">[</span><span class="default">2</span><span class="keyword">] =&gt; </span><span class="default">Dos </span><span class="keyword">[</span><span class="default">3</span><span class="keyword">] =&gt; </span><span class="default">Tres </span><span class="keyword">[</span><span class="default">4</span><span class="keyword">] =&gt; </span><span class="default">Cuatro </span><span class="keyword">[</span><span class="default">5</span><span class="keyword">] =&gt; </span><span class="default">Cinco </span><span class="keyword">[</span><span class="default">6</span><span class="keyword">] =&gt; </span><span class="default">Seis </span><span class="keyword">[</span><span class="default">7</span><span class="keyword">] =&gt; </span><span class="default">Siete </span><span class="keyword">[</span><span class="default">8</span><span class="keyword">] =&gt; </span><span class="default">Ocho </span><span class="keyword">[</span><span class="default">9</span><span class="keyword">] =&gt; </span><span class="default">Nueve </span><span class="keyword">[</span><span class="default">10</span><span class="keyword">] =&gt; </span><span class="default">Diez </span><span class="keyword">)<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="122866""></a>
  <div class="note">
   <strong class="user">permanovd at gmail dot com</strong>
   <a href="#122866" class="date">21-Jun-2018 10:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A simple trick that can help you to guess what diff/intersect or sort function does by name.<br />
<br />
[suffix] assoc - additional index check. Compares both value and index.<br />
<br />
Example: array_diff_assoc, array_intersect_assoc.<br />
<br />
[suffix] key - index only check. Ignores value of array, compares only indexes.<br />
<br />
Example: array_diff_key, array_intersect_key.<br />
<br />
[suffix] **empty** - no "key" or "assoc" word in suffix. Compares values only. Ignores indexes of array.<br />
<br />
Example: array_diff, array_intersect.<br />
<br />
[prefix] u - will do comparison with user defined function. Letter u can be used twice in some functions (like array_udiff_uassoc), this means that you have to use 2 functions (one for value, one for index).<br />
<br />
Example: array_udiff_uassoc, array_uintersect_assoc.<br />
<br />
This also works with array sort functions:<br />
<br />
[prefix] a - associative. Will preserve keys.<br />
<br />
Example: arsort, asort.<br />
<br />
[prefix] k - key sort. Will sort array by keys.<br />
<br />
Example: uksort, ksort.<br />
<br />
[prefix] r - reverse. Will sort array in reverse order.<br />
<br />
Example: rsort, krsort.<br />
<br />
[prefix] u - sort by user defined function (same as for diff/intersect). <br />
<br />
Example: usort, uasort.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="121054""></a>
  <div class="note">
   <strong class="user">DamianKaelGreen at gmail dot com</strong>
   <a href="#121054" class="date">06-May-2017 04:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
While there are a lot of array functions in the PHP libs, there also seem to be a lot of rudimentary ones missing.<br />
<br />
I went ahead and created several of my own functions for handling multiple non-associative (na) arrays including:<br />
<br />
na_array_merge <br />
na_array_intersect<br />
na_array_diff<br />
na_array_xnor<br />
na_array_xor<br />
<br />
If you are using Venn diagrams to think about your arrays, then these functions might be for you. <br />
<br />
I have made them available and posted documentation for them here: https://www.greendingle.com/some-useful-non-associative-array-functions/</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="120716""></a>
  <div class="note">
   <strong class="user">Ewan</strong>
   <a href="#120716" class="date">28-Feb-2017 10:49</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I was looking for an array aggregation function here and ended up writing this one.<br />
<br />
Note: This implementation assumes that none of the fields you're aggregating on contain The '@' symbol.<br />
<br />
<span class="default">&lt;?php<br />
&nbsp; </span><span class="keyword">function </span><span class="default">array_group_by</span><span class="keyword">(</span><span class="default">$flds</span><span class="keyword">, </span><span class="default">$arr</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$groups </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$arr </span><span class="keyword">as </span><span class="default">$rec</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$keys </span><span class="keyword">= </span><span class="default">array_map</span><span class="keyword">(function(</span><span class="default">$f</span><span class="keyword">) use(</span><span class="default">$rec</span><span class="keyword">) { return </span><span class="default">$rec</span><span class="keyword">[</span><span class="default">$f</span><span class="keyword">]; }, </span><span class="default">$flds</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$k </span><span class="keyword">= </span><span class="default">implode</span><span class="keyword">(</span><span class="string">'@'</span><span class="keyword">, </span><span class="default">$keys</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; if (isset(</span><span class="default">$groups</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">])) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$groups</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">][] = </span><span class="default">$rec</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$groups</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">] = array(</span><span class="default">$rec</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$groups</span><span class="keyword">;<br />
&nbsp; }<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="118266""></a>
  <div class="note">
   <strong class="user">nicoolasens at gmail dot com</strong>
   <a href="#118266" class="date">06-Nov-2015 10:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
/*to change an index without rewriting the whole table and leave at the same place.<br />
*/<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">change_index</span><span class="keyword">(&amp;</span><span class="default">$tableau</span><span class="keyword">, </span><span class="default">$old_key</span><span class="keyword">, </span><span class="default">$new_key</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$changed </span><span class="keyword">= </span><span class="default">FALSE</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$temp </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$tableau </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; switch (</span><span class="default">$changed</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">FALSE </span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//creates the new key and deletes the old<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">$key </span><span class="keyword">== </span><span class="default">$old_key</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$tableau</span><span class="keyword">[</span><span class="default">$new_key</span><span class="keyword">] = </span><span class="default">$tableau</span><span class="keyword">[</span><span class="default">$old_key</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; unset(</span><span class="default">$tableau</span><span class="keyword">[</span><span class="default">$old_key</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$changed </span><span class="keyword">= </span><span class="default">TRUE</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">TRUE </span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//moves following keys<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">$key </span><span class="keyword">!= </span><span class="default">$new_key</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$temp</span><span class="keyword">= </span><span class="default">$tableau</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; unset(</span><span class="default">$tableau</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$tableau</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$temp</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else {</span><span class="default">$changed </span><span class="keyword">= </span><span class="default">FALSE</span><span class="keyword">;} </span><span class="comment">//stop<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">}<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">array_values</span><span class="keyword">(</span><span class="default">$tableau</span><span class="keyword">); </span><span class="comment">//free_memory<br />
</span><span class="keyword">}<br />
<br />
</span><span class="comment">//Result : <br />
</span><span class="default">$tableau </span><span class="keyword">= array(</span><span class="default">1</span><span class="keyword">, </span><span class="default">2 </span><span class="keyword">, </span><span class="default">3</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">, </span><span class="default">6</span><span class="keyword">, </span><span class="default">7</span><span class="keyword">, </span><span class="default">8</span><span class="keyword">, </span><span class="default">9</span><span class="keyword">, </span><span class="default">10</span><span class="keyword">);<br />
</span><span class="default">$res </span><span class="keyword">= </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$tableau</span><span class="keyword">, </span><span class="default">TRUE</span><span class="keyword">);<br />
</span><span class="default">$longueur </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$res</span><span class="keyword">) -</span><span class="default">1</span><span class="keyword">;<br />
echo </span><span class="string">"Old array :\n" </span><span class="keyword">. </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$res</span><span class="keyword">, </span><span class="default">8</span><span class="keyword">, </span><span class="default">$longueur</span><span class="keyword">) . </span><span class="string">"\n" </span><span class="keyword">;<br />
<br />
</span><span class="default">change_index </span><span class="keyword">(</span><span class="default">$tableau</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="string">'number 2'</span><span class="keyword">);<br />
</span><span class="default">$res </span><span class="keyword">= </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$tableau</span><span class="keyword">, </span><span class="default">TRUE</span><span class="keyword">);<br />
</span><span class="default">$longueur </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$res</span><span class="keyword">) -</span><span class="default">10</span><span class="keyword">;<br />
echo </span><span class="string">"New array :\n" </span><span class="keyword">. </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$res</span><span class="keyword">, </span><span class="default">8</span><span class="keyword">, </span><span class="default">$longueur</span><span class="keyword">) . </span><span class="string">"\n" </span><span class="keyword">;<br />
<br />
</span><span class="comment">/*<br />
Old array :<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; 1<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; 2<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; 3<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; 4<br />
&nbsp;&nbsp;&nbsp; [4] =&gt; 5<br />
&nbsp;&nbsp;&nbsp; [5] =&gt; 6<br />
&nbsp;&nbsp;&nbsp; [6] =&gt; 7<br />
&nbsp;&nbsp;&nbsp; [7] =&gt; 8<br />
&nbsp;&nbsp;&nbsp; [8] =&gt; 9<br />
&nbsp;&nbsp;&nbsp; [9] =&gt; 10<br />
)<br />
<br />
New array :<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; 1<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; 2<br />
&nbsp;&nbsp;&nbsp; [numéro 2] =&gt; 3<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; 4<br />
&nbsp;&nbsp;&nbsp; [4] =&gt; 5<br />
&nbsp;&nbsp;&nbsp; [5] =&gt; 6<br />
&nbsp;&nbsp;&nbsp; [6] =&gt; 7<br />
&nbsp;&nbsp;&nbsp; [7] =&gt; 8<br />
&nbsp;&nbsp;&nbsp; [8] =&gt; 9<br />
&nbsp;&nbsp;&nbsp; [9] =&gt; 10<br />
*/<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="111134""></a>
  <div class="note">
   <strong class="user">callmeanaguma at gmail dot com</strong>
   <a href="#111134" class="date">18-Jan-2013 11:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you need to flattern two-dismensional array with single values assoc subarrays, you could use this function:
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">arrayFlatten</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$flattern </span><span class="keyword">= array();
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">){
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$new_key </span><span class="keyword">= </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$flattern</span><span class="keyword">[] = </span><span class="default">$value</span><span class="keyword">[</span><span class="default">$new_key</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]];
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$flattern</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="108546""></a>
  <div class="note">
   <strong class="user">kolkabes at googlemail dot com</strong>
   <a href="#108546" class="date">05-May-2012 12:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Short function for making a recursive array copy while cloning objects on the way.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">arrayCopy</span><span class="keyword">( array </span><span class="default">$array </span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach( </span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$val </span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if( </span><span class="default">is_array</span><span class="keyword">( </span><span class="default">$val </span><span class="keyword">) ) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">arrayCopy</span><span class="keyword">( </span><span class="default">$val </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } elseif ( </span><span class="default">is_object</span><span class="keyword">( </span><span class="default">$val </span><span class="keyword">) ) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = clone </span><span class="default">$val</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$val</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$result</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="105907""></a>
  <div class="note">
   <strong class="user">dave at davidhbrown dot us</strong>
   <a href="#105907" class="date">24-Sep-2011 11:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
While PHP has well over three-score array functions, array_rotate is strangely missing as of PHP 5.3. Searching online offered several solutions, but the ones I found have defects such as inefficiently looping through the array or ignoring keys. <br />
<br />
The following array_rotate() function uses array_merge and array_shift to reliably rotate an array forwards or backwards, preserving keys. If you know you can trust your $array to be an array and $shift to be between 0 and the length of your array, you can skip the function definition and use just the return expression in your code.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">array_rotate</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$shift</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; if(!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) || !</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$shift</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)) </span><span class="default">error_log</span><span class="keyword">(</span><span class="default">__FUNCTION__</span><span class="keyword">.</span><span class="string">' expects first argument to be array; '</span><span class="keyword">.</span><span class="default">gettype</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">).</span><span class="string">' received.'</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$shift</span><span class="keyword">)) </span><span class="default">error_log</span><span class="keyword">(</span><span class="default">__FUNCTION__</span><span class="keyword">.</span><span class="string">' expects second argument to be numeric; '</span><span class="keyword">.</span><span class="default">gettype</span><span class="keyword">(</span><span class="default">$shift</span><span class="keyword">).</span><span class="string">" `</span><span class="default">$shift</span><span class="string">` received."</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$array</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$shift </span><span class="keyword">%= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">); </span><span class="comment">//we won't try to shift more than one array length<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if(</span><span class="default">$shift </span><span class="keyword">&lt; </span><span class="default">0</span><span class="keyword">) </span><span class="default">$shift </span><span class="keyword">+= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);</span><span class="comment">//handle negative shifts as positive<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$shift</span><span class="keyword">, </span><span class="default">NULL</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">), </span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$shift</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">));<br />
}<br />
</span><span class="default">?&gt;<br />
</span>A few simple tests:<br />
<span class="default">&lt;?php<br />
$array</span><span class="keyword">=array(</span><span class="string">"foo"</span><span class="keyword">=&gt;</span><span class="default">1</span><span class="keyword">,</span><span class="string">"bar"</span><span class="keyword">=&gt;</span><span class="default">2</span><span class="keyword">,</span><span class="string">"baz"</span><span class="keyword">=&gt;</span><span class="default">3</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">);<br />
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">array_rotate</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">));<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">array_rotate</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, -</span><span class="default">2</span><span class="keyword">));<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">array_rotate</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)));<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">array_rotate</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="string">"4"</span><span class="keyword">));<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">array_rotate</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, -</span><span class="default">9</span><span class="keyword">));<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="96914""></a>
  <div class="note">
   <strong class="user">oliverSPAMMENOT at e-geek dot com dot au</strong>
   <a href="#96914" class="date">22-Mar-2010 07:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Function to pretty print arrays and objects. Detects object recursion and allows setting a maximum depth. Based on arraytostring and u_print_r from the print_r function notes. Should be called like so: 
<br />

<br />
<span class="default">&lt;?php
<br />
egvaluetostring</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)&nbsp;&nbsp; </span><span class="comment">//no max depth, or
<br />
</span><span class="default">egvaluetostring</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$max_depth</span><span class="keyword">)&nbsp;&nbsp; </span><span class="comment">//max depth set
<br />

<br />
</span><span class="keyword">function </span><span class="default">egvaluetostring</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$max_depth</span><span class="keyword">, </span><span class="default">$key </span><span class="keyword">= </span><span class="default">NULL</span><span class="keyword">, </span><span class="default">$depth </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">, </span><span class="default">$refChain </span><span class="keyword">= array()) {
<br />
&nbsp; if(</span><span class="default">$depth </span><span class="keyword">&gt; </span><span class="default">0</span><span class="keyword">)
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$tab </span><span class="keyword">= </span><span class="default">str_repeat</span><span class="keyword">(</span><span class="string">"\t"</span><span class="keyword">, </span><span class="default">$depth</span><span class="keyword">);
<br />
&nbsp; </span><span class="default">$text </span><span class="keyword">.= </span><span class="default">$tab </span><span class="keyword">. (</span><span class="default">$key </span><span class="keyword">!== </span><span class="default">NULL </span><span class="keyword">? </span><span class="default">$key </span><span class="keyword">. </span><span class="string">" =&gt; " </span><span class="keyword">: </span><span class="string">""</span><span class="keyword">);
<br />
&nbsp; 
<br />
&nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">) || </span><span class="default">is_object</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)) {
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$recursion </span><span class="keyword">= </span><span class="default">FALSE</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">is_object</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)) {
<br />
&nbsp;&nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$refChain </span><span class="keyword">as </span><span class="default">$refVal</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$refVal </span><span class="keyword">=== </span><span class="default">$value</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$recursion </span><span class="keyword">= </span><span class="default">TRUE</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$refChain</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; 
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$text </span><span class="keyword">.= (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">) ? </span><span class="string">"array" </span><span class="keyword">: </span><span class="string">"object"</span><span class="keyword">) . </span><span class="string">" ( "</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; 
<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$recursion</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$text </span><span class="keyword">.= </span><span class="string">"*RECURSION* "</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; elseif (isset(</span><span class="default">$max_depth</span><span class="keyword">) &amp;&amp; </span><span class="default">$depth </span><span class="keyword">&gt;= </span><span class="default">$max_depth</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$text </span><span class="keyword">.= </span><span class="string">"*MAX DEPTH REACHED* "</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; else {
<br />
&nbsp;&nbsp; &nbsp;&nbsp; if (!empty(</span><span class="default">$value</span><span class="keyword">)) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$text </span><span class="keyword">.= </span><span class="string">"\n"</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$value </span><span class="keyword">as </span><span class="default">$child_key </span><span class="keyword">=&gt; </span><span class="default">$child_value</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$text </span><span class="keyword">.= </span><span class="default">egvaluetostring</span><span class="keyword">(</span><span class="default">$child_value</span><span class="keyword">, </span><span class="default">$max_depth</span><span class="keyword">, (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">) ? </span><span class="string">"[" </span><span class="keyword">: </span><span class="string">""</span><span class="keyword">) . </span><span class="default">$child_key </span><span class="keyword">. (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">) ? </span><span class="string">"]" </span><span class="keyword">: </span><span class="string">""</span><span class="keyword">), </span><span class="default">$depth</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">, </span><span class="default">$refChain</span><span class="keyword">) . </span><span class="string">",\n"</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$text </span><span class="keyword">.= </span><span class="string">"\n" </span><span class="keyword">. </span><span class="default">$tab</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; 
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$text </span><span class="keyword">.= </span><span class="string">")"</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; 
<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">is_object</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)) {
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">$refChain</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp; }
<br />
&nbsp; else {
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$text </span><span class="keyword">.= </span><span class="string">"</span><span class="default">$value</span><span class="string">"</span><span class="keyword">;
<br />
&nbsp; }
<br />

<br />
&nbsp; return </span><span class="default">$text</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85785""></a>
  <div class="note">
   <strong class="user">renatonascto at gmail dot com</strong>
   <a href="#85785" class="date">17-Sep-2008 11:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Big arrays use a lot of memory possibly resulting in memory limit errors. You can reduce memory usage on your script by destroying them as soon as you′re done with them. I was able to get over a few megabytes of memory by simply destroying some variables I didn′t use anymore. <br />
You can view the memory usage/gain by using the funcion memory_get_usage(). Hope this helps!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="78502""></a>
  <div class="note">
   <strong class="user">cyberchrist at futura dot net</strong>
   <a href="#78502" class="date">15-Oct-2007 06:33</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Lately, dealing with databases, I've been finding myself needing to know if one array, $a, is a proper subset of $b.<br />
<br />
Mathematically, this is asking (in set theory) [excuse the use of u and n instead of proper Unicode):<br />
&nbsp;<br />
( A u B ) n ( ~ B )<br />
<br />
What this does is it first limits to known values, then looks for anything outside of B but in the union of A and B (which would be those things in A which are not also in B).<br />
<br />
If any value exists in this set, then A is NOT a proper subset of B, because a value exists in A but not in B.&nbsp; For A to be a proper subset, all values in A must be in B.<br />
<br />
I'm sure this could easily be done any number of ways but this seems to work for me.&nbsp; It's not got a lot of error detection such as sterilizing inputs or checking input types.<br />
<br />
// bool array_subset( array, array )<br />
// Returns true if $a is a proper subset of $b, returns false otherwise.<br />
<br />
function array_subset( $a, $b )<br />
{<br />
&nbsp;&nbsp;&nbsp; if( count( array_diff( array_merge($a,$b), $b)) == 0 )<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return true;<br />
&nbsp;&nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return false;<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="76796""></a>
  <div class="note">
   <strong class="user">mo dot longman at gmail dot com</strong>
   <a href="#76796" class="date">30-Jul-2007 11:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
to 2g4wx3:<br />
i think better way for this is using JSON, if you have such module in your PHP. See json.org.<br />
<br />
to convert JS array to JSON string: arr.toJSONString();<br />
to convert JSON string to PHP array: json_decode($jsonString);<br />
<br />
You can also stringify objects, numbers, etc.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="69237""></a>
  <div class="note">
   <strong class="user">ob at babcom dot biz</strong>
   <a href="#69237" class="date">28-Aug-2006 04:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is a function to find out the maximum depth of a multidimensional array.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// return depth of given array<br />
// if Array is a string ArrayDepth() will return 0<br />
// usage: int ArrayDepth(array Array)<br />
<br />
</span><span class="keyword">function </span><span class="default">ArrayDepth</span><span class="keyword">(</span><span class="default">$Array</span><span class="keyword">,</span><span class="default">$DepthCount</span><span class="keyword">=-</span><span class="default">1</span><span class="keyword">,</span><span class="default">$DepthArray</span><span class="keyword">=array()) {<br />
&nbsp; </span><span class="default">$DepthCount</span><span class="keyword">++;<br />
&nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$Array</span><span class="keyword">))<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$Array </span><span class="keyword">as </span><span class="default">$Key </span><span class="keyword">=&gt; </span><span class="default">$Value</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$DepthArray</span><span class="keyword">[]=</span><span class="default">ArrayDepth</span><span class="keyword">(</span><span class="default">$Value</span><span class="keyword">,</span><span class="default">$DepthCount</span><span class="keyword">);<br />
&nbsp; else<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$DepthCount</span><span class="keyword">;<br />
&nbsp; foreach(</span><span class="default">$DepthArray </span><span class="keyword">as </span><span class="default">$Value</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$Depth</span><span class="keyword">=</span><span class="default">$Value</span><span class="keyword">&gt;</span><span class="default">$Depth</span><span class="keyword">?</span><span class="default">$Value</span><span class="keyword">:</span><span class="default">$Depth</span><span class="keyword">;<br />
&nbsp; return </span><span class="default">$Depth</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
