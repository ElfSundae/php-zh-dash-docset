<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>检测变量是否为数字或数字字符串</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.is-null.html">? is_null</a></li>
      <li style="float: right;"><a href="function.is-object.html">is_object ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.var.html">Variable handling 函数</a></li>
    <li>检测变量是否为数字或数字字符串</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.is-numeric" class="refentry">
   <div class="refnamediv">
    <h1 class="refname">is_numeric</h1>
    <p class="verinfo">(PHP 4, PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">is_numeric</span> &mdash; <span class="dc-title">
     检测变量是否为数字或数字字符串
    </span></p>

   </div>
   <div class="refsect1 unknown-unknown-unknown-seealsr" id="refsect1-function.is-numeric-unknown-unknown-unknown-seealsr">
    <h3 class="title">描述</h3>
     <div class="methodsynopsis dc-description">
      <span class="methodname"><strong>is_numeric</strong></span>
       ( <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$var</code></span>
      ) : <span class="type">bool</span></div>

    <p class="para rdfs-comment">
     如果 <code class="parameter">var</code> 是数字和数字字符串则返回 <strong><code>TRUE</code></strong>，否则返回 <strong><code>FALSE</code></strong>。
    </p>
    <p class="para">
     参见
     <span class="function"><a href="function.is-bool.html" class="function">is_bool()</a></span>、<span class="function"><a href="function.is-float.html" class="function">is_float()</a></span>、<span class="function"><a href="function.is-int.html" class="function">is_int()</a></span>、<span class="function"><a href="function.is-string.html" class="function">is_string()</a></span>、<span class="function"><a href="function.is-object.html" class="function">is_object()</a></span>、<span class="function"><a href="function.is-array.html" class="function">is_array()</a></span>
     和 <span class="function"><a href="function.is-integer.html" class="function">is_integer()</a></span>。
    </p>
   </div>

  </div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="124130""></a>
  <div class="note">
   <strong class="user">orcinus</strong>
   <a href="#124130" class="date">22-Aug-2019 09:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This page is a hot mess.<br />
<br />
The changes note states:<br />
<br />
"7.0.0&nbsp; &nbsp; Strings in hexadecimal (e.g. 0xf4c3b00c) notation are no longer regarded as numeric strings, i.e. is_numeric() returns FALSE now."<br />
<br />
Meanwhile, the description says:<br />
<br />
"Hexadecimal (e.g. 0xf4c3b00c) *and binary* (e.g. 0b10100111001) notation is not allowed."<br />
<br />
And finally, the examples section claims both are TRUE for is_binary.<br />
What the hell?</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="123633""></a>
  <div class="note">
   <strong class="user">sandreas</strong>
   <a href="#123633" class="date">21-Feb-2019 10:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that strings with leading zeros containing only digits also return true on check with is_numeric, although they might be not a valid number. Example:<br />
<br />
<span class="default">&lt;?php<br />
$x </span><span class="keyword">= 009; </span><span class="comment">// this is invalid php code, 009 is not octal<br />
</span><span class="default">$y </span><span class="keyword">= </span><span class="default">007</span><span class="keyword">; </span><span class="comment">// this is valid php code, 007 is octal<br />
</span><span class="default">$z </span><span class="keyword">= </span><span class="default">01.12</span><span class="keyword">; </span><span class="comment">// this also is valid php code<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="string">"009"</span><span class="keyword">)); </span><span class="comment">// outputs true<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="string">"007"</span><span class="keyword">)); </span><span class="comment">// outputs true<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="string">"00.12"</span><span class="keyword">)); </span><span class="comment">// outputs true<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="123455""></a>
  <div class="note">
   <strong class="user">Ray.Paseur sometimes uses Gmail</strong>
   <a href="#123455" class="date">19-Dec-2018 08:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
intval() appears to be helpful with hex strings:<br />
<br />
<span class="default">&lt;?php </span><span class="comment">// is_hex_numeric.php<br />
/**<br />
&nbsp;* PHP 7.0.0+ Strings in hexadecimal (e.g. 0xf4c3b00c) notation<br />
&nbsp;* are no longer regarded as numeric strings, i.e. is_numeric() returns FALSE now.<br />
&nbsp;* See: <a href="http://php.net/manual/en/function.intval.php" rel="nofollow" target="_blank">http://php.net/manual/en/function.intval.php</a><br />
&nbsp;*/<br />
</span><span class="default">error_reporting</span><span class="keyword">(</span><span class="default">E_ALL</span><span class="keyword">);<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">( </span><span class="default">PHP_VERSION </span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// string(6) "7.1.25"<br />
</span><span class="default">var_dump</span><span class="keyword">( </span><span class="default">PHP_INT_SIZE </span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// int(8)<br />
<br />
</span><span class="default">$x </span><span class="keyword">= </span><span class="default">0xf4c3b00c</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// --&gt; Assignment of hex value<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// int(4106465292)<br />
</span><span class="default">var_dump</span><span class="keyword">( </span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">) );&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// bool(true)<br />
<br />
</span><span class="default">$y </span><span class="keyword">= </span><span class="string">'0x' </span><span class="keyword">. </span><span class="default">dechex</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// --&gt; Convert hex value to a string<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$y</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// string(10) "0xf4c3b00c"<br />
</span><span class="default">var_dump</span><span class="keyword">( </span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$y</span><span class="keyword">) );&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// bool(false)<br />
<br />
</span><span class="default">$z </span><span class="keyword">= </span><span class="default">intval</span><span class="keyword">(</span><span class="default">$y</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// --&gt; intval() with base zero recognizes hex notation<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$z</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// int(4106465292)<br />
</span><span class="default">var_dump</span><span class="keyword">( </span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$z</span><span class="keyword">) );&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// bool(true)<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$x </span><span class="keyword">== </span><span class="default">$z</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// bool(true)</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="122710""></a>
  <div class="note">
   <strong class="user">phil at kiwilimon dot com</strong>
   <a href="#122710" class="date">07-May-2018 04:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
There is another not documented big difference between PHP 5 and PHP 7:<br />
is_numeric("45 "); // with a space at the end<br />
will return true on PHP 5 and false on PHP 7</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="121690""></a>
  <div class="note">
   <strong class="user">za at byza dot it</strong>
   <a href="#121690" class="date">26-Sep-2017 02:21</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To check if a numeric string is a valid integer or float number:<br />
<br />
function is_valid_number($a) {<br />
&nbsp;&nbsp; return $a==(float)$a &amp;&amp; strlen($a)==strlen((float)$a);<br />
}<br />
<br />
This returns false for "0012345" and true for "0.12345"</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="120598""></a>
  <div class="note">
   <strong class="user">cottton</strong>
   <a href="#120598" class="date">05-Feb-2017 02:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
As of <a href="http://php.net/manual/de/function.is-numeric.php#111709" rel="nofollow" target="_blank">http://php.net/manual/de/function.is-numeric.php#111709</a><br />
' 12345' is considered numeric.<br />
<br />
BUT '12345 ' NOT.<br />
<br />
Test:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">foreach (<br />
&nbsp;&nbsp;&nbsp; [<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">' 12345'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'12345 '</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">' 12345 '</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; ] as </span><span class="default">$value<br />
<br />
</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"'</span><span class="keyword">{</span><span class="default">$value</span><span class="keyword">}</span><span class="string">'\t" </span><span class="keyword">. </span><span class="default">var_export</span><span class="keyword">(</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">), </span><span class="default">true</span><span class="keyword">) . </span><span class="default">PHP_EOL</span><span class="keyword">;<br />
}<br />
</span><span class="comment">/**<br />
&nbsp;* Output:<br />
&nbsp;*<br />
&nbsp;*&nbsp; ' 12345'&nbsp; &nbsp; &nbsp; &nbsp; true<br />
&nbsp;*&nbsp; '12345 '&nbsp; &nbsp; &nbsp; &nbsp; false<br />
&nbsp;*&nbsp; ' 12345 '&nbsp; &nbsp; &nbsp;&nbsp; false<br />
&nbsp;*/<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="120584""></a>
  <div class="note">
   <strong class="user">tanguy_barsik at hotmail dot com</strong>
   <a href="#120584" class="date">03-Feb-2017 03:22</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
for strings, it return true only if float number has a dot<br />
<br />
is_numeric( '42.1' )//true<br />
is_numeric( '42,1' )//false</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="119140""></a>
  <div class="note">
   <strong class="user">Vasiliy Makogon</strong>
   <a href="#119140" class="date">08-Apr-2016 08:22</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want detect integer of float values, which presents as pure int or float, and presents as string values, use this functions:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">isInteger</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if (!</span><span class="default">is_scalar</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">) || </span><span class="default">is_bool</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">is_float</span><span class="keyword">(</span><span class="default">$val </span><span class="keyword">+ </span><span class="default">0</span><span class="keyword">) &amp;&amp; (</span><span class="default">$val </span><span class="keyword">+ </span><span class="default">0</span><span class="keyword">) &gt; </span><span class="default">PHP_INT_MAX</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">is_float</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">) ? </span><span class="default">false </span><span class="keyword">: </span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'~^((?:\+|-)?[0-9]+)$~'</span><span class="keyword">, </span><span class="default">$val</span><span class="keyword">);<br />
}<br />
<br />
function </span><span class="default">isFloat</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if (!</span><span class="default">is_scalar</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">is_float</span><span class="keyword">(</span><span class="default">$val </span><span class="keyword">+ </span><span class="default">0</span><span class="keyword">);<br />
}<br />
<br />
foreach ([<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'11111111111111111'</span><span class="keyword">, </span><span class="default">11111111111111111</span><span class="keyword">, </span><span class="comment">// &gt; PHP_INT_MAX - presents in PHP as float<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">1</span><span class="keyword">, </span><span class="string">'10'</span><span class="keyword">, </span><span class="string">'+1'</span><span class="keyword">, </span><span class="string">'1.1'</span><span class="keyword">, </span><span class="default">1.1</span><span class="keyword">, </span><span class="default">.2</span><span class="keyword">, </span><span class="default">2.</span><span class="keyword">, </span><span class="string">'.2'</span><span class="keyword">, </span><span class="string">'2.'</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'-2.'</span><span class="keyword">, </span><span class="string">'-.2'</span><span class="keyword">, </span><span class="default">null</span><span class="keyword">, [], </span><span class="default">true</span><span class="keyword">, </span><span class="default">false</span><span class="keyword">, </span><span class="string">'string'<br />
</span><span class="keyword">] as </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">$value </span><span class="keyword">. </span><span class="string">':' </span><span class="keyword">. </span><span class="default">gettype</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">) . </span><span class="string">' is Integer? - '&nbsp; </span><span class="keyword">. (</span><span class="default">isInteger</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">) ? </span><span class="string">'yes' </span><span class="keyword">: </span><span class="string">'no'</span><span class="keyword">) . </span><span class="default">PHP_EOL</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">$value </span><span class="keyword">. </span><span class="string">':' </span><span class="keyword">. </span><span class="default">gettype</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">) . </span><span class="string">' is Float? - '&nbsp; </span><span class="keyword">. (</span><span class="default">isFloat</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">) ? </span><span class="string">'yes' </span><span class="keyword">: </span><span class="string">'no'</span><span class="keyword">) . </span><span class="default">PHP_EOL</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Output:<br />
<br />
11111111111111111:string is Integer? - no<br />
11111111111111111:string is Float? - yes<br />
1,1111111111111E+16:double is Integer? - no<br />
1,1111111111111E+16:double is Float? - yes<br />
1:integer is Integer? - yes<br />
1:integer is Float? - no<br />
10:string is Integer? - yes<br />
10:string is Float? - no<br />
+1:string is Integer? - yes<br />
+1:string is Float? - no<br />
1.1:string is Integer? - no<br />
1.1:string is Float? - yes<br />
1,1:double is Integer? - no<br />
1,1:double is Float? - yes<br />
0,2:double is Integer? - no<br />
0,2:double is Float? - yes<br />
2:double is Integer? - no<br />
2:double is Float? - yes<br />
.2:string is Integer? - no<br />
.2:string is Float? - yes<br />
2.:string is Integer? - no<br />
2.:string is Float? - yes<br />
-2.:string is Integer? - no<br />
-2.:string is Float? - yes<br />
-.2:string is Integer? - no<br />
-.2:string is Float? - yes<br />
:NULL is Integer? - no<br />
:NULL is Float? - no<br />
Array:array is Integer? - no<br />
Array:array is Float? - no<br />
1:boolean is Integer? - no<br />
1:boolean is Float? - no<br />
:boolean is Integer? - no<br />
:boolean is Float? - no<br />
string:string is Integer? - no<br />
string:string is Float? - no</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="118549""></a>
  <div class="note">
   <strong class="user">vikramverma214 at gmail dot com</strong>
   <a href="#118549" class="date">26-Dec-2015 06:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
check if given string is mobile number<br />
<br />
function filterNumber($str)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; //remove non number<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $count = strlen($str);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $newNumber = "";<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for($i = 0; $i&lt;$count; $i++)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(is_numeric($str[$i]))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $newNumber .= $str[$i];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; //removes leading 0s<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $newNumber = ltrim($newNumber, '0');<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; //remove 91 in starting, 91 is specific to Indian Numbers<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(strlen($newNumber) == 12)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(substr($newNumber, 0, 2) == '91')<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $newNumber = substr($newNumber, 2);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; //final check for length 10<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(strlen($newNumber) != 10 )<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return null;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return $newNumber;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="118080""></a>
  <div class="note">
   <strong class="user">lihatskiym at gmail dot com</strong>
   <a href="#118080" class="date">30-Sep-2015 11:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Check that value is whole numeric or is whole integer.<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">whole_numeric</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &amp;&amp; </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">) == </span><span class="default">$val</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ((string)</span><span class="default">$val </span><span class="keyword">=== (string)</span><span class="default">0</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; elseif(</span><span class="default">ltrim</span><span class="keyword">((string)</span><span class="default">$val</span><span class="keyword">, </span><span class="string">'0'</span><span class="keyword">) === (string)</span><span class="default">$val</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
}<br />
<br />
function </span><span class="default">whole_int</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$val </span><span class="keyword">= </span><span class="default">strval</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$val </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'-'</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">, </span><span class="default">$val</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">ctype_digit</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">))<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$val </span><span class="keyword">=== (string)</span><span class="default">0</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; elseif(</span><span class="default">ltrim</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">, </span><span class="string">'0'</span><span class="keyword">) === </span><span class="default">$val</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Result will be like this:<br />
<br />
<span class="default">&lt;?php<br />
whole_numeric</span><span class="keyword">(</span><span class="string">'-1.0'</span><span class="keyword">);&nbsp; </span><span class="comment">// true<br />
</span><span class="default">whole_numeric</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// true<br />
</span><span class="default">whole_numeric</span><span class="keyword">(</span><span class="string">'0'</span><span class="keyword">);&nbsp; &nbsp; &nbsp; </span><span class="comment">// true<br />
</span><span class="default">whole_numeric</span><span class="keyword">(</span><span class="string">'00'</span><span class="keyword">);&nbsp; &nbsp;&nbsp; </span><span class="comment">// false<br />
</span><span class="default">whole_numeric</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// true<br />
</span><span class="default">whole_numeric</span><span class="keyword">(</span><span class="string">'1'</span><span class="keyword">);&nbsp; &nbsp; &nbsp; </span><span class="comment">// true<br />
</span><span class="default">whole_numeric</span><span class="keyword">(</span><span class="string">'1.0'</span><span class="keyword">);&nbsp; &nbsp; </span><span class="comment">// true<br />
</span><span class="default">whole_numeric</span><span class="keyword">(</span><span class="string">'1,0'</span><span class="keyword">);&nbsp; &nbsp; </span><span class="comment">// false<br />
</span><span class="default">whole_numeric</span><span class="keyword">(</span><span class="string">'1.2'</span><span class="keyword">);&nbsp; &nbsp; </span><span class="comment">// false<br />
</span><span class="default">whole_numeric</span><span class="keyword">(</span><span class="string">'001'</span><span class="keyword">);&nbsp; &nbsp; </span><span class="comment">// false<br />
</span><span class="default">whole_numeric</span><span class="keyword">(array()); </span><span class="comment">// false<br />
<br />
</span><span class="default">whole_int</span><span class="keyword">(</span><span class="string">'-1.0'</span><span class="keyword">);&nbsp; &nbsp; </span><span class="comment">// false<br />
</span><span class="default">whole_int</span><span class="keyword">(</span><span class="string">'-1'</span><span class="keyword">);&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// true<br />
</span><span class="default">whole_int</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// true<br />
</span><span class="default">whole_int</span><span class="keyword">(</span><span class="string">'0'</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// true<br />
</span><span class="default">whole_int</span><span class="keyword">(</span><span class="string">'00'</span><span class="keyword">);&nbsp; &nbsp; &nbsp; </span><span class="comment">// false<br />
</span><span class="default">whole_int</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// true<br />
</span><span class="default">whole_int</span><span class="keyword">(</span><span class="string">'1'</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// true<br />
</span><span class="default">whole_int</span><span class="keyword">(</span><span class="string">'1.0'</span><span class="keyword">);&nbsp; &nbsp; &nbsp; </span><span class="comment">// false<br />
</span><span class="default">whole_int</span><span class="keyword">(</span><span class="string">'1.2'</span><span class="keyword">);&nbsp; &nbsp; &nbsp; </span><span class="comment">// false<br />
</span><span class="default">whole_int</span><span class="keyword">(</span><span class="string">'001'</span><span class="keyword">);&nbsp; &nbsp;&nbsp; </span><span class="comment">// false<br />
</span><span class="default">whole_int</span><span class="keyword">(array()); </span><span class="comment">// false<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="117552""></a>
  <div class="note">
   <strong class="user">Tim Robert-Fitzgerald</strong>
   <a href="#117552" class="date">26-Jun-2015 11:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Be careful when using `is_numeric()` to validate user input and protect against SQL injection. According to wiki.hashphp.org, <br />
<br />
"Many people reach for is_numeric() thinking this is a good approach, and it will seem to work just fine. However the problem with is_numeric() isn't that it can't detect an integer, it is that it detects a lot more than just integers. All of the following are valid numbers to is_numeric():<br />
<br />
- 1<br />
- 1.123<br />
- 0xFF<br />
- +0123.45e6<br />
<br />
See the problem? If we really want just an integer, this function is too broad."<br />
<br />
Source: <a href="http://wiki.hashphp.org/Validation#Why_is_numeric.28.29_is_bad" rel="nofollow" target="_blank">http://wiki.hashphp.org/Validation#Why_is_numeric.28.29_is_bad</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114285""></a>
  <div class="note">
   <strong class="user">charlike dot mike at mail dot bg</strong>
   <a href="#114285" class="date">03-Feb-2014 04:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I think that is best check solution if u want to create real calculator for example :)<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">is_number</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$var </span><span class="keyword">== (string) (float) </span><span class="default">$var</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return (bool) </span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$var </span><span class="keyword">&gt;= </span><span class="default">0 </span><span class="keyword">&amp;&amp; </span><span class="default">is_string</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">) &amp;&amp; !</span><span class="default">is_float</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return (bool) </span><span class="default">ctype_digit</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return (bool) </span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">);<br />
}<br />
<br />
</span><span class="default">is_number</span><span class="keyword">(</span><span class="default">12</span><span class="keyword">); </span><span class="comment">// true<br />
</span><span class="default">is_number</span><span class="keyword">(-</span><span class="default">12</span><span class="keyword">); </span><span class="comment">// true<br />
</span><span class="default">is_number</span><span class="keyword">(-</span><span class="default">12.2</span><span class="keyword">); </span><span class="comment">// true<br />
</span><span class="default">is_number</span><span class="keyword">(</span><span class="string">"12"</span><span class="keyword">); </span><span class="comment">// true<br />
</span><span class="default">is_number</span><span class="keyword">(</span><span class="string">"-124.3"</span><span class="keyword">); </span><span class="comment">// true<br />
</span><span class="default">is_number</span><span class="keyword">(</span><span class="default">0.8</span><span class="keyword">); </span><span class="comment">// true<br />
</span><span class="default">is_number</span><span class="keyword">(</span><span class="string">"0.8"</span><span class="keyword">); </span><span class="comment">// true<br />
</span><span class="default">is_number</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">); </span><span class="comment">// true<br />
</span><span class="default">is_number</span><span class="keyword">(</span><span class="string">"0"</span><span class="keyword">); </span><span class="comment">// true<br />
</span><span class="default">is_number</span><span class="keyword">(</span><span class="default">NULL</span><span class="keyword">); </span><span class="comment">// false<br />
</span><span class="default">is_number</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">); </span><span class="comment">// false<br />
</span><span class="default">is_number</span><span class="keyword">(</span><span class="default">false</span><span class="keyword">); </span><span class="comment">// false<br />
</span><span class="default">is_number</span><span class="keyword">(</span><span class="string">"324jdas32"</span><span class="keyword">); </span><span class="comment">// false<br />
</span><span class="default">is_number</span><span class="keyword">(</span><span class="string">"123-"</span><span class="keyword">); </span><span class="comment">// false<br />
</span><span class="default">is_number</span><span class="keyword">(</span><span class="default">1e7</span><span class="keyword">); </span><span class="comment">// true<br />
</span><span class="default">is_number</span><span class="keyword">(</span><span class="string">"1e7"</span><span class="keyword">); </span><span class="comment">// true<br />
</span><span class="default">is_number</span><span class="keyword">(</span><span class="default">0x155</span><span class="keyword">); </span><span class="comment">// true<br />
</span><span class="default">is_number</span><span class="keyword">(</span><span class="string">"0x155"</span><span class="keyword">); </span><span class="comment">// false<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114061""></a>
  <div class="note">
   <strong class="user">ben at chico dot com</strong>
   <a href="#114061" class="date">07-Jan-2014 11:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Apparently NAN (Not A Number) is a number for the sake of is_numeric(). <br />
<br />
<span class="default">&lt;?php <br />
</span><span class="keyword">echo </span><span class="string">"is "</span><span class="keyword">; <br />
if (!</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">NAN</span><span class="keyword">)) <br />
&nbsp;echo </span><span class="string">"not "</span><span class="keyword">; <br />
&nbsp;echo </span><span class="string">"a number"</span><span class="keyword">; <br />
</span><span class="default">?&gt;</span> <br />
<br />
Outputs "is a number". So something that is NOT a number (by defintion) is a number...</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="111709""></a>
  <div class="note">
   <strong class="user">jsnell at e-normous dot com</strong>
   <a href="#111709" class="date">19-Mar-2013 09:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that this function handles leading spaces differently than is_int(), is_float(), is_real(), is_long(), and is_double().<br />
<br />
is_numeric(" 12345") = true<br />
is_int(" 12345") = false<br />
is_float(" 12345") = false<br />
is_real(" 12345") = false<br />
is_long(" 12345") = false<br />
is_double(" 12345") = false</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="109083""></a>
  <div class="note">
   <strong class="user">jeffvanhees at gmail dot com</strong>
   <a href="#109083" class="date">19-Jun-2012 05:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Function for checking all the values in an array for being numeric:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">is_numeric_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (!</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)) return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$array_not_numeric </span><span class="keyword">= array(</span><span class="string">'1'</span><span class="keyword">, </span><span class="string">'2'</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">, </span><span class="string">'a'</span><span class="keyword">); </span><span class="comment">// returns false<br />
</span><span class="default">$array_numeric </span><span class="keyword">= array(</span><span class="string">'1'</span><span class="keyword">, </span><span class="string">'2'</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">); </span><span class="comment">// returns true<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="107326""></a>
  <div class="note">
   <strong class="user">dave dot marr at gmail dot com</strong>
   <a href="#107326" class="date">31-Jan-2012 04:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want the numerical value of a string, this will return a float or int value:
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">get_numeric</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">) {
<br />
&nbsp; if (</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">)) {
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$val </span><span class="keyword">+ </span><span class="default">0</span><span class="keyword">;
<br />
&nbsp; }
<br />
&nbsp; return </span><span class="default">0</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
Example:
<br />
<span class="default">&lt;?php
<br />
get_numeric</span><span class="keyword">(</span><span class="string">'3'</span><span class="keyword">); </span><span class="comment">// int(3)
<br />
</span><span class="default">get_numeric</span><span class="keyword">(</span><span class="string">'1.2'</span><span class="keyword">); </span><span class="comment">// float(1.2)
<br />
</span><span class="default">get_numeric</span><span class="keyword">(</span><span class="string">'3.0'</span><span class="keyword">); </span><span class="comment">// float(3)
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="107222""></a>
  <div class="note">
   <strong class="user">akam at akameng dor com</strong>
   <a href="#107222" class="date">22-Jan-2012 09:22</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
$d </span><span class="keyword">= @</span><span class="default">$_GET</span><span class="keyword">[</span><span class="string">'d'</span><span class="keyword">];<br />
<br />
</span><span class="comment">/*<br />
assuming that passing value of d in the mysql<br />
$sql = "select * from books where bookid = '$d' "<br />
*/<br />
<br />
/*<br />
now check if $d is numeric?<br />
*/<br />
<br />
</span><span class="keyword">if(!</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$d</span><span class="keyword">)){<br />
&nbsp;</span><span class="default">$d </span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">"/[^0-9]+/"</span><span class="keyword">, </span><span class="string">""</span><span class="keyword">, </span><span class="default">$d</span><span class="keyword">);<br />
}<br />
echo </span><span class="string">"Cleared value: </span><span class="default">$d</span><span class="string"> \n&lt;br /&gt;Original Vlaue:"</span><span class="keyword">.@</span><span class="default">$_GET</span><span class="keyword">[</span><span class="string">'d'</span><span class="keyword">];<br />
</span><span class="comment">//then using clear value of $d in the mysql query<br />
</span><span class="default">$sql </span><span class="keyword">= </span><span class="string">"select * from books where bookid = '</span><span class="default">$d</span><span class="string">' "</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span>Example:<br />
?d=52;d;s;s'2233l'[[22<br />
<br />
Outpt:<br />
<br />
Cleared value: 52223322<br />
Original Vlaue:52;d;s;s'2233l'[[22</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="102011""></a>
  <div class="note">
   <strong class="user">sobolanx at gmail dot com</strong>
   <a href="#102011" class="date">22-Jan-2011 03:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that the function accepts extremely big numbers and correctly evaluates them.<br />
<br />
For example:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; $v </span><span class="keyword">= </span><span class="default">is_numeric </span><span class="keyword">(</span><span class="string">'58635272821786587286382824657568871098287278276543219876543'</span><span class="keyword">) ? </span><span class="default">true </span><span class="keyword">: </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">var_dump </span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
The above script will output:<br />
<br />
bool(true)<br />
<br />
So this function is not intimidated by super-big numbers. I hope this helps someone.<br />
<br />
PS: Also note that if you write is_numeric (45thg), this will generate a parse error (since the parameter is not enclosed between apostrophes or double quotes). Keep this in mind when you use this function.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="101766""></a>
  <div class="note">
   <strong class="user">Martyn Ranyard</strong>
   <a href="#101766" class="date">10-Jan-2011 04:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The documentation does not clarify what happens if you the input is an empty string - it correctly returns false in my experience.&nbsp; Useful to state these odd cases, for when you see code that checks for an empty string and is_numeric, you can tell it's a waste of a comparison.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="99876""></a>
  <div class="note">
   <strong class="user">Nitrogen</strong>
   <a href="#99876" class="date">11-Sep-2010 10:40</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I find it a little weird that people are having issues with ordinal numbers, it's pretty easy..<br />
Notes are in the commenting, check out the example outputs.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">ordinal</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">=</span><span class="string">''</span><span class="keyword">) {<br />
&nbsp; </span><span class="comment">// a temporary value we can change, and keep the original value.<br />
&nbsp; </span><span class="default">$o</span><span class="keyword">=</span><span class="default">$i</span><span class="keyword">;<br />
<br />
&nbsp; </span><span class="comment">// suffixes = 0th, 1st, 2nd, third == zeroth, first, second, third<br />
&nbsp; </span><span class="default">$s</span><span class="keyword">=array(</span><span class="string">'th'</span><span class="keyword">,</span><span class="string">'st'</span><span class="keyword">,</span><span class="string">'nd'</span><span class="keyword">,</span><span class="string">'rd'</span><span class="keyword">);<br />
<br />
&nbsp; </span><span class="comment">// if input just so happens to be a string, we check to make sure it<br />
&nbsp; // still holds a numeric value and only acquire the last 2 numbers.<br />
&nbsp; // if it's not a string, nor an integer, we freak out and say no.<br />
&nbsp; </span><span class="keyword">if(!</span><span class="default">is_int</span><span class="keyword">(</span><span class="default">$o</span><span class="keyword">))<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">ctype_digit</span><span class="keyword">(</span><span class="default">$o</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$o</span><span class="keyword">=(int)</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$o</span><span class="keyword">,-</span><span class="default">2</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp;&nbsp; return(</span><span class="default">false</span><span class="keyword">);<br />
<br />
&nbsp; </span><span class="comment">// basically, if $o is between 11 and 19, we use 'th'<br />
&nbsp; // otherwise we use the last digit and if it's over<br />
&nbsp; // 4 then we use 0 (for the $s array index).<br />
&nbsp; </span><span class="keyword">return(</span><span class="default">$i</span><span class="keyword">.</span><span class="default">$s</span><span class="keyword">[(</span><span class="default">$o</span><span class="keyword">%</span><span class="default">100</span><span class="keyword">&gt;</span><span class="default">10</span><span class="keyword">&amp;&amp;</span><span class="default">$o</span><span class="keyword">%</span><span class="default">100</span><span class="keyword">&lt;</span><span class="default">20</span><span class="keyword">)?</span><span class="default">0</span><span class="keyword">:(</span><span class="default">$o</span><span class="keyword">%</span><span class="default">10</span><span class="keyword">&lt;</span><span class="default">4</span><span class="keyword">?</span><span class="default">$o</span><span class="keyword">%</span><span class="default">10</span><span class="keyword">:</span><span class="default">0</span><span class="keyword">)]);<br />
}<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">ordinal</span><span class="keyword">(</span><span class="default">5</span><span class="keyword">));<br />
<br />
</span><span class="comment">/* Example Outputs of ordinal():<br />
&nbsp; 0th, 1st, 2nd, 3rd, 4th, ..., 9th,<br />
&nbsp; 10th, 11th, 12th, 13th, 14th, ..., 19th,<br />
&nbsp; 110th, 111th, ..., 199th, 200th, 201st.<br />
<br />
&nbsp; ordinal('-1'); returns false because ctype_digit hates anything that<br />
&nbsp; isn't strictly 0 through 9 and '-' trips it to false.<br />
<br />
&nbsp; ordinal('asdf'); returns false for the exact same reason.<br />
<br />
&nbsp; ordinal(); returns false because it's blank.<br />
<br />
&nbsp; signed integers on a 32-bit system (and the same issue on a 64-bit<br />
&nbsp; system using 0x7FFFFFFFFFFFFFFF because of two's compliment,<br />
&nbsp; anything higher will become a negative number):<br />
&nbsp; ordinal(0x7FFFFFFF&nbsp; ); returns 2147483647th (which is correct)<br />
&nbsp; ordinal(0x7FFFFFFF+1); returns false.<br />
*/<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="92425""></a>
  <div class="note">
   <strong class="user">Kiam</strong>
   <a href="#92425" class="date">23-Jul-2009 11:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
empty(trim($test, '+-.,0123456789')) doesn't assure you $test contains a number. It returns TRUE also for a string containing ".+1234.56", which is not a valid number.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="92247""></a>
  <div class="note">
   <strong class="user">codeslinger at compsalot dot com</strong>
   <a href="#92247" class="date">15-Jul-2009 01:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
if speed is important, the liberal use of regex should be avoided, especially complex ones like those here.<br />
<br />
For most purposes, this will be sufficient and has the advantages of both speed and clarity.<br />
<br />
$BoolResult = empty(trim($Test, '+-.,0123456789'));<br />
<br />
If the $Test contains any character that is not a valid part of a number the remaining string will not be empty.<br />
<br />
if you want to be more restrictive of the '+-'&nbsp; then you can use a separate trim for that and nest it.&nbsp; Keep in mind that some notations pt the sign to the right of the number instead of to the left.&nbsp; Depending upon your specific application you can also choose to ignore spaces and allow for 'e' notation.<br />
<br />
I also use this approach when testing for other character sets such as Hex.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="88041""></a>
  <div class="note">
   <strong class="user">Magnus Deininger, dma05 at web dot de</strong>
   <a href="#88041" class="date">07-Jan-2009 06:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
regarding the global vs. american numeral notations, it should be noted that at least in japanese, numbers aren't grouped with an extra symbol every three digits, but rather every four digits (for example 1,0000 instead of 10.000). also nadim's regexen are slightly suboptimal at one point having an unescaped '.' operator, and the whole thing could easily be combined into a single regex (speed and all).
<br />

<br />
adjustments:
<br />

<br />
<span class="default">&lt;?php
<br />
$eng_or_world </span><span class="keyword">= </span><span class="default">preg_match
<br />
&nbsp; </span><span class="keyword">(</span><span class="string">'/^[+-]?'</span><span class="keyword">. </span><span class="comment">// start marker and sign prefix
<br />
&nbsp; </span><span class="string">'(((([0-9]+)|([0-9]{1,4}(,[0-9]{3,4})+)))?(\\.[0-9])?([0-9]*)|'</span><span class="keyword">. </span><span class="comment">// american
<br />
&nbsp; </span><span class="string">'((([0-9]+)|([0-9]{1,4}(\\.[0-9]{3,4})+)))?(,[0-9])?([0-9]*))'</span><span class="keyword">. </span><span class="comment">// world
<br />
&nbsp; </span><span class="string">'(e[0-9]+)?'</span><span class="keyword">. </span><span class="comment">// exponent
<br />
&nbsp; </span><span class="string">'$/'</span><span class="keyword">, </span><span class="comment">// end marker
<br />
&nbsp; </span><span class="default">$str</span><span class="keyword">) == </span><span class="default">1</span><span class="keyword">;
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
i'm sure this still isn't optimal, but it should also cover japanese-style numerals and it fixed a couple of other issues with the other regexen. it also allows for an exponent suffix, the pre-decimal digits are optional and it enforces using either grouped or ungrouped integer parts. should be easier to trim to your liking too.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="74142""></a>
  <div class="note">
   <strong class="user">Elwin van Huissteden</strong>
   <a href="#74142" class="date">27-Mar-2007 04:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To James holwell:<br />
<br />
Maybe your function was more strickt, but profides FALSE to any numeric string that wasnt written in the English/American notition. To enable a person to use the both the English/American and the rest of the world's way:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp; </span><span class="keyword">function </span><span class="default">my_is_numeric</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)<br />
&nbsp; {<br />
&nbsp;&nbsp; return (</span><span class="default">preg_match </span><span class="keyword">(</span><span class="string">"/\A(-){0, 1}([0-9]+)((,|.)[0-9]{3, 3})*((,|.)[0-9]){0, 1}([0-9]*)\z/" </span><span class="keyword">,</span><span class="default">$value</span><span class="keyword">) == </span><span class="default">1</span><span class="keyword">);<br />
&nbsp; }<br />
</span><span class="default">?&gt;<br />
</span><br />
Other than that, i'd recommend using yours, if it works (i havent tested either yours or mine)<br />
By using mine, there might be a slight chance to not being able to do calculations with the numeric string if it's not the English/American way.<br />
<br />
(*Note: <br />
-the E/A way of writing 1 million (with decimal for 1/50): 1,000,000.02<br />
-the global way of writing 1 million (with decimal for 1/50): 1.000.000,02</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="74013""></a>
  <div class="note">
   <strong class="user">james.holwell( at )exeter.ox.ac.uk</strong>
   <a href="#74013" class="date">20-Mar-2007 02:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In reply to www.kigoobe.com, a more strict expression is<br />
<br />
<span class="default">&lt;?php<br />
&nbsp; </span><span class="keyword">function </span><span class="default">my_is_numeric</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; return (</span><span class="default">preg_match </span><span class="keyword">(</span><span class="string">"/^(-){0,1}([0-9]+)(,[0-9][0-9][0-9])*([.][0-9]){0,1}([0-9]*)$/"</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">) == </span><span class="default">1</span><span class="keyword">);<br />
&nbsp; }<br />
</span><span class="default">?&gt;<br />
</span><br />
This will not match strings like -6,77.8,8 which are matched by the below expression, and instead requires a single decimal point, with at least one character following, and only permits comma-separation when the right hand side is a triplet.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="72601""></a>
  <div class="note">
   <strong class="user">Stephen</strong>
   <a href="#72601" class="date">25-Jan-2007 09:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The documentation is not completely precise here. is_numeric will also return true if the number begins with a decimal point&nbsp; and/or a space, provided a number follows (rather than a letter or punctuation). So, it doesn't necessarily have to start with a digit.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="69053""></a>
  <div class="note">
   <strong class="user">moskalyuk at gmail dot com</strong>
   <a href="#69053" class="date">21-Aug-2006 10:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
is_numeric fails on the hex values greater than LONG_MAX, so having a large hex value parsed through is_numeric would result in FALSE being returned even though the value is a valid hex number</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="68338""></a>
  <div class="note">
   <strong class="user">rontarrant at NO_SPAMsympatico dot ca</strong>
   <a href="#68338" class="date">23-Jul-2006 07:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's an even simpler pair of functions for finding out if a number is odd or even:<br />
<br />
function IS_ODD($number) { return($number &amp; 1); }<br />
<br />
function IS_EVEN($number) { return(!($number &amp; 1)); }<br />
<br />
Test:<br />
$myNumber = 151;<br />
<br />
if(IS_ODD($myNumber))<br />
&nbsp;&nbsp;&nbsp; echo("number is odd\n");<br />
else<br />
&nbsp;&nbsp;&nbsp; echo("number is NOT odd\n");<br />
<br />
if(IS_even($myNumber))<br />
&nbsp;&nbsp;&nbsp; echo("number is even\n");<br />
else<br />
&nbsp;&nbsp;&nbsp; echo("number is NOT even\n");<br />
<br />
Results:<br />
number is odd<br />
number is NOT even</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="59691""></a>
  <div class="note">
   <strong class="user">andrea dot vacondio at gmail dot com</strong>
   <a href="#59691" class="date">13-Dec-2005 07:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Two simple functions using is_numeric:<br />
<br />
<span class="default">&lt;?php<br />
<br />
&nbsp;</span><span class="keyword">function </span><span class="default">is_odd</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; return (</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">)&amp;(</span><span class="default">$num</span><span class="keyword">&amp;</span><span class="default">1</span><span class="keyword">));<br />
&nbsp;}<br />
&nbsp;<br />
&nbsp;function </span><span class="default">is_even</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; return (</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">)&amp;(!(</span><span class="default">$num</span><span class="keyword">&amp;</span><span class="default">1</span><span class="keyword">)));<br />
&nbsp;}<br />
<br />
&nbsp;</span><span class="comment">//examples<br />
</span><span class="keyword">echo </span><span class="string">"1: odd? "</span><span class="keyword">.(</span><span class="default">is_odd</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">)? </span><span class="string">"TRUE"</span><span class="keyword">: </span><span class="string">"FALSE"</span><span class="keyword">).</span><span class="string">"&lt;br /&gt;"</span><span class="keyword">; <br />
</span><span class="comment">//is_numeric(0) returns true <br />
</span><span class="keyword">echo </span><span class="string">"0: odd? "</span><span class="keyword">.(</span><span class="default">is_odd</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">)? </span><span class="string">"TRUE"</span><span class="keyword">: </span><span class="string">"FALSE"</span><span class="keyword">).</span><span class="string">"&lt;br /&gt;"</span><span class="keyword">; <br />
echo </span><span class="string">"6: odd? "</span><span class="keyword">.(</span><span class="default">is_odd</span><span class="keyword">(</span><span class="default">6</span><span class="keyword">)? </span><span class="string">"TRUE"</span><span class="keyword">: </span><span class="string">"FALSE"</span><span class="keyword">).</span><span class="string">"&lt;br /&gt;"</span><span class="keyword">; <br />
echo </span><span class="string">"\"italy\": odd? "</span><span class="keyword">.(</span><span class="default">is_odd</span><span class="keyword">(</span><span class="string">"italy"</span><span class="keyword">)? </span><span class="string">"TRUE"</span><span class="keyword">: </span><span class="string">"FALSE"</span><span class="keyword">).</span><span class="string">"&lt;br /&gt;"</span><span class="keyword">;<br />
echo </span><span class="string">"null: odd? "</span><span class="keyword">.(</span><span class="default">is_odd</span><span class="keyword">(</span><span class="default">null</span><span class="keyword">)? </span><span class="string">"TRUE"</span><span class="keyword">: </span><span class="string">"FALSE"</span><span class="keyword">).</span><span class="string">"&lt;br /&gt;&lt;br /&gt;"</span><span class="keyword">; <br />
echo </span><span class="string">"1: even? "</span><span class="keyword">.(</span><span class="default">is_even</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">)? </span><span class="string">"TRUE"</span><span class="keyword">: </span><span class="string">"FALSE"</span><span class="keyword">).</span><span class="string">"&lt;br /&gt;"</span><span class="keyword">;&nbsp; <br />
echo </span><span class="string">"0: even? "</span><span class="keyword">.(</span><span class="default">is_even</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">)? </span><span class="string">"TRUE"</span><span class="keyword">: </span><span class="string">"FALSE"</span><span class="keyword">).</span><span class="string">"&lt;br /&gt;"</span><span class="keyword">; <br />
echo </span><span class="string">"6: even? "</span><span class="keyword">.(</span><span class="default">is_even</span><span class="keyword">(</span><span class="default">6</span><span class="keyword">)? </span><span class="string">"TRUE"</span><span class="keyword">: </span><span class="string">"FALSE"</span><span class="keyword">).</span><span class="string">"&lt;br /&gt;"</span><span class="keyword">; <br />
echo </span><span class="string">"\"italy\": even? "</span><span class="keyword">.(</span><span class="default">is_even</span><span class="keyword">(</span><span class="string">"italy"</span><span class="keyword">)? </span><span class="string">"TRUE"</span><span class="keyword">: </span><span class="string">"FALSE"</span><span class="keyword">).</span><span class="string">"&lt;br /&gt;"</span><span class="keyword">;&nbsp; <br />
echo </span><span class="string">"null: even? "</span><span class="keyword">.(</span><span class="default">is_even</span><span class="keyword">(</span><span class="default">null</span><span class="keyword">)? </span><span class="string">"TRUE"</span><span class="keyword">: </span><span class="string">"FALSE"</span><span class="keyword">).</span><span class="string">"&lt;br /&gt;"</span><span class="keyword">; <br />
<br />
</span><span class="default">?&gt;<br />
</span>And here is the result:<br />
1: odd? TRUE<br />
0: odd? FALSE<br />
6: odd? FALSE<br />
"italy": odd? FALSE<br />
null: odd? FALSE<br />
<br />
1: even? FALSE<br />
0: even? TRUE<br />
6: even? TRUE<br />
"italy": even? FALSE<br />
null: even? FALSE</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="55615""></a>
  <div class="note">
   <strong class="user">jamespam at hotmail dot com</strong>
   <a href="#55615" class="date">08-Aug-2005 02:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's a function to determine if a variable represents a whole number:<br />
<br />
function is_whole_number($var){<br />
&nbsp; return (is_numeric($var)&amp;&amp;(intval($var)==floatval($var)));<br />
}<br />
<br />
just simple stuff...<br />
is_whole_number(2.00000000001); will return false<br />
is_whole_number(2.00000000000); will return true</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="55316""></a>
  <div class="note">
   <strong class="user">namik at hub-cafe dot net</strong>
   <a href="#55316" class="date">29-Jul-2005 06:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I needed a number_suffix function that takes numbers with thousand seperators (using number_format() function).&nbsp; Note that this doesn't properly handle decimals.<br />
<br />
Example:<br />
<span class="default">&lt;?= number_suffix</span><span class="keyword">(</span><span class="string">'1,021'</span><span class="keyword">) </span><span class="default">?&gt;</span> returns: 1,021st<br />
<br />
Also, increasing the range above the condition statements increases efficiency.&nbsp; That's almost 20% of the numbers between 0 and 100 that get to end early.<br />
<br />
&lt;?<br />
&nbsp; function number_suffix($number)<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; // Validate and translate our input<br />
&nbsp;&nbsp;&nbsp; if ( is_numeric($number) )<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp;&nbsp; // Get the last two digits (only once)<br />
&nbsp;&nbsp; &nbsp;&nbsp; $n = $number % 100;<br />
&nbsp;&nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; // If the last two characters are numbers<br />
&nbsp;&nbsp; &nbsp; if ( preg_match( '/[0-9]?[0-9]$/', $number, $matches ) )<br />
&nbsp;&nbsp; &nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; // Return the last one or two digits<br />
&nbsp;&nbsp; &nbsp; &nbsp; $n = array_pop($matches);<br />
&nbsp;&nbsp; &nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; // Return the string, we can add a suffix to it<br />
&nbsp;&nbsp; &nbsp; &nbsp; return $number;<br />
&nbsp;&nbsp; &nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; // Skip the switch for as many numbers as possible.<br />
&nbsp;&nbsp;&nbsp; if ( $n &gt; 3 &amp;&amp; $n &lt; 21 )<br />
&nbsp;&nbsp; &nbsp;&nbsp; return $number . 'th';<br />
<br />
&nbsp;&nbsp;&nbsp; // Determine the suffix for numbers ending in 1, 2 or 3, otherwise add a 'th'<br />
&nbsp;&nbsp;&nbsp; switch ( $n % 10 )<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp;&nbsp; case '1': return $number . 'st';<br />
&nbsp;&nbsp; &nbsp;&nbsp; case '2': return $number . 'nd';<br />
&nbsp;&nbsp; &nbsp;&nbsp; case '3': return $number . 'rd';<br />
&nbsp;&nbsp; &nbsp;&nbsp; default:&nbsp; return $number . 'th';<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp; }<br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="55240""></a>
  <div class="note">
   <strong class="user">sebu</strong>
   <a href="#55240" class="date">28-Jul-2005 04:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Referring to previous post "Be aware if you use is_numeric() or is_float() after using set_locale(LC_ALL,'lang') or set_locale(LC_NUMERIC,'lang')":<br />
<br />
This is totally wrong!<br />
<br />
This was the example code:<br />
<br />
-----<br />
&nbsp; set_locale(LC_NUMERIC,'fr');<br />
&nbsp; is_numeric(12.25); // Return False<br />
&nbsp; is_numeric(12,25); // Return True<br />
&nbsp; is_float(12.25); //Return False<br />
&nbsp; is_float(12,25); //Return True<br />
-----<br />
<br />
This is nonsense!<br />
<br />
- set_locale() does not exist, you must use setlocale() instead<br />
- you have to enclose 12,25 with quotes; otherwise PHP will think that <br />
the function gets _two_ arguments: 12 and 25 (depending on PHP version and setup you may additionally get a PHP warning)<br />
- if you don't enclose 12,25 with quotes the first argument will be the inspected value (12), the second value (25) is discarded. And is_numeric(12) and is_float(12) is always TRUE<br />
<br />
Corrected Example:<br />
<br />
----<br />
&nbsp; setlocale(LC_NUMERIC,'fr');<br />
&nbsp; is_numeric(12.25); // Return True<br />
&nbsp; is_numeric("12,25"); // Return False<br />
&nbsp; is_float(12.25); //Return True<br />
&nbsp; is_float("12,25"); //Return False<br />
----<br />
<br />
Remarks:<br />
- is_float(12.25) is _always_ TRUE, 12.25 is a PHP language construct (a "value") and the way PHP interpretes files is definitely _not_ affected by the locale<br />
- is_float("12,25") is _always_ FALSE, since is_float (other than is_numeric): if the argument is a string then is_float() always returns FALSE since it does a strict check for floats<br />
<br />
And the corrected example shows: you get the _same_ results for every possible locale, is_numeric() does not depend on the locale.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="47491""></a>
  <div class="note">
   <strong class="user">mdallaire at virtuelcom dot com</strong>
   <a href="#47491" class="date">17-Nov-2004 04:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Sometimes, we need to have no letters in the number and is_numeric does not quit the job.<br />
You can try it this ways to make sure of the number format:<br />
<br />
&nbsp;&nbsp;&nbsp; function new_is_unsigned_float($val) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $val=str_replace(" ","",trim($val));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return eregi("^([0-9])+([\.|,]([0-9])*)?$",$val);<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; function new_is_unsigned_integer($val) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $val=str_replace(" ","",trim($val));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return eregi("^([0-9])+$",$val);<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; function new_is_signed_float($val) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $val=str_replace(" ","",trim($val));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return eregi("^-?([0-9])+([\.|,]([0-9])*)?$",$val);<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; function new_is_signed_integer($val) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $val=str_replace(" ","",trim($val));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return eregi("^-?([0-9])+$",$val);<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
It returns 1 if okay and returns nothing "" if it's bad number formating.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="42083""></a>
  <div class="note">
   <strong class="user">renimar no spam at nospam yahoo dot com</strong>
   <a href="#42083" class="date">03-May-2004 12:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A little function to ordinalize numbers using is_numeric() and accounting for the numbers in the teens.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">ordinalize</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">) {<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (!</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$num</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$num </span><span class="keyword">&gt;= </span><span class="default">11 </span><span class="keyword">and </span><span class="default">$num </span><span class="keyword">&lt;= </span><span class="default">19</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$num</span><span class="keyword">.</span><span class="string">"th"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; elseif ( </span><span class="default">$num </span><span class="keyword">% </span><span class="default">10 </span><span class="keyword">== </span><span class="default">1 </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$num</span><span class="keyword">.</span><span class="string">"st"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; elseif ( </span><span class="default">$num </span><span class="keyword">% </span><span class="default">10 </span><span class="keyword">== </span><span class="default">2 </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$num</span><span class="keyword">.</span><span class="string">"nd"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; elseif ( </span><span class="default">$num </span><span class="keyword">% </span><span class="default">10 </span><span class="keyword">== </span><span class="default">3 </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$num</span><span class="keyword">.</span><span class="string">"rd"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$num</span><span class="keyword">.</span><span class="string">"th"</span><span class="keyword">;<br />
<br />
}<br />
<br />
</span><span class="comment">// Demo<br />
</span><span class="keyword">for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;=</span><span class="default">25</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; print </span><span class="default">ordinalize</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">) . </span><span class="string">" "</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="comment">// The loop returns:<br />
// 1st 2nd 3rd 4th 5th 6th 7th 8th 9th 10th 11th 12th <br />
// 13th 14th 15th 16th 17th 18th 19th 20th 21st 22nd <br />
// 23rd 24th 25th <br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="39078""></a>
  <div class="note">
   <strong class="user">joe at kewlmail dot net</strong>
   <a href="#39078" class="date">16-Jan-2004 03:12</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is a simple function that I found usefull for filtering user input into numbers. Basically, it attempts to fix fat fingering. For example:<br />
<br />
$userString = "$654.4r5";<br />
<br />
function numpass_filter($userString){&nbsp; <br />
&nbsp;&nbsp;&nbsp; $money = explode(".", $userString);<br />
&nbsp;&nbsp;&nbsp; //now $money[0] = "$645" and $money[1] = "4r5"<br />
<br />
&nbsp;&nbsp;&nbsp; //next remove all characters save 0 though 9<br />
&nbsp;&nbsp;&nbsp; //in both elements of the array<br />
&nbsp;&nbsp;&nbsp; $dollars = eregi_replace("[^0-9]", null, $money[0]);<br />
&nbsp;&nbsp;&nbsp; $cents = eregi_replace("[^0-9]", null, $money[1]);<br />
<br />
&nbsp;&nbsp;&nbsp; //if there was a decimal in the original string, put it back<br />
&nbsp;&nbsp;&nbsp; if((string)$cents!=null){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $cents = "." . $cents;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; $result = $dollars . $cents;<br />
<br />
&nbsp;&nbsp;&nbsp; return($result);<br />
}<br />
<br />
The output in this case would be '654.45'.<br />
Please note that this function will work properly unless the user fat fingers an extra decimal in the wrong place.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="37717""></a>
  <div class="note">
   <strong class="user">kouber at saparev dot com</strong>
   <a href="#37717" class="date">24-Nov-2003 03:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that this function is not appropriate to check if "is_numeric" for very long strings. In fact, everything passed to this function is converted to long and then to a double. Anything greater than approximately 1.8e308 is too large for a double, so it becomes infinity, i.e. FALSE. What that means is that, for each string with more than 308 characters, is_numeric() will return FALSE, even if all chars are digits.<br />
<br />
However, this behaviour is platform-specific.<br />
<br />
<a href="http://www.php.net/manual/en/language.types.float.php" rel="nofollow" target="_blank">http://www.php.net/manual/en/language.types.float.php</a><br />
<br />
In such a case, it is suitable to use regular expressions:<br />
<br />
function is_numeric_big($s=0) {<br />
&nbsp; return preg_match('/^-?\d+$/', $s);<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="34804""></a>
  <div class="note">
   <strong class="user">stew_wilde at hotmail dot com</strong>
   <a href="#34804" class="date">07-Aug-2003 01:25</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
When using the exec() function in php to execute anther php script, any command line arguments passed the script will lose their type association, regardless of whether they are numeric or not, the same seems to hold true for strings as well.<br />
<br />
ie : two scripts test.php:<br />
<br />
<span class="default">&lt;?php<br />
$val </span><span class="keyword">= </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$argv</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]);<br />
echo </span><span class="default">is_string</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
and testwrapper.php:<br />
<br />
<span class="default">&lt;?php<br />
$tmp </span><span class="keyword">= </span><span class="default">5</span><span class="keyword">;<br />
</span><span class="default">exec</span><span class="keyword">(</span><span class="string">"php ./test.php "</span><span class="keyword">.</span><span class="default">$tmp</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Executing testwrapper.php on the command line will echo nothing (ie false), and false will be returned regardless of any escaping of parameters or other such attempts to overcome this.&nbsp; The solution then is to explicitly cast $val in test.php to be an int and then is_numeric will work.&nbsp; But as stated the same test was performed using a string for $val and the is_string() function and the same thing occurs.&nbsp; Not the end of the world, but something to be aware of :)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="29396""></a>
  <div class="note">
   <strong class="user">andi_nrw at hotmail dot com</strong>
   <a href="#29396" class="date">12-Feb-2003 08:25</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
</span><span class="comment">/* This function is not useful if you want<br />
to check that someone has filled in only<br />
numbers into a form because for example<br />
4e4 and 444 are both "numeric".<br />
<br />
I used a regular expression for this problem<br />
and it works pretty good. Maybe it is a good<br />
idea to write a function and then to use it.<br />
<br />
$input_number = "444"; // Answer 1 <br />
$input_number = "44 "; // Answer 2<br />
$input_number = "4 4"; // Answer 2<br />
$input_number = "4e4"; // Answer 2 <br />
$input_number = "e44"; // Answer 2<br />
$input_number = "e4e"; // Answer 2<br />
$input_number = "abc"; // Answer 2<br />
*/<br />
</span><span class="default">$input_number </span><span class="keyword">= </span><span class="string">"444"</span><span class="keyword">;<br />
<br />
if (</span><span class="default">preg_match </span><span class="keyword">(</span><span class="string">"/^([0-9]+)$/"</span><span class="keyword">, </span><span class="default">$input_number</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; print </span><span class="string">"Answer 1"</span><span class="keyword">;<br />
} else {<br />
&nbsp;&nbsp; &nbsp; print </span><span class="string">"Answer 2"</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="24981""></a>
  <div class="note">
   <strong class="user">eagleflyer2 at lycos dot com</strong>
   <a href="#24981" class="date">06-Sep-2002 01:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Hi !<br />
Many of you may have experienced that the 'is_numeric' function seems to fail always when form entries are checked against their variable type. So the function seems to return&nbsp; 'false' even if the form entry was aparently a number or numeric string.<br />
<br />
The solution is pretty simple and no subroutines or fancy operations are necessary to make the 'is_numeric' function usable for form entry checks:<br />
<br />
Simply strip off all (invisible) characters that may be sent along with the value when submitting a form entry.<br />
<br />
Just use the 'trim' function before 'is_numeric'.<br />
<br />
Example:<br />
<br />
$variable = trim($variable);<br />
if (is_numeric($variable)<br />
{...#do something#...}<br />
else<br />
{...#do something else#...}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
