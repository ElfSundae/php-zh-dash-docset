<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>SQLite 函数</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="sqlite.constants.html">? 预定义常量</a></li>
      <li style="float: right;"><a href="function.sqlite-array-query.html">sqlite_array_query ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="book.sqlite.html">SQLite</a></li>
    <li>SQLite 函数</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="ref.sqlite" class="reference">
  <h1 class="title">SQLite 函数</h1>

  <div class="partintro">
   
   <div class="section" id="sqlite.classes">
    <h2 class="title">预定义类</h2>

    <div class="section" id="sqlite.class.sqlitedatabase">
     <h2 class="title"><strong class="classname">SQLiteDatabase</strong></h2>
     <p class="simpara">
      Represents an opened SQLite database.
     </p>
     <div class="section" id="sqlite.class.sqlitedatabase.constructor">
      <h2 class="title">构造函数</h2>
      <ul class="itemizedlist">
       <li class="listitem">
        <span class="simpara"><a href="function.sqlite-open.html" class="link">__construct</a> - construct a new SQLiteDatabase object</span>
       </li>
      </ul>
     </div>
     <div class="section" id="sqlite.class.sqlitedatabase.methods">
      <h2 class="title">方法</h2>
      <ul class="itemizedlist">
       <li class="listitem">
        <span class="simpara"><a href="function.sqlite-query.html" class="link">query</a> - Execute a query</span>
       </li>
       <li class="listitem">
        <span class="simpara"><a href="function.sqlite-exec.html" class="link">queryExec</a> - Execute a result-less query</span>
       </li>
       <li class="listitem">
        <span class="simpara"><a href="function.sqlite-array-query.html" class="link">arrayQuery</a> - Execute a query and return the result as an array</span>
       </li>
       <li class="listitem">
        <span class="simpara"><a href="function.sqlite-single-query.html" class="link">singleQuery</a> - Execute a query and return either an array for one single column or the value of the first row</span>
       </li>
       <li class="listitem">
        <span class="simpara"><a href="function.sqlite-unbuffered-query.html" class="link">unbufferedQuery</a> - Execute an unbuffered query</span>
       </li>
       <li class="listitem">
        <span class="simpara"><a href="function.sqlite-last-insert-rowid.html" class="link">lastInsertRowid</a> - Returns the rowid of the most recently inserted row</span>
       </li>
       <li class="listitem">
        <span class="simpara"><a href="function.sqlite-changes.html" class="link">changes</a> - Returns the number of rows changed by the most recent statement</span>
       </li>
       <li class="listitem">
        <span class="simpara"><a href="function.sqlite-create-aggregate.html" class="link">createAggregate</a> - Register an aggregating UDF for use in SQL statements</span>
       </li>
       <li class="listitem">
        <span class="simpara"><a href="function.sqlite-create-function.html" class="link">createFunction</a> - Register a UDF for use in SQL statements</span>
       </li>
       <li class="listitem">
        <span class="simpara"><a href="function.sqlite-busy-timeout.html" class="link">busyTimeout</a> - Sets or disables busy timeout duration</span>
       </li>
       <li class="listitem">
        <span class="simpara"><a href="function.sqlite-last-error.html" class="link">lastError</a> - Returns the last error code of the most recently encountered error</span>
       </li>
       <li class="listitem">
        <span class="simpara"><a href="function.sqlite-fetch-column-types.html" class="link">fetchColumnTypes</a> - Return an array of column types from a particular table</span>
       </li>
      </ul>
     </div>
    </div>

    <div class="section" id="sqlite.class.sqliteresult">
     <h2 class="title"><strong class="classname">SQLiteResult</strong></h2>
     <p class="simpara">
      Represents a buffered SQLite result set.
     </p>
     <div class="section" id="sqlite.class.sqliteresult.methods">
      <h2 class="title">方法</h2>
      <ul class="itemizedlist">
       <li class="listitem">
        <span class="simpara"><a href="function.sqlite-fetch-array.html" class="link">fetch</a> - Fetches the next row from the result set as an array</span>
       </li>
       <li class="listitem">
        <span class="simpara"><a href="function.sqlite-fetch-object.html" class="link">fetchObject</a> - Fetches the next row from the result set as an object</span>
       </li>
       <li class="listitem">
        <span class="simpara"><a href="function.sqlite-fetch-single.html" class="link">fetchSingle</a> - Fetches the first column from the result set as a string</span>
       </li>
       <li class="listitem">
        <span class="simpara"><a href="function.sqlite-fetch-all.html" class="link">fetchAll</a> - Fetches all rows from the result set as an array of arrays</span>
       </li>
       <li class="listitem">
        <span class="simpara"><a href="function.sqlite-column.html" class="link">column</a> - Fetches a column from the current row of the result set</span>
       </li>
       <li class="listitem">
        <span class="simpara"><a href="function.sqlite-num-fields.html" class="link">numFields</a> - Returns the number of fields in the result set</span>
       </li>
       <li class="listitem">
        <span class="simpara"><a href="function.sqlite-field-name.html" class="link">fieldName</a> - Returns the name of a particular field in the result set</span>
       </li>
       <li class="listitem">
        <span class="simpara"><a href="function.sqlite-current.html" class="link">current</a> - Fetches the current row from the result set as an array</span>
       </li>
       <li class="listitem">
        <span class="simpara"><a href="function.sqlite-key.html" class="link">key</a> - Return the current row index</span>
       </li>
       <li class="listitem">
        <span class="simpara"><a href="function.sqlite-next.html" class="link">next</a> - Seek to the next row number</span>
       </li>
       <li class="listitem">
        <span class="simpara"><a href="function.sqlite-valid.html" class="link">valid</a> - Returns whether more rows are available</span>
       </li>
       <li class="listitem">
        <span class="simpara"><a href="function.sqlite-rewind.html" class="link">rewind</a> - Seek to the first row number of the result set</span>
       </li>
       <li class="listitem">
        <span class="simpara"><a href="function.sqlite-prev.html" class="link">prev</a> - Seek to the previous row number of the result set</span>
       </li>
       <li class="listitem">
        <span class="simpara"><a href="function.sqlite-has-prev.html" class="link">hasPrev</a> - Returns whether or not a previous row is available</span>
       </li>
       <li class="listitem">
        <span class="simpara"><a href="function.sqlite-num-rows.html" class="link">numRows</a> - Returns the number of rows in the result set</span>
       </li>
       <li class="listitem">
        <span class="simpara"><a href="function.sqlite-seek.html" class="link">seek</a> - Seek to a particular row number</span>
       </li>
      </ul>
     </div>
    </div>

    <div class="section" id="sqlite.class.sqliteunbuffered">
     <h2 class="title"><strong class="classname">SQLiteUnbuffered</strong></h2>
     <p class="simpara">
      Represents an unbuffered SQLite result set.  Unbuffered results sets are sequential, forward-seeking only.
     </p>
     <div class="section" id="sqlite.class.sqliteunbuffered.methods">
      <h2 class="title">方法</h2>
      <ul class="itemizedlist">
       <li class="listitem">
        <span class="simpara"><a href="function.sqlite-fetch-array.html" class="link">fetch</a> - Fetches the next row from the result set as an array</span>
       </li>
       <li class="listitem">
        <span class="simpara"><a href="function.sqlite-fetch-object.html" class="link">fetchObject</a> - Fetches the next row from the result set as an object</span>
       </li>
       <li class="listitem">
        <span class="simpara"><a href="function.sqlite-fetch-single.html" class="link">fetchSingle</a> - Fetches the first column from the result set as a string</span>
       </li>
       <li class="listitem">
        <span class="simpara"><a href="function.sqlite-fetch-all.html" class="link">fetchAll</a> - Fetches all rows from the result set as an array of arrays</span>
       </li>
       <li class="listitem">
        <span class="simpara"><a href="function.sqlite-column.html" class="link">column</a> - Fetches a column from the current row of the result set</span>
       </li>
       <li class="listitem">
        <span class="simpara"><a href="function.sqlite-num-fields.html" class="link">numFields</a> - Returns the number of fields in the result set</span>
       </li>
       <li class="listitem">
        <span class="simpara"><a href="function.sqlite-field-name.html" class="link">fieldName</a> - Returns the name of a particular field in the result set</span>
       </li>
       <li class="listitem">
        <span class="simpara"><a href="function.sqlite-current.html" class="link">current</a> - Fetches the current row from the result set as an array</span>
       </li>
       <li class="listitem">
        <span class="simpara"><a href="function.sqlite-next.html" class="link">next</a> - Seek to the next row number</span>
       </li>
       <li class="listitem">
        <span class="simpara"><a href="function.sqlite-valid.html" class="link">valid</a> - Returns whether more rows are available</span>
       </li>
      </ul>
     </div>
    </div>

   </div>

  </div>

  














































































































































































































































 <h2>Table of Contents</h2><ul class="chunklist chunklist_reference"><li><a href="function.sqlite-array-query.html">sqlite_array_query</a> &mdash; Execute a query against a given database and returns an array</li><li><a href="function.sqlite-busy-timeout.html">sqlite_busy_timeout</a> &mdash; Set busy timeout duration, or disable busy handlers</li><li><a href="function.sqlite-changes.html">sqlite_changes</a> &mdash; Returns the number of rows that were changed by the most
   recent SQL statement</li><li><a href="function.sqlite-close.html">sqlite_close</a> &mdash; Closes an open SQLite database</li><li><a href="function.sqlite-column.html">sqlite_column</a> &mdash; Fetches a column from the current row of a result set</li><li><a href="function.sqlite-create-aggregate.html">sqlite_create_aggregate</a> &mdash; Register an aggregating UDF for use in SQL statements</li><li><a href="function.sqlite-create-function.html">sqlite_create_function</a> &mdash; Registers a &quot;regular&quot; User Defined Function for use in SQL statements</li><li><a href="function.sqlite-current.html">sqlite_current</a> &mdash; Fetches the current row from a result set as an array</li><li><a href="function.sqlite-error-string.html">sqlite_error_string</a> &mdash; Returns the textual description of an error code</li><li><a href="function.sqlite-escape-string.html">sqlite_escape_string</a> &mdash; Escapes a string for use as a query parameter</li><li><a href="function.sqlite-exec.html">sqlite_exec</a> &mdash; Executes a result-less query against a given database</li><li><a href="function.sqlite-factory.html">sqlite_factory</a> &mdash; Opens an SQLite database and returns an SQLiteDatabase object</li><li><a href="function.sqlite-fetch-all.html">sqlite_fetch_all</a> &mdash; Fetches all rows from a result set as an array of arrays</li><li><a href="function.sqlite-fetch-array.html">sqlite_fetch_array</a> &mdash; Fetches the next row from a result set as an array</li><li><a href="function.sqlite-fetch-column-types.html">sqlite_fetch_column_types</a> &mdash; Return an array of column types from a particular table</li><li><a href="function.sqlite-fetch-object.html">sqlite_fetch_object</a> &mdash; Fetches the next row from a result set as an object</li><li><a href="function.sqlite-fetch-single.html">sqlite_fetch_single</a> &mdash; Fetches the first column of a result set as a string</li><li><a href="function.sqlite-fetch-string.html">sqlite_fetch_string</a> &mdash; 别名 sqlite_fetch_single</li><li><a href="function.sqlite-field-name.html">sqlite_field_name</a> &mdash; Returns the name of a particular field</li><li><a href="function.sqlite-has-more.html">sqlite_has_more</a> &mdash; Finds whether or not more rows are available</li><li><a href="function.sqlite-has-prev.html">sqlite_has_prev</a> &mdash; Returns whether or not a previous row is available</li><li><a href="function.sqlite-key.html">sqlite_key</a> &mdash; Returns the current row index</li><li><a href="function.sqlite-last-error.html">sqlite_last_error</a> &mdash; Returns the error code of the last error for a database</li><li><a href="function.sqlite-last-insert-rowid.html">sqlite_last_insert_rowid</a> &mdash; Returns the rowid of the most recently inserted row</li><li><a href="function.sqlite-libencoding.html">sqlite_libencoding</a> &mdash; Returns the encoding of the linked SQLite library</li><li><a href="function.sqlite-libversion.html">sqlite_libversion</a> &mdash; Returns the version of the linked SQLite library</li><li><a href="function.sqlite-next.html">sqlite_next</a> &mdash; Seek to the next row number</li><li><a href="function.sqlite-num-fields.html">sqlite_num_fields</a> &mdash; Returns the number of fields in a result set</li><li><a href="function.sqlite-num-rows.html">sqlite_num_rows</a> &mdash; Returns the number of rows in a buffered result set</li><li><a href="function.sqlite-open.html">sqlite_open</a> &mdash; Opens an SQLite database and create the database if it does not exist</li><li><a href="function.sqlite-popen.html">sqlite_popen</a> &mdash; Opens a persistent handle to an SQLite database and create the database if it does not exist</li><li><a href="function.sqlite-prev.html">sqlite_prev</a> &mdash; Seek to the previous row number of a result set</li><li><a href="function.sqlite-query.html">sqlite_query</a> &mdash; Executes a query against a given database and returns a result handle</li><li><a href="function.sqlite-rewind.html">sqlite_rewind</a> &mdash; Seek to the first row number</li><li><a href="function.sqlite-seek.html">sqlite_seek</a> &mdash; Seek to a particular row number of a buffered result set</li><li><a href="function.sqlite-single-query.html">sqlite_single_query</a> &mdash; Executes a query and returns either an array for one single column or the value of the first row</li><li><a href="function.sqlite-udf-decode-binary.html">sqlite_udf_decode_binary</a> &mdash; Decode binary data passed as parameters to an UDF</li><li><a href="function.sqlite-udf-encode-binary.html">sqlite_udf_encode_binary</a> &mdash; Encode binary data before returning it from an UDF</li><li><a href="function.sqlite-unbuffered-query.html">sqlite_unbuffered_query</a> &mdash; Execute a query that does not prefetch and buffer all data</li><li><a href="function.sqlite-valid.html">sqlite_valid</a> &mdash; Returns whether more rows are available</li></ul>
</div>
<div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="105808""></a>
  <div class="note">
   <strong class="user">CraquePipe</strong>
   <a href="#105808" class="date">16-Sep-2011 05:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The SQLite manual mentions that queries are done in a case-sensitive way, this means your query must be the correct case. It also mentions that using the "LIKE" operator will do a case-insensitive selection. This is true, but this also introduces wildcard symbols which a user could enter without getting filtered by the SQLite escape function. I'm somewhat new to SQL and I didn't think of doing this before, even after looking for a decent way to do case-insensitive queries.<br />
<br />
For case-insensitive queries, simply use the built in "lower" function.<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// ... <br />
</span><span class="default">$name </span><span class="keyword">= </span><span class="string">'bARbarA'</span><span class="keyword">;<br />
</span><span class="default">$rows </span><span class="keyword">= </span><span class="default">$db</span><span class="keyword">-&gt;</span><span class="default">arrayQuery</span><span class="keyword">(</span><span class="string">'select * from blah where lower(name) = lower(\''</span><span class="keyword">.</span><span class="default">sqlite_escape_string</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">).</span><span class="string">'\');'</span><span class="keyword">);<br />
</span><span class="comment">// $rows might contain an entry for "Barbara" now.<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="66994""></a>
  <div class="note">
   <strong class="user">papafox888 at hotmail dot com</strong>
   <a href="#66994" class="date">01-Jun-2006 09:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you get an error message:<br />
<br />
&nbsp;&nbsp; &nbsp; Warning: sqlite_open() [function.sqlite-open]: file is encrypted or is not a database<br />
<br />
then most probably your code is accessing a SQLite3 database.<br />
<br />
sqlite_open() only supports SQLite2.&nbsp; Use PDO to access SQLite3.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="58684""></a>
  <div class="note">
   <strong class="user">heinemann.juergen AT t-online.de</strong>
   <a href="#58684" class="date">11-Nov-2005 09:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Simple Example for using SQLite for small Buffering Clipboard ;)<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">// $Id: SQLiteClipboard.php5,v 1.1 2005/09/09 10:15:26 heinemann Exp $<br />
<br />
/**<br />
&nbsp;* @callgraph<br />
&nbsp;* @class&nbsp; &nbsp; &nbsp; SQLiteClipboard<br />
&nbsp;* @short&nbsp; &nbsp; &nbsp; Simple Read/Write Clipboard Class<br />
&nbsp;* @version&nbsp; &nbsp; 0.0.1<br />
&nbsp;* @since&nbsp; &nbsp; &nbsp; Fr Sep&nbsp; 9 08:14:45 CEST 2005<br />
&nbsp;* @code<br />
&nbsp;&nbsp; $sqlite = new SQLiteClipboard( MY_TEMP_DIR );<br />
&nbsp;&nbsp; if ( $sqlite-&gt;INSERTING = time() )<br />
&nbsp;&nbsp; &nbsp;&nbsp; var_dump( $sqlite-&gt;INSERTING );<br />
&nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp;&nbsp; echo "Nothing done!";<br />
&nbsp;* @endcode<br />
&nbsp;*/<br />
<br />
</span><span class="keyword">final class </span><span class="default">SQLiteClipboard<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp; private </span><span class="default">$SQL</span><span class="keyword">;<br />
&nbsp;&nbsp; private </span><span class="default">$DB </span><span class="keyword">= </span><span class="string">"Clipboard.sqlite"</span><span class="keyword">;<br />
&nbsp;&nbsp; private </span><span class="default">$TB </span><span class="keyword">= </span><span class="string">"Clipboard"</span><span class="keyword">;<br />
&nbsp;&nbsp; private </span><span class="default">$ID </span><span class="keyword">= </span><span class="string">"ID"</span><span class="keyword">;<br />
&nbsp;&nbsp; private </span><span class="default">$PA </span><span class="keyword">= </span><span class="string">"PARAM"</span><span class="keyword">;<br />
&nbsp;&nbsp; private </span><span class="default">$VA </span><span class="keyword">= </span><span class="string">"VAL"</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; function </span><span class="default">__construct</span><span class="keyword">( </span><span class="default">$path </span><span class="keyword">)<br />
&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">DB </span><span class="keyword">= </span><span class="default">chop</span><span class="keyword">( </span><span class="default">$path </span><span class="keyword">. </span><span class="string">"/" </span><span class="keyword">. </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">DB </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">sql_init</span><span class="keyword">();<br />
&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; private function </span><span class="default">sql_init</span><span class="keyword">()<br />
&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">SQL </span><span class="keyword">= new </span><span class="default">SQLiteDatabase</span><span class="keyword">( </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">DB</span><span class="keyword">, </span><span class="default">0660 </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; if ( ! </span><span class="default">file_exists</span><span class="keyword">( </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">DB </span><span class="keyword">) )<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; die( </span><span class="string">"Permission Denied!" </span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$q </span><span class="keyword">= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">SQL</span><span class="keyword">-&gt;</span><span class="default">query</span><span class="keyword">(</span><span class="string">"PRAGMA table_info(" </span><span class="keyword">. </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">TB </span><span class="keyword">. </span><span class="string">")"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; if ( </span><span class="default">$q</span><span class="keyword">-&gt;</span><span class="default">numRows</span><span class="keyword">() == </span><span class="default">0 </span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">SQL</span><span class="keyword">-&gt;</span><span class="default">query</span><span class="keyword">( </span><span class="string">"CREATE TABLE " </span><span class="keyword">. </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">TB </span><span class="keyword">. </span><span class="string">" ( " </span><span class="keyword">. </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">ID </span><span class="keyword">. </span><span class="string">" INTEGER PRIMARY KEY, " </span><span class="keyword">. </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">PA </span><span class="keyword">. </span><span class="string">" CHAR(255), " </span><span class="keyword">. </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">VA </span><span class="keyword">. </span><span class="string">" CHAR(255) );" </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; private function </span><span class="default">sql_check</span><span class="keyword">( </span><span class="default">$p </span><span class="keyword">)<br />
&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$o </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$q </span><span class="keyword">= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">SQL</span><span class="keyword">-&gt;</span><span class="default">query</span><span class="keyword">( </span><span class="string">"SELECT " </span><span class="keyword">. </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">ID </span><span class="keyword">. </span><span class="string">" FROM " </span><span class="keyword">. </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">TB </span><span class="keyword">. </span><span class="string">" WHERE ( " </span><span class="keyword">. </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">PA </span><span class="keyword">. </span><span class="string">"='</span><span class="default">$p</span><span class="string">' ) ORDER BY " </span><span class="keyword">. </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">ID </span><span class="keyword">. </span><span class="string">" LIMIT 1" </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; while( </span><span class="default">$q</span><span class="keyword">-&gt;</span><span class="default">valid</span><span class="keyword">() ) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$r </span><span class="keyword">= </span><span class="default">$q</span><span class="keyword">-&gt;</span><span class="default">current</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$r</span><span class="keyword">[</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">ID</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$q</span><span class="keyword">-&gt;</span><span class="default">next</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; public function </span><span class="default">__get</span><span class="keyword">( </span><span class="default">$p </span><span class="keyword">)<br />
&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$q </span><span class="keyword">= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">SQL</span><span class="keyword">-&gt;</span><span class="default">query</span><span class="keyword">( </span><span class="string">"SELECT " </span><span class="keyword">. </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">VA </span><span class="keyword">. </span><span class="string">" FROM " </span><span class="keyword">. </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">TB </span><span class="keyword">. </span><span class="string">" WHERE ( " </span><span class="keyword">. </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">PA </span><span class="keyword">. </span><span class="string">"='</span><span class="default">$p</span><span class="string">' ) ORDER BY " </span><span class="keyword">. </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">ID </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; while( </span><span class="default">$q</span><span class="keyword">-&gt;</span><span class="default">valid</span><span class="keyword">() ) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$r </span><span class="keyword">= </span><span class="default">$q</span><span class="keyword">-&gt;</span><span class="default">current</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$o </span><span class="keyword">= </span><span class="default">$r</span><span class="keyword">[</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">VA</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$q</span><span class="keyword">-&gt;</span><span class="default">next</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp;&nbsp; return </span><span class="default">$o</span><span class="keyword">;<br />
&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; public function </span><span class="default">__set</span><span class="keyword">( </span><span class="default">$p</span><span class="keyword">, </span><span class="default">$v </span><span class="keyword">)<br />
&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp;&nbsp; if ( </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">sql_check</span><span class="keyword">( </span><span class="default">$p </span><span class="keyword">) &amp;&amp; ! empty( </span><span class="default">$v </span><span class="keyword">) )<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">SQL</span><span class="keyword">-&gt;</span><span class="default">query</span><span class="keyword">( </span><span class="string">"UPDATE " </span><span class="keyword">. </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">TB </span><span class="keyword">. </span><span class="string">" SET " </span><span class="keyword">. </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">VA </span><span class="keyword">. </span><span class="string">"='</span><span class="default">$v</span><span class="string">' WHERE ( " </span><span class="keyword">. </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">PA </span><span class="keyword">. </span><span class="string">"='</span><span class="default">$p</span><span class="string">' );" </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; elseif&nbsp; ( ! </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">sql_check</span><span class="keyword">( </span><span class="default">$p </span><span class="keyword">) &amp;&amp; ! empty( </span><span class="default">$v </span><span class="keyword">) )<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">SQL</span><span class="keyword">-&gt;</span><span class="default">query</span><span class="keyword">( </span><span class="string">"INSERT INTO " </span><span class="keyword">. </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">TB </span><span class="keyword">. </span><span class="string">" ( " </span><span class="keyword">. </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">PA </span><span class="keyword">. </span><span class="string">", " </span><span class="keyword">. </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">VA </span><span class="keyword">. </span><span class="string">" ) VALUES ('</span><span class="default">$p</span><span class="string">', '</span><span class="default">$v</span><span class="string">' );" </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; elseif&nbsp; ( </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">sql_check</span><span class="keyword">( </span><span class="default">$p </span><span class="keyword">) &amp;&amp; empty( </span><span class="default">$v </span><span class="keyword">) )<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">SQL</span><span class="keyword">-&gt;</span><span class="default">query</span><span class="keyword">( </span><span class="string">"DELETE FROM " </span><span class="keyword">. </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">TB </span><span class="keyword">. </span><span class="string">" WHERE ( " </span><span class="keyword">. </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">PA </span><span class="keyword">. </span><span class="string">"='</span><span class="default">$p</span><span class="string">' );" </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; }<br />
<br />
} </span><span class="comment">// end Class<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="56380""></a>
  <div class="note">
   
   <a href="#56380" class="date">31-Aug-2005 04:21</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A function to check whether a table exists:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">sqlite_table_exists</span><span class="keyword">(&amp;</span><span class="default">$sqlite</span><span class="keyword">, </span><span class="default">$table</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">$sqlite</span><span class="keyword">-&gt;</span><span class="default">query</span><span class="keyword">(</span><span class="string">"SELECT name FROM sqlite_master WHERE type='table' AND name='</span><span class="default">$table</span><span class="string">'"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$result</span><span class="keyword">-&gt;</span><span class="default">numRows</span><span class="keyword">() &gt; </span><span class="default">0</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="52001""></a>
  <div class="note">
   <strong class="user">bart at mediawave dot nl</strong>
   <a href="#52001" class="date">18-Apr-2005 07:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
SELECT tablename.columnname FROM table;<br />
<br />
will cause SQLite to return an array having tablename.field_name as the array index. (e.g. $result['tablename.field_name'])<br />
<br />
To let SQLite return an array having only field_name as the array index (e.g. $result['field_name']) you can issue a 'PRAGMA short_column_names = 1' query:<br />
<br />
sqlite_query($connection_id, 'PRAGMA short_column_names = 1');<br />
<br />
This behaviour is more consistent with the other database extensions.<br />
<br />
For a full list of all pragmas visit: <a href="http://sqlite.org/pragma.html" rel="nofollow" target="_blank">http://sqlite.org/pragma.html</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="49837""></a>
  <div class="note">
   <strong class="user">dotwho at NOSPAM dot mac dot com</strong>
   <a href="#49837" class="date">09-Feb-2005 06:03</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This may have been obvious to others, but I had a tough time finding the info.<br />
<br />
The default location for the actual database file is the same location of the php doc that created the database. You can alter this behavior by specifying the full path in the creation call:<br />
<br />
&lt;php<br />
$db = sqlite_open("/absolute/path/my_sqlite.db");<br />
?&gt;<br />
<br />
Note that if you used the default location, the db file may be served up by the webserver if it is in a the http document path. This is obviously a security risk that should be avoided.<br />
<br />
//Max</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="49094""></a>
  <div class="note">
   <strong class="user">hunreal+php at gmail dot com</strong>
   <a href="#49094" class="date">16-Jan-2005 08:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Check the db/table if exist<br />
<br />
$db_name='db';<br />
$db=new SQLiteDatabase($db_name, 0666, $error);<br />
if ($error) exit($error);<br />
$q=$db-&gt;query("PRAGMA table_info(test)");<br />
if ($q-&gt;numRows()!=2) {<br />
&nbsp;&nbsp;&nbsp; if (!@$db-&gt;queryexec("<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; CREATE TABLE test (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; id INTEGER NOT NULL PRIMARY KEY,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; text VARCHAR ( 255 ) NOT NULL<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; )")<br />
&nbsp;&nbsp;&nbsp; ) exit ("Create SQLite Database Error\n");<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="47442""></a>
  <div class="note">
   <strong class="user">nicolas dot toniazzi at free dot fr</strong>
   <a href="#47442" class="date">16-Nov-2004 07:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The same in 3 lines.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">sqlite_table_exists</span><span class="keyword">(</span><span class="default">$db</span><span class="keyword">,</span><span class="default">$mytable</span><span class="keyword">) {<br />
&nbsp; </span><span class="comment">/* counts the tables that match the name given */<br />
&nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">sqlite_query</span><span class="keyword">(</span><span class="default">$db</span><span class="keyword">,</span><span class="string">"SELECT COUNT(*) FROM sqlite_master WHERE type='table' AND name='</span><span class="default">$mytable</span><span class="string">'"</span><span class="keyword">);<br />
<br />
&nbsp; </span><span class="comment">/* casts into integer */<br />
&nbsp; </span><span class="default">$count </span><span class="keyword">= </span><span class="default">intval</span><span class="keyword">(</span><span class="default">sqlite_fetch_single</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">));<br />
<br />
&nbsp; </span><span class="comment">/* returns true or false */<br />
&nbsp; </span><span class="keyword">return </span><span class="default">$count </span><span class="keyword">&gt; </span><span class="default">0</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="46747""></a>
  <div class="note">
   <strong class="user">artooro at gmail dot com</strong>
   <a href="#46747" class="date">21-Oct-2004 06:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you need to check if a table exists, you can use a function like this:<br />
<span class="default">&lt;?php<br />
</span><span class="comment">//Returns TRUE if table exists and FALSE otherwise<br />
//&nbsp; $mytable = table you want to check for<br />
<br />
</span><span class="keyword">function </span><span class="default">sqlite_table_exists</span><span class="keyword">(</span><span class="default">$mytable</span><span class="keyword">) {<br />
</span><span class="default">$db </span><span class="keyword">= </span><span class="default">sqlite_open</span><span class="keyword">(</span><span class="string">'mydb.sqlite'</span><span class="keyword">, </span><span class="default">0666</span><span class="keyword">, </span><span class="default">$sqliteerror</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$query </span><span class="keyword">= </span><span class="default">sqlite_query</span><span class="keyword">(</span><span class="default">$db</span><span class="keyword">, </span><span class="string">"SELECT name FROM sqlite_master WHERE type='table'"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$tables </span><span class="keyword">= </span><span class="default">sqlite_fetch_array</span><span class="keyword">(</span><span class="default">$query</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$tables </span><span class="keyword">!= </span><span class="string">''</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$tables </span><span class="keyword">as </span><span class="default">$table</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$table </span><span class="keyword">== </span><span class="default">$mytable</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return(</span><span class="string">"TRUE"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return(</span><span class="string">"FALSE"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; else {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return(</span><span class="string">"FALSE"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
A function like this could be used to create the table if it's not already created, etc.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="46651""></a>
  <div class="note">
   <strong class="user">j-pieper at NOSPAM dot web dot de</strong>
   <a href="#46651" class="date">19-Oct-2004 03:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to create a table in your database which should have an integer primary key, you cannot declare the row like this:
<br />

<br />
id int(16) primary key
<br />
or
<br />
id integer(16) primary key
<br />

<br />
When you declare it like this it could be that the id isn't auto increment. You have to declare it like this:
<br />

<br />
id integer primary key</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="44084""></a>
  <div class="note">
   <strong class="user">david at acz dot org</strong>
   <a href="#44084" class="date">14-Jul-2004 06:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You can use the PECL SQLite extension as a static (built into the executable) PHP module with PHP 4.&nbsp; Download the extension tarball and extract it.&nbsp; Move it to ext/sqlite in the PHP source directory.&nbsp; Delete configure and run buildconf.<br />
<br />
Example below.&nbsp; Change version numbers as appropriate:<br />
<br />
$ tar -xzvf php-4.3.8.tar.gz<br />
$ tar -xzvf SQLite-1.0.2.tgz<br />
$ mv SQLite-1.0.2 php-4.3.8/ext/sqlite<br />
$ cd php-4.3.8<br />
$ rm configure<br />
$ ./buildconf --force<br />
<br />
If everything worked, then you should now be able to build PHP with SQLite support:<br />
<br />
$ ./configure --help | grep sqlite<br />
&nbsp; --with-sqlite&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Include sqlite support<br />
<br />
I think this method will work for other PECL extensions.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="42358""></a>
  <div class="note">
   
   <a href="#42358" class="date">13-May-2004 07:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
PHP5 compile time option --enable-sqlite-utf8<br />
<br />
See the note about buggy utf-8 support <a href="http://uk.php.net/manual/en/function.sqlite-libencoding.php" rel="nofollow" target="_blank">http://uk.php.net/manual/en/function.sqlite-libencoding.php</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="41547""></a>
  <div class="note">
   <strong class="user">csaba at alum dot mit dot edu</strong>
   <a href="#41547" class="date">14-Apr-2004 08:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to get the list of all the columns in a table (and associated information), PRAGMA is helpful (see <a href="http://sqlite.org/lang.html#pragma for details" rel="nofollow" target="_blank">http://sqlite.org/lang.html#pragma for details</a>):<br />
<br />
if (!($db=@sqlite_open("delme.db",0666,$sqliteerror))) die("Can't open database");<br />
@sqlite_query ($db, 'DROP TABLE foo;');<br />
sqlite_query($db, "CREATE TABLE foo (bar INTEGER PRIMARY KEY, baz VARCHAR(5));");<br />
$aTableStruct = sqlite_array_query($db, "PRAGMA table_info('foo');", SQLITE_ASSOC);<br />
for ($i=0,$aNames=array();$i&lt;sizeof($aTableStruct);++$i)<br />
&nbsp;&nbsp;&nbsp; $aNames[]=$aTableStruct[$i]['name'];<br />
var_dump ($aNames);&nbsp; &nbsp; // =&gt; ['bar', 'baz']<br />
<br />
Note also that if you want to use more than one database in the same connection using "ATTACH DATABASE ..." then you should supply the complete database filename.<br />
<br />
Csaba Gabor</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="41141""></a>
  <div class="note">
   <strong class="user">cricket at djcricket dot com</strong>
   <a href="#41141" class="date">31-Mar-2004 09:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To elaborate on vpupkin at comcast dot net's post about the INSERT query problem, you will be unable to execute any manipulation queries (INSERT/UPDATE/DELETE/ect) on the SQLite database file unless the directory the SQLite database file resides in is writable by the webserver.<br />
<br />
The reason for this is because SQLite needs to write a lock file to the hard drive. After a processes finishes writting, it deletes the lock file. Other processes check for the lock file before writting to the SQLite database file and if present, delay writting until the lock file is no longer present.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="39882""></a>
  <div class="note">
   <strong class="user">jlsalinas at spamsucks dot gmx dot net</strong>
   <a href="#39882" class="date">13-Feb-2004 06:22</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For those looking for a function similar to mysql_list_tables, here you have:<br />
<br />
if (! function_exists ('sqlite_list_tables')) {<br />
&nbsp;&nbsp;&nbsp; function sqlite_list_tables (&amp;$dblink) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $tables = array ();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $sql = "SELECT name FROM sqlite_master WHERE (type = 'table')";<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ($res = sqlite_query ($dblink, $sql)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; while (sqlite_has_more($res)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $tables[] = sqlite_fetch_single($res);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return $tables;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
And a related funtion, to test if a given table exists:<br />
<br />
if (! function_exists ('sqlite_table_exists')) {<br />
&nbsp;&nbsp;&nbsp; function sqlite_table_exists (&amp;$dblink, $table) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $sql = "SELECT count(name) FROM sqlite_master WHERE ((type = 'table') and (name = '$table'))";<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ($res = sqlite_query ($dblink, $sql)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return sqlite_fetch_single($res) &gt; 0;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return false; // or throw exception<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
Of course it would be preferable to have these functions included in the library, to avoid potential changes internal to SQLite; but we'll have to stick to this method until then.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="37875""></a>
  <div class="note">
   <strong class="user">vpupkin at comcast dot net</strong>
   <a href="#37875" class="date">30-Nov-2003 08:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
if you are going to send INSERT queries, you will need to make the folder, where you put your "file.db", writable by a web server user, otherwise you'll receive error message - "Unable to open database . . . ". File permissions are not enough (phpinfo - SQLite Lib 2.8.3)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="37655""></a>
  <div class="note">
   <strong class="user">Minots Estich &lt;minots  at  D0X  dot  de&gt;</strong>
   <a href="#37655" class="date">21-Nov-2003 06:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you gone in trouble while/with installation of sqlite,
<br />
you can try the installation steps I've done at
<br />
RedHat9 with PHP4.3.4 and Apache 1.3.28
<br />
via the Linux shell:
<br />

<br />
# wget <a href="http://pecl.php.net/get/SQLite-1.0.tgz" rel="nofollow" target="_blank">http://pecl.php.net/get/SQLite-1.0.tgz</a>
<br />
# tar xzf SQLite-1.0.tgz
<br />
# cd sqlite
<br />
# export PHP_PREFIX="/usr"
<br />
# $PHP_PREFIX/bin/phpize
<br />
# ./configure
<br />
# make
<br />
# make install
<br />

<br />
After that add following to php.ini and restart Apache:
<br />

<br />
[sqlite]
<br />
extension="sqlite.so"</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
