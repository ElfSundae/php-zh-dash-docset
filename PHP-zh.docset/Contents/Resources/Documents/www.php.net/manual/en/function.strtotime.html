<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>将任何字符串的日期时间描述解析为 Unix 时间戳</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.strptime.html">? strptime</a></li>
      <li style="float: right;"><a href="function.time.html">time ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.datetime.html">Date/Time 函数</a></li>
    <li>将任何字符串的日期时间描述解析为 Unix 时间戳</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.strtotime" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">strtotime</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">strtotime</span> &mdash; <span class="dc-title">将任何字符串的日期时间描述解析为 Unix 时间戳</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.strtotime-description">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>strtotime</strong></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$datetime</code></span>, <span class="methodparam"><span class="type">int</span> <code class="parameter">$now</code><span class="initializer"> = time()</span></span>): <span class="type">int</span></div>

  <p class="simpara">
   本函数预期接受一个包含美国英语日期格式的字符串并尝试将其解析为
   Unix 时间戳（自 January 1 1970 00:00:00 UTC 起的秒数），其值相对于
   <code class="parameter">now</code> 参数给出的时间，如果没有提供
   <code class="parameter">now</code> 参数则用系统当前时间。
  </p>
  <div class="warning"><strong class="warning">Warning</strong>
  <p class="para">
    本函数返回的 Unix 时间戳不包含时区信息，为了实现对 &quot;日期/时间&quot;
    进行计算，推荐使用功能更强大的
    <span class="classname"><a href="class.datetimeimmutable.html" class="classname">DateTimeImmutable</a></span> 类。
   </p>
  </div>
  <p class="para">
    本函数将使用 <var class="envar">TZ</var> 环境变量（如果有的话）来计算时间戳。自
    PHP 5.1.0 起有更容易的方法来定义时区用于所有的日期／时间函数。此过程在
    <span class="function"><a href="function.date-default-timezone-get.html" class="function">date_default_timezone_get()</a></span> 函数页面中有说明。
  </p>
 </div>




 <div class="refsect1 parameters" id="refsect1-function.strtotime-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>
    
     <dt>
<code class="parameter">datetime</code></dt>

     <dd>

      <p class="para">日期/时间字符串。正确格式的说明详见 <a href="datetime.formats.html" class="link">日期与时间格式</a>。</p>
     </dd>

    
    
     <dt>
<code class="parameter">now</code></dt>

     <dd>

      <p class="para">
       用来计算返回值的时间戳。
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 
 <div class="refsect1 returnvalues" id="refsect1-function.strtotime-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   成功则返回时间戳，否则返回 <strong><code>false</code></strong>。在 PHP 5.1.0
   之前本函数在失败时返回 <code class="literal">-1</code>。
  </p>
 </div>

 
 <div class="refsect1 errors" id="refsect1-function.strtotime-errors">
  <h3 class="title">错误／异常</h3>
   
   <p class="para">
在每次调用日期/时间函数时，如果时区无效则会引发 <strong><code>E_NOTICE</code></strong> 错误。参见
<span class="function"><a href="function.date-default-timezone-set.html" class="function">date_default_timezone_set()</a></span>。</p>
 
 </div>


 <div class="refsect1 examples" id="refsect1-function.strtotime-examples">
  <h3 class="title">范例</h3>
  <p class="para">
   <div class="example" id="example-2092">
    <p><strong>Example #1 <span class="function"><strong>strtotime()</strong></span> 例子</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">strtotime</span><span style="color: #007700">(</span><span style="color: #DD0000">"now"</span><span style="color: #007700">),&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">strtotime</span><span style="color: #007700">(</span><span style="color: #DD0000">"10&nbsp;September&nbsp;2000"</span><span style="color: #007700">),&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">strtotime</span><span style="color: #007700">(</span><span style="color: #DD0000">"+1&nbsp;day"</span><span style="color: #007700">),&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">strtotime</span><span style="color: #007700">(</span><span style="color: #DD0000">"+1&nbsp;week"</span><span style="color: #007700">),&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">strtotime</span><span style="color: #007700">(</span><span style="color: #DD0000">"+1&nbsp;week&nbsp;2&nbsp;days&nbsp;4&nbsp;hours&nbsp;2&nbsp;seconds"</span><span style="color: #007700">),&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">strtotime</span><span style="color: #007700">(</span><span style="color: #DD0000">"next&nbsp;Thursday"</span><span style="color: #007700">),&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">strtotime</span><span style="color: #007700">(</span><span style="color: #DD0000">"last&nbsp;Monday"</span><span style="color: #007700">),&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
  <p class="para">
   <div class="example" id="example-2093">
    <p><strong>Example #2 失败检查</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$str&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'Not&nbsp;Good'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;PHP&nbsp;5.1.0&nbsp;之前的版本中和应该改成和&nbsp;-1&nbsp;进行比较<br /></span><span style="color: #007700">if&nbsp;((</span><span style="color: #0000BB">$timestamp&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">strtotime</span><span style="color: #007700">(</span><span style="color: #0000BB">$str</span><span style="color: #007700">))&nbsp;===&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"The&nbsp;string&nbsp;(</span><span style="color: #0000BB">$str</span><span style="color: #DD0000">)&nbsp;is&nbsp;bogus"</span><span style="color: #007700">;<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$str</span><span style="color: #DD0000">&nbsp;==&nbsp;"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">date</span><span style="color: #007700">(</span><span style="color: #DD0000">'l&nbsp;dS&nbsp;of&nbsp;F&nbsp;Y&nbsp;h:i:s&nbsp;A'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$timestamp</span><span style="color: #007700">);<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.strtotime-notes">
  <h3 class="title">注释</h3>
   <blockquote class="note"><p><strong class="note">Note</strong>: 
   <p class="para">
    如果给定的年份是两位数字的格式，则其值 0-69 表示 2000-2069，70-100
    表示 1970-2000。 See the notes
    below for possible differences on 32bit systems (possible dates might end on 
    2038-01-19 03:14:07).
   </p>
  </p></blockquote>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <p class="para">
    有效的时间戳通常从 Fri, 13 Dec
    1901 20:45:54 UTC 到 Tue, 19 Jan 2038 03:14:07 UTC（对应于 32
    位有符号整数的最小值和最大值）。
   </p>
   
   <p class="para">
    PHP 5.1.0 之前，不是所有的平台都支持负的时间戳，那么日记范围就被限制为不能早于
    Unix 纪元。这意味着在 1970 年 1 月 1 日之前的日期将不能用在 Windows，一些
    Linux 版本，以及几个其它的操作系统中。
   </p>

   <p class="para">
    在 64 位的 PHP 版本中，时间戳的有效范围实际上是无限的，因为
    64 位可以覆盖最多
    2930 亿年的范围。
   </p>
  </p></blockquote>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <p class="para">
    不同的分隔符，比如 <code class="literal">m/d/y</code> 或 <code class="literal">d-m-y</code>
    会影响到解析结果：若以反斜线 (<code class="literal">/</code>) 为分隔，将会做为美洲日期
    <code class="literal">m/d/y</code> 来解析；而当分隔符为短横线 (<code class="literal">-</code>) 或点
    (<code class="literal">.</code>) 时，则将做为欧洲日期 <code class="literal">d-m-y</code>
    格式来解析。当年份只有两位数字，且分隔符为短横线 (<code class="literal">-</code>时，日期字符串将被解析为
    <code class="literal">y-m-d</code> 格式。
   </p>
   <p class="para">
    为了避免潜在的歧义，最好使用 ISO 8601 标准格式
    (<code class="literal">YYYY-MM-DD</code>) 或
    <span class="methodname"><a href="datetime.createfromformat.html" class="methodname">DateTime::createFromFormat()</a></span> 来表达。
   </p>
  </p></blockquote>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <p class="para">
    不建议使用此函数对日期进行数学运算。在 PHP 5.3 及以后版本中，推荐使用
    <span class="methodname"><a href="datetime.add.html" class="methodname">DateTime::add()</a></span> 和
    <span class="methodname"><a href="datetime.sub.html" class="methodname">DateTime::sub()</a></span> 函数，PHP 5.2 中可以使用
    <span class="methodname"><a href="datetime.modify.html" class="methodname">DateTime::modify()</a></span>。
   </p>
  </p></blockquote>
 </div>


<div class="refsect1 seealso" id="refsect1-function.strtotime-seealso">
  <h3 class="title">参见</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><a href="datetime.formats.html" class="link">日期时间格式</a></li>
    <li class="member"><span class="methodname"><a href="datetime.createfromformat.html" class="methodname" rel="rdfs-seeAlso">DateTime::createFromFormat()</a> - 根据给定的格式解析日期时间字符串</span></li>
    <li class="member"><span class="function"><a href="function.checkdate.html" class="function" rel="rdfs-seeAlso">checkdate()</a> - 验证一个格里高里日期</span></li>
    <li class="member"><span class="function"><a href="function.strptime.html" class="function" rel="rdfs-seeAlso">strptime()</a> - 解析由 strftime 生成的日期／时间</span></li>
   </ul>
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="127162""></a>
  <div class="note">
   <strong class="user">phpmanual at NOSPAM dot headbank dot co dot uk</strong>
   <a href="#127162" class="date">08-Jun-2022 07:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For those still using php versions &lt; 8.0.0, it may help to know that explicitly supplying the 2nd argument $baseTime as NULL does *not* have the same effect as omitting it.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">adjustedTime</span><span class="keyword">(</span><span class="default">$adjustment</span><span class="keyword">, </span><span class="default">$baseTime </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">) {<br />
&nbsp; echo </span><span class="default">date</span><span class="keyword">(</span><span class="string">'Y-m-d H:i:s'</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$adjustment</span><span class="keyword">, </span><span class="default">$baseTime</span><span class="keyword">));<br />
}<br />
<br />
</span><span class="default">adjustTime</span><span class="keyword">(</span><span class="string">'+1 day'</span><span class="keyword">);<br />
<br />
</span><span class="comment">//1970-01-02 01:00:00<br />
</span><span class="default">?&gt;<br />
</span>Supplying NULL is equivalent to supplying int(0).<br />
<br />
So if you wrap strtotime() in this manner with a nullable $baseTime, make sure in your code to inspect $baseTime and supply time() instead of NULL, or call strtotime() without it in that case.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="125608""></a>
  <div class="note">
   <strong class="user">Black Hat Rocker</strong>
   <a href="#125608" class="date">17-Dec-2020 04:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
*The case 30/11/-0001* <br />
With the following note, I will report a particular behaviour of function strtotime() I want to call it ?The case 30/11/-0001?.&nbsp; It is very common and known but never reported&nbsp; here. Passing the input parameter '0000-00-00' to the function it returns a wrong and not supported timestamp value. It can be seen with these statement<br />
<br />
<span class="default">&lt;?php </span><span class="keyword">echo </span><span class="default">date</span><span class="keyword">(</span><span class="string">'d/m/Y'</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'0000-00-00'</span><span class="keyword">)); </span><span class="comment">// returns 30/11/-0001&nbsp; </span><span class="default">?&gt;<br />
</span><br />
It seems there's no way to avoid that, but it is possibile to do workaround with if/3operator clausole simply as follow<br />
<br />
<span class="default">&lt;?php strcmp</span><span class="keyword">(</span><span class="default">$date </span><span class="string">"0000-00-00"</span><span class="keyword">)? </span><span class="default">date</span><span class="keyword">(</span><span class="string">'d/m/Y'</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$date</span><span class="keyword">) ) :&nbsp; </span><span class="default">date</span><span class="keyword">(</span><span class="string">'d/m/Y'</span><span class="keyword">) </span><span class="default">?&gt;<br />
</span><br />
Otherwise a simple way is to avoid to store to the DB the value '0000-00-00' and insert a default data value (i.e. with the mySQL function NOW() which sets the date on today's date)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="124988""></a>
  <div class="note">
   <strong class="user">marlonsouza90 at hotmail dot com</strong>
   <a href="#124988" class="date">08-May-2020 11:08</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
strtotime();<br />
<br />
exemplo strtotime(date("Y-m-d") . "+1month");<br />
<br />
A strtotime também funciona quando concatenamos strings,</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="123402""></a>
  <div class="note">
   <strong class="user">mirco dot babin at gmail dot com</strong>
   <a href="#123402" class="date">06-Dec-2018 09:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
One important thing you should remember is that the timestamp value returned by time() is time-zone agnostic and gets the number of seconds since 1 January 1970 at 00:00:00 UTC. This means that at a particular point in time, this function will return the same value in the US, Europe, India, Japan, ...<br />
<br />
strtotime() will convert a string WITHOUT a timezone indication as if the string is a time in the default timezone ( date_default_timezone_set() ). So converting a UTC time like '2018-12-06T09:04:55' with strtotime() actually yields a wrong result. In this case use:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">UTCdatestringToTime</span><span class="keyword">(</span><span class="default">$utcdatestring</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$tz </span><span class="keyword">= </span><span class="default">date_default_timezone_get</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">date_default_timezone_set</span><span class="keyword">(</span><span class="string">'UTC'</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$utcdatestring</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">date_default_timezone_set</span><span class="keyword">(</span><span class="default">$tz</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$result</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Test:<br />
<span class="default">&lt;?php<br />
$tz </span><span class="keyword">= </span><span class="string">'Europe/Amsterdam'</span><span class="keyword">;<br />
</span><span class="default">$utctime </span><span class="keyword">= </span><span class="string">'2018-12-06T09:04:55'</span><span class="keyword">;<br />
<br />
if (!</span><span class="default">date_default_timezone_set</span><span class="keyword">(</span><span class="default">$tz</span><span class="keyword">)) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">WriteLine</span><span class="keyword">(</span><span class="string">'Setting default timezone to ' </span><span class="keyword">. </span><span class="default">$tz </span><span class="keyword">. </span><span class="string">' failed'</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; die;<br />
}<br />
<br />
</span><span class="default">WriteLine</span><span class="keyword">();<br />
</span><span class="default">WriteLine</span><span class="keyword">(</span><span class="string">'Default timezone set to ' </span><span class="keyword">. </span><span class="default">$tz</span><span class="keyword">);<br />
</span><span class="default">WriteLine</span><span class="keyword">(</span><span class="string">'UTC time: ' </span><span class="keyword">. </span><span class="default">$utctime</span><span class="keyword">);<br />
</span><span class="default">WriteLine</span><span class="keyword">();<br />
<br />
</span><span class="default">WriteLine</span><span class="keyword">(</span><span class="string">'[ UTCdatestringToTime ]'</span><span class="keyword">);<br />
</span><span class="default">$phptime </span><span class="keyword">= </span><span class="default">UTCdatestringToTime</span><span class="keyword">(</span><span class="default">$utctime</span><span class="keyword">);<br />
</span><span class="default">WriteLine</span><span class="keyword">(</span><span class="string">'PHP time: ' </span><span class="keyword">. </span><span class="default">$phptime</span><span class="keyword">);<br />
</span><span class="default">WriteTime</span><span class="keyword">(</span><span class="default">$phptime</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">);<br />
</span><span class="default">WriteTime</span><span class="keyword">(</span><span class="default">$phptime</span><span class="keyword">, </span><span class="default">false</span><span class="keyword">);<br />
</span><span class="default">WriteLine</span><span class="keyword">();<br />
<br />
</span><span class="default">WriteLine</span><span class="keyword">(</span><span class="string">'-------------------------------------------------------------------------------'</span><span class="keyword">);<br />
</span><span class="default">WriteLine</span><span class="keyword">(</span><span class="string">'[ strtotime($utctime) - Converts $utctime as if it was in timezone ' </span><span class="keyword">. </span><span class="default">$tz </span><span class="keyword">. </span><span class="string">' because the string has no timezone specification ]'</span><span class="keyword">);<br />
</span><span class="default">$phptime </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$utctime</span><span class="keyword">); </span><span class="comment">//Seconds since the unix epoch<br />
</span><span class="default">WriteLine</span><span class="keyword">(</span><span class="string">'PHP time: ' </span><span class="keyword">. </span><span class="default">$phptime</span><span class="keyword">);<br />
</span><span class="default">WriteTime</span><span class="keyword">(</span><span class="default">$phptime</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">);<br />
</span><span class="default">WriteTime</span><span class="keyword">(</span><span class="default">$phptime</span><span class="keyword">, </span><span class="default">false</span><span class="keyword">);<br />
<br />
function </span><span class="default">WriteLine</span><span class="keyword">(</span><span class="default">$text </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">) <br />
{<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">$text </span><span class="keyword">. </span><span class="string">"\r\n"</span><span class="keyword">;<br />
}<br />
<br />
function </span><span class="default">WriteTime</span><span class="keyword">(</span><span class="default">$time</span><span class="keyword">, </span><span class="default">bool $asUTC</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$tz </span><span class="keyword">= </span><span class="default">date_default_timezone_get</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$asUTC</span><span class="keyword">) </span><span class="default">date_default_timezone_set</span><span class="keyword">(</span><span class="string">'UTC'</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">WriteLine</span><span class="keyword">(</span><span class="string">'--&gt; (' </span><span class="keyword">. </span><span class="default">date_default_timezone_get</span><span class="keyword">() . </span><span class="string">') ' </span><span class="keyword">. </span><span class="default">date</span><span class="keyword">(</span><span class="string">'Y-m-d H:i:s'</span><span class="keyword">, </span><span class="default">$time</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$asUTC</span><span class="keyword">) </span><span class="default">date_default_timezone_set</span><span class="keyword">(</span><span class="default">$tz</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Test output:<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">Default </span><span class="default">timezone set to Europe</span><span class="keyword">/</span><span class="default">Amsterdam<br />
UTC time</span><span class="keyword">: </span><span class="default">2018</span><span class="keyword">-</span><span class="default">12</span><span class="keyword">-</span><span class="default">06T09</span><span class="keyword">:</span><span class="default">04</span><span class="keyword">:</span><span class="default">55<br />
<br />
</span><span class="keyword">[ </span><span class="default">UTCdatestringToTime </span><span class="keyword">]<br />
</span><span class="default">PHP time</span><span class="keyword">: </span><span class="default">1544087095<br />
</span><span class="keyword">--&gt; (</span><span class="default">UTC</span><span class="keyword">) </span><span class="default">2018</span><span class="keyword">-</span><span class="default">12</span><span class="keyword">-</span><span class="default">06 </span><span class="keyword">09:</span><span class="default">04</span><span class="keyword">:</span><span class="default">55<br />
</span><span class="keyword">--&gt; (</span><span class="default">Europe</span><span class="keyword">/</span><span class="default">Amsterdam</span><span class="keyword">) </span><span class="default">2018</span><span class="keyword">-</span><span class="default">12</span><span class="keyword">-</span><span class="default">06 10</span><span class="keyword">:</span><span class="default">04</span><span class="keyword">:</span><span class="default">55<br />
<br />
</span><span class="keyword">-------------------------------------------------------------------------------<br />
[ </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$utctime</span><span class="keyword">) - </span><span class="default">Converts $utctime </span><span class="keyword">as if </span><span class="default">it was in timezone Europe</span><span class="keyword">/</span><span class="default">Amsterdam because the string has no timezone specification </span><span class="keyword">]<br />
</span><span class="default">PHP time</span><span class="keyword">: </span><span class="default">1544083495<br />
</span><span class="keyword">--&gt; (</span><span class="default">UTC</span><span class="keyword">) </span><span class="default">2018</span><span class="keyword">-</span><span class="default">12</span><span class="keyword">-</span><span class="default">06 </span><span class="keyword">08:</span><span class="default">04</span><span class="keyword">:</span><span class="default">55<br />
</span><span class="keyword">--&gt; (</span><span class="default">Europe</span><span class="keyword">/</span><span class="default">Amsterdam</span><span class="keyword">) </span><span class="default">2018</span><span class="keyword">-</span><span class="default">12</span><span class="keyword">-</span><span class="default">06 </span><span class="keyword">09:</span><span class="default">04</span><span class="keyword">:</span><span class="default">55<br />
</span><span class="keyword">*/<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="122937""></a>
  <div class="note">
   <strong class="user">shannon</strong>
   <a href="#122937" class="date">13-Jul-2018 06:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I tried using sams most popular example but got incorrect results.<br />
<br />
Incorrect:<br />
<span class="default">&lt;?php <br />
</span><span class="keyword">echo </span><span class="default">date</span><span class="keyword">(</span><span class="string">"jS F, Y"</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"11.12.10"</span><span class="keyword">)); <br />
</span><span class="comment">// outputs 10th December, 2011 <br />
<br />
</span><span class="keyword">echo </span><span class="default">date</span><span class="keyword">(</span><span class="string">"jS F, Y"</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"11/12/10"</span><span class="keyword">)); <br />
</span><span class="comment">// outputs 12th November, 2010 <br />
<br />
</span><span class="keyword">echo </span><span class="default">date</span><span class="keyword">(</span><span class="string">"jS F, Y"</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"11-12-10"</span><span class="keyword">)); <br />
</span><span class="comment">// outputs 11th December, 2010&nbsp; <br />
</span><span class="default">?&gt;</span> <br />
<br />
Then I read the notes which said:<br />
if the separator is a slash (/), then the American m/d/y is assumed; whereas if the separator is a dash (-) or a dot (.), then the European d-m-y format is assumed. ***If, however, the year is given in a two digit format and the separator is a dash (-), the date string is parsed as y-m-d.***<br />
<br />
Therefore, the above code does not work on 2 digit years - only 4 digit years</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="122802""></a>
  <div class="note">
   <strong class="user">vlad dot savitsky at gmail dot com</strong>
   <a href="#122802" class="date">05-Jun-2018 07:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Little bit unexpected behaviour for me. Small integers treats like time.<br />
strtotime(0) =&gt; false,<br />
strtotime(1) =&gt; false,<br />
strtotime(12) =&gt; false,<br />
strtotime(123) =&gt; false,<br />
strtotime(1234) =&gt; 1528194840, //Time '12:34'<br />
strtotime(12345) =&gt; false,<br />
strtotime(123456) =&gt; 1528194896, // Time '12:34:56'<br />
strtotime(1234567) =&gt; false,<br />
strtotime(12345678) =&gt; false,<br />
strtotime(123456789) =&gt; false,</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="122356""></a>
  <div class="note">
   <strong class="user">Sui Dream</strong>
   <a href="#122356" class="date">05-Feb-2018 08:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It was really pazzling to me to read about parsing a string into a Unix timestamp relative to both January 1 1970 00:00:00 UTC and the second parameter. Maybe it worth noting that the second parameter is for relative dates (like "+1 day").</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="121494""></a>
  <div class="note">
   <strong class="user">Steve GS</strong>
   <a href="#121494" class="date">08-Aug-2017 09:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The difference between 'today' and 'now' is the former strips off the time (setting it to 00:00, ie. midnight just past), and the latter includes the time - assuming UTC unless specified otherwise.<br />
<br />
I run a theatre's website.&nbsp; Obviously, I need to ensure shows that have already happened do not appear on web pages, so I use something on the lines of:<br />
<br />
&nbsp;&nbsp;&nbsp; $listIt = (strtotime($end_date) &gt;= strtotime('today') ? 1 : 0);<br />
<br />
where $end_date is the final date in a show series.&nbsp; So if tonight's show is the last, it will stay on the web page until 00:00 tomorrow.<br />
<br />
I don't normally include performance times in the date field because some shows have matinées, others don't - so I use a free-form performance time field in the CMS instead (where even 'Time: TBD' is allowed).&nbsp; [The only instance where I DO include the time is when there are two different shows on the same day, to ensure they appear in chronological order.]<br />
<br />
So strtotime($end_date) will always return the timestamp at 00:00 that day.&nbsp; If I instead used:<br />
<br />
&nbsp;&nbsp;&nbsp; $listIt = (strtotime($end_date) &gt;= strtotime('now') ? 1 : 0);<br />
<br />
the function would return $listIt = 0 at all times today - something I don't want.<br />
<br />
HTH</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="116891""></a>
  <div class="note">
   <strong class="user">joe at strtotime dot co dot uk</strong>
   <a href="#116891" class="date">16-Mar-2015 05:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A useful testing tool for strtotime() and unix timestamp conversion:<br />
<a href="http://strtotime.co.uk/" rel="nofollow" target="_blank">http://strtotime.co.uk/</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="111989""></a>
  <div class="note">
   <strong class="user">kumar AT swatantra.info Swatantra Kumar</strong>
   <a href="#111989" class="date">19-Apr-2013 07:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The "+1 month" issue with strtotime<br />
===================================<br />
As noted in several blogs, strtotime() solves the "+1 month" ("next month") issue on days that do not exist in the subsequent month differently than other implementations like for example MySQL.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">echo </span><span class="default">date</span><span class="keyword">( </span><span class="string">"Y-m-d"</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">( </span><span class="string">"2009-01-31 +1 month" </span><span class="keyword">) ); </span><span class="comment">// PHP:&nbsp; 2009-03-03<br />
</span><span class="keyword">echo </span><span class="default">date</span><span class="keyword">( </span><span class="string">"Y-m-d"</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">( </span><span class="string">"2009-01-31 +2 month" </span><span class="keyword">) ); </span><span class="comment">// PHP:&nbsp; 2009-03-31<br />
</span><span class="default">?&gt;<br />
</span><br />
<span class="default">&lt;?php<br />
SELECT DATE_ADD</span><span class="keyword">( </span><span class="string">'2009-01-31'</span><span class="keyword">, </span><span class="default">INTERVAL 1 MONTH </span><span class="keyword">); </span><span class="comment">// MySQL:&nbsp; 2009-02-28<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="109929""></a>
  <div class="note">
   <strong class="user">me at will morgan dot co dot you kay</strong>
   <a href="#109929" class="date">03-Sep-2012 05:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For negative UNIX timestamps, strtotime seems to return the literal you passed in, or it may try to deduct the number of seconds from today's date.<br />
<br />
To work around this behaviour, it appears that the same behaviour as described in the DateTime classes applies:<br />
<br />
<a href="http://php.net/manual/en/datetime.construct.php" rel="nofollow" target="_blank">http://php.net/manual/en/datetime.construct.php</a><br />
<br />
Specifically this line here (in the EN manual):<br />
<br />
&gt; The $timezone parameter and the current timezone are ignored when the $time parameter either is a UNIX timestamp (e.g. @946684800) or specifies a timezone (e.g. 2010-01-28T15:00:00+02:00).<br />
<br />
Therefore strtotime('@-1000') returns 1000 seconds before the epoch.<br />
<br />
Hope this helps.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="107331""></a>
  <div class="note">
   <strong class="user">cristinawithout</strong>
   <a href="#107331" class="date">31-Jan-2012 09:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
WARNING when using "next month", "last month", "+1 month",&nbsp; "-1 month" or any combination of +/-X months. It will give non-intuitive results on Jan 30th and 31st. <br />
<br />
As described at : <a href="http://derickrethans.nl/obtaining-the-next-month-in-php.html" rel="nofollow" target="_blank">http://derickrethans.nl/obtaining-the-next-month-in-php.html</a><br />
<br />
<span class="default">&lt;?php<br />
$d </span><span class="keyword">= new </span><span class="default">DateTime</span><span class="keyword">( </span><span class="string">'2010-01-31' </span><span class="keyword">);<br />
</span><span class="default">$d</span><span class="keyword">-&gt;</span><span class="default">modify</span><span class="keyword">( </span><span class="string">'next month' </span><span class="keyword">);<br />
echo </span><span class="default">$d</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">( </span><span class="string">'F' </span><span class="keyword">), </span><span class="string">"\n"</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
In the above, using "next month" on January 31 will output "March" even though you might want it to output "February". ("+1 month" will give the same result. "last month", "-1 month" are similarly affected, but the results would be seen at beginning of March.)<br />
<br />
The way to get what people would generally be looking for when they say "next month" even on Jan 30 and Jan 31 is to use "first day of next month":<br />
<br />
<span class="default">&lt;?php<br />
$d </span><span class="keyword">= new </span><span class="default">DateTime</span><span class="keyword">( </span><span class="string">'2010-01-08' </span><span class="keyword">);<br />
</span><span class="default">$d</span><span class="keyword">-&gt;</span><span class="default">modify</span><span class="keyword">( </span><span class="string">'first day of next month' </span><span class="keyword">);<br />
echo </span><span class="default">$d</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">( </span><span class="string">'F' </span><span class="keyword">), </span><span class="string">"\n"</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
<span class="default">&lt;?php<br />
$d </span><span class="keyword">= new </span><span class="default">DateTime</span><span class="keyword">( </span><span class="string">'2010-01-08' </span><span class="keyword">);<br />
</span><span class="default">$d</span><span class="keyword">-&gt;</span><span class="default">modify</span><span class="keyword">( </span><span class="string">'first day of +1 month' </span><span class="keyword">);<br />
echo </span><span class="default">$d</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">( </span><span class="string">'F' </span><span class="keyword">), </span><span class="string">"\n"</span><span class="keyword">;<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="105344""></a>
  <div class="note">
   <strong class="user">Michael Muryn (MickoZ)</strong>
   <a href="#105344" class="date">10-Aug-2011 10:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
[red.: This is a bug, and should be fixed. I have file an issue]
<br />

<br />
This comment apply to PHP5+
<br />

<br />
We can now do thing like this with strtotime:
<br />
<span class="default">&lt;?php 
<br />
$weekMondayTime </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'Monday this week'</span><span class="keyword">);
<br />
</span><span class="default">?&gt;
<br />
</span>However this works based on a week starting Sunday.&nbsp; I do not know if we can tweak this PHP behavior, anyone know?
<br />

<br />
If you want the timestamp of the start of the ISO Week (i.e. on Monday) as defined by ISO 8601, you can use this one liner:
<br />
<span class="default">&lt;?php
<br />
$isoWeekStartTime </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">date</span><span class="keyword">(</span><span class="string">'o-\\WW'</span><span class="keyword">)); </span><span class="comment">// {isoYear}-W{isoWeekNumber}
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
You can also find out the start of week of any time and format it into an ISO date with another one liner like this:
<br />
<span class="default">&lt;?php
<br />
$isoWeekStartDate </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">'Y-m-d'</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">date</span><span class="keyword">(</span><span class="string">'o-\\WW'</span><span class="keyword">, </span><span class="default">$time</span><span class="keyword">)));
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
For more information about ISO-8601 and ISO week date:
<br />
<a href="http://en.wikipedia.org/wiki/ISO_8601#Week_dates" rel="nofollow" target="_blank">http://en.wikipedia.org/wiki/ISO_8601#Week_dates</a>
<br />
<a href="http://en.wikipedia.org/wiki/ISO_week_date" rel="nofollow" target="_blank">http://en.wikipedia.org/wiki/ISO_week_date</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="102491""></a>
  <div class="note">
   <strong class="user">a dot fruchi at bit-runners dot com</strong>
   <a href="#102491" class="date">17-Feb-2011 05:45</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to confront a date stored into mysql as a date field (not a datetime) and a date specified by a literal string, be sure to add "midnight" to the literal string, otherwise they won't match:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">//I.E.: today is 17/02/2011<br />
<br />
</span><span class="keyword">echo </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'2011-01-01'</span><span class="keyword">); </span><span class="comment">//1293836400<br />
</span><span class="keyword">echo </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'first day of last month'</span><span class="keyword">); </span><span class="comment">//1293888128 Note: it's different from the previous one, since it computes also the seconds passed from midnight!!! So this one is always greater than simple '2011-01-01'<br />
</span><span class="keyword">echo </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'midnight first day of last monty'</span><span class="keyword">);</span><span class="comment">//1293836400 Note: it's the same as '2011-01-01'<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="100632""></a>
  <div class="note">
   <strong class="user">marcodemaio at vanylla dot it</strong>
   <a href="#100632" class="date">27-Oct-2010 11:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
NOTE: strtotime returns different values when the Week day does not match the date.
<br />

<br />
Simple example:
<br />

<br />
<span class="default">&lt;?php
<br />
$d1 </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"26 Oct 0010 12:00:00 +0100"</span><span class="keyword">);
<br />
</span><span class="default">$d2 </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"Tue, 26 Oct 0010 12:00:00 +0100"</span><span class="keyword">);
<br />
</span><span class="default">$d3 </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"Sun, 26 Oct 0010 12:00:00 +0100"</span><span class="keyword">); </span><span class="comment">//But Oct 26 is a Tuesday, NOT a Sunday.
<br />

<br />
</span><span class="keyword">echo </span><span class="default">$d1</span><span class="keyword">; </span><span class="comment">//ok 1288090800 that is "26 Ott 2010 - 11:00";
<br />
</span><span class="keyword">echo </span><span class="default">$d2</span><span class="keyword">; </span><span class="comment">//ok 1288090800 that is "26 Ott 2010 - 11:00";
<br />
</span><span class="keyword">echo </span><span class="default">$d3</span><span class="keyword">; </span><span class="comment">//WRONG! 1288522800 that is "31 Ott 2010 - 11:00";
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
Sometime I found RSS feeds that contains week days that do not match the date.
<br />

<br />
A possible solution is to remove useless week day before passing the date string into strtotime, example:
<br />

<br />
<span class="default">&lt;?php
<br />
&nbsp;&nbsp; $date_string </span><span class="keyword">= </span><span class="string">"Sun, 26 Oct 0010 12:00:00 +0100"</span><span class="keyword">;
<br />
&nbsp;&nbsp; if( (</span><span class="default">$comma_pos </span><span class="keyword">= </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$date_string</span><span class="keyword">, </span><span class="string">','</span><span class="keyword">)) !== </span><span class="default">FALSE </span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$date_string </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$date_string</span><span class="keyword">, </span><span class="default">$comma_pos </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">);
<br />
&nbsp;&nbsp; </span><span class="default">$d3 </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$date_string</span><span class="keyword">);
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93408""></a>
  <div class="note">
   <strong class="user">chris at teamsiems dot com</strong>
   <a href="#93408" class="date">08-Sep-2009 10:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It took me a while to notice that strtotime starts searching from just after midnight of the first day of the month. So, if the month starts on the day you search for, the first day of the search is actually the next occurrence of the day.
<br />

<br />
In my case, when I look for first Tuesday of the current month, I need to include a check to see if the month starts on a Tuesday.
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">if (</span><span class="default">date</span><span class="keyword">(</span><span class="string">"l"</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"</span><span class="default">$thisMonth</span><span class="string"> </span><span class="default">$thisYear</span><span class="string">"</span><span class="keyword">))==</span><span class="string">'Tuesday'</span><span class="keyword">) {
<br />
&nbsp; echo </span><span class="string">"&lt;p&gt;This month starts on a Tuesday. Use \"</span><span class="default">$thisMonth</span><span class="string"> </span><span class="default">$thisYear</span><span class="string">\" to check for first Tuesday.&lt;/p&gt;\n"</span><span class="keyword">;
<br />
} else {
<br />
&nbsp; echo </span><span class="string">"&lt;p&gt;This month does not start on a Tuesday. Use \"first tuesday </span><span class="default">$thisMonth</span><span class="string"> </span><span class="default">$thisYear</span><span class="string">\" to check for first Tuesday.&lt;/p&gt;\n"</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="92756""></a>
  <div class="note">
   <strong class="user">michal dot kocarek at brainbox dot cz</strong>
   <a href="#92756" class="date">07-Aug-2009 06:35</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
strtotime() also returns time by year and weeknumber. (I use PHP 5.2.8, PHP 4 does not support it.) Queries can be in two forms:
<br />
- "yyyyWww", where yyyy is 4-digit year, W is literal and ww is 2-digit weeknumber. Returns timestamp for first day of week (for me Monday)
<br />
- "yyyy-Www-d", where yyyy is 4-digit year, W is literal, ww is 2-digit weeknumber and dd is day of week (1 for Monday, 7 for Sunday) 
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="comment">// Get timestamp of 32nd week in 2009.
<br />
</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'2009W32'</span><span class="keyword">); </span><span class="comment">// returns timestamp for Mon, 03 Aug 2009 00:00:00
<br />
// Weeknumbers &lt; 10 must be padded with zero:
<br />
</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'2009W01'</span><span class="keyword">); </span><span class="comment">// returns timestamp for Mon, 29 Dec 2008 00:00:00
<br />
// strtotime('2009W1'); // error! returns false
<br />

<br />
// See timestamp for Tuesday in 5th week of 2008
<br />
</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'2008-W05-2'</span><span class="keyword">); </span><span class="comment">// returns timestamp for Tue, 29 Jan 2008 00:00:00
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
Weeknumbers are (probably) computed according to ISO-8601 specification, so doing date('W') on given timestamps should return passed weeknumber.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="89755""></a>
  <div class="note">
   <strong class="user">fuhrysteve at gmail dot com</strong>
   <a href="#89755" class="date">21-Mar-2009 07:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's a hack to make this work for MS SQL's datetime junk, since strtotime() has issues with fractional seconds.<br />
<br />
<span class="default">&lt;?php<br />
<br />
$MSSQLdatetime </span><span class="keyword">= </span><span class="string">"Feb&nbsp; 7 2009 09:48:06:697PM"</span><span class="keyword">;<br />
</span><span class="default">$newDatetime </span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">'/:[0-9][0-9][0-9]/'</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">,</span><span class="default">$MSSQLdatetime</span><span class="keyword">);<br />
</span><span class="default">$time </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$newDatetime</span><span class="keyword">);<br />
echo </span><span class="default">$time</span><span class="keyword">.</span><span class="string">"\n"</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="38658""></a>
  <div class="note">
   <strong class="user">kyle at frozenonline dot com</strong>
   <a href="#38658" class="date">01-Jan-2004 03:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I was having trouble parsing Apache log files that consisted of a time entry (denoted by %t for Apache configuration). An example Apache-date looks like: [21/Dec/2003:00:52:39 -0500]<br />
<br />
Apache claims this to be a 'standard english format' time. strtotime() feels otherwise. <br />
<br />
I came up with this function to assist in parsing this peculiar format.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">from_apachedate</span><span class="keyword">(</span><span class="default">$date</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; list(</span><span class="default">$d</span><span class="keyword">, </span><span class="default">$M</span><span class="keyword">, </span><span class="default">$y</span><span class="keyword">, </span><span class="default">$h</span><span class="keyword">, </span><span class="default">$m</span><span class="keyword">, </span><span class="default">$s</span><span class="keyword">, </span><span class="default">$z</span><span class="keyword">) = </span><span class="default">sscanf</span><span class="keyword">(</span><span class="default">$date</span><span class="keyword">, </span><span class="string">"[%2d/%3s/%4d:%2d:%2d:%2d %5s]"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">"</span><span class="default">$d</span><span class="string"> </span><span class="default">$M</span><span class="string"> </span><span class="default">$y</span><span class="string"> </span><span class="default">$h</span><span class="string">:</span><span class="default">$m</span><span class="string">:</span><span class="default">$s</span><span class="string"> </span><span class="default">$z</span><span class="string">"</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Hope it helps anyone else seeking such a conversion.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
