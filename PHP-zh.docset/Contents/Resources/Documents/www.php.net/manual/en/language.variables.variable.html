<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>可变变量</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="language.variables.scope.html">? 变量范围</a></li>
      <li style="float: right;"><a href="language.variables.external.html">来自 PHP 之外的变量 ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="language.variables.html">变量</a></li>
    <li>可变变量</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="language.variables.variable" class="sect1">
   <h2 class="title">可变变量</h2>

   <p class="simpara">
     有时候使用可变变量名是很方便的。就是说，一个变量的变量名可以动态的设置和使用。一个普通的变量通过声明来设置，例如：
   </p>

   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br />$a </span><span style="color: #007700">= </span><span style="color: #DD0000">'hello'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>

   <p class="simpara">
    一个可变变量获取了一个普通变量的值作为这个可变变量的变量名。在上面的例子中
    <em>hello</em> 使用了两个美元符号（$）以后，就可以作为一个可变变量的变量了。例如：
   </p>

   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">$</span><span style="color: #0000BB">$a </span><span style="color: #007700">= </span><span style="color: #DD0000">'world'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>

   <p class="simpara">
    这时，两个变量都被定义了：<var class="varname">$a</var> 的内容是"hello"并且
    <var class="varname">$hello</var> 的内容是"world"。因此，以下语句：
   </p>

   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">echo </span><span style="color: #DD0000">"</span><span style="color: #0000BB">$a</span><span style="color: #DD0000"> </span><span style="color: #007700">{$</span><span style="color: #0000BB">$a</span><span style="color: #007700">}</span><span style="color: #DD0000">"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>

   <p class="simpara">
    与以下语句输出完全相同的结果：
   </p>

   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">echo </span><span style="color: #DD0000">"</span><span style="color: #0000BB">$a</span><span style="color: #DD0000"> </span><span style="color: #0000BB">$hello</span><span style="color: #DD0000">"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>

   <p class="simpara">
    它们都会输出：<span class="computeroutput">hello world</span>。
   </p>

   <p class="simpara">
    要将可变变量用于数组，必须解决一个模棱两可的问题。这就是当写下
    <var class="varname">$$a[1]</var>
    时，解析器需要知道是想要
    <var class="varname">$a[1]</var>
    作为一个变量呢，还是想要
    <var class="varname">$$a</var>
    作为一个变量并取出该变量中索引为 [1]
    的值。解决此问题的语法是，对第一种情况用
    <var class="varname">${$a[1]}</var>，对第二种情况用
    <var class="varname">${$a}[1]</var>。
   </p>

   <p class="simpara">
    类的属性也可以通过可变属性名来访问。可变属性名将在该调用所处的范围内被解析。例如，对于
    <var class="varname">$foo->$bar</var> 表达式，则会在本地范围来解析 <var class="varname">$bar</var>
    并且其值将被用于 <var class="varname">$foo</var> 的属性名。对于 <var class="varname">$bar</var>
    是数组单元时也是一样。
   </p>
   
   <p class="simpara">
    也可使用花括号来给属性名清晰定界。最有用是在属性位于数组中，或者属性名包含有多个部分或者属性名包含有非法字符时（例如来自
    <span class="function"><a href="function.json-decode.html" class="function">json_decode()</a></span> 或 <a href="book.simplexml.html" class="link">SimpleXML</a>）。
   </p>

   <p class="para">
    <div class="example" id="example-96">
     <p><strong>Example #1 可变属性示例</strong></p>
      <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class </span><span style="color: #0000BB">foo </span><span style="color: #007700">{<br />    var </span><span style="color: #0000BB">$bar </span><span style="color: #007700">= </span><span style="color: #DD0000">'I am bar.'</span><span style="color: #007700">;<br />    var </span><span style="color: #0000BB">$arr </span><span style="color: #007700">= array(</span><span style="color: #DD0000">'I am A.'</span><span style="color: #007700">, </span><span style="color: #DD0000">'I am B.'</span><span style="color: #007700">, </span><span style="color: #DD0000">'I am C.'</span><span style="color: #007700">);<br />    var </span><span style="color: #0000BB">$r   </span><span style="color: #007700">= </span><span style="color: #DD0000">'I am r.'</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">$foo </span><span style="color: #007700">= new </span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$bar </span><span style="color: #007700">= </span><span style="color: #DD0000">'bar'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$baz </span><span style="color: #007700">= array(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">, </span><span style="color: #DD0000">'bar'</span><span style="color: #007700">, </span><span style="color: #DD0000">'baz'</span><span style="color: #007700">, </span><span style="color: #DD0000">'quux'</span><span style="color: #007700">);<br />echo </span><span style="color: #0000BB">$foo</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">$bar </span><span style="color: #007700">. </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo </span><span style="color: #0000BB">$foo</span><span style="color: #007700">-&gt;{</span><span style="color: #0000BB">$baz</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]} . </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$start </span><span style="color: #007700">= </span><span style="color: #DD0000">'b'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$end   </span><span style="color: #007700">= </span><span style="color: #DD0000">'ar'</span><span style="color: #007700">;<br />echo </span><span style="color: #0000BB">$foo</span><span style="color: #007700">-&gt;{</span><span style="color: #0000BB">$start </span><span style="color: #007700">. </span><span style="color: #0000BB">$end</span><span style="color: #007700">} . </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$arr </span><span style="color: #007700">= </span><span style="color: #DD0000">'arr'</span><span style="color: #007700">;<br />echo </span><span style="color: #0000BB">$foo</span><span style="color: #007700">-&gt;{</span><span style="color: #0000BB">$arr</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]} . </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
     </div>

     <div class="example-contents"><p>以上示例会输出：</p></div>
     <div class="example-contents screen"><br />
I am bar.<br />
I am bar.<br />
I am bar.<br />
I am r.<br />
     </div>
    </div>
   </p>

   <div class="warning"><strong class="warning">Warning</strong>
    <p class="simpara">
     注意，在 PHP 的函数和类的方法中，<a href="language.variables.superglobals.html" class="link">超全局变量</a>不能用作可变变量。<code class="literal">$this</code>
     变量也是一个特殊变量，不能被动态引用。
    </p>
   </div>

  </div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="127568""></a>
  <div class="note">
   <strong class="user">sebastopolys at gmail dot com</strong>
   <a href="#127568" class="date">03-Sep-2022 03:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In addition, it is possible to use associative array to secure name of variables available to be used within a function (or class / not tested).<br />
<br />
This way the variable variable feature is useful to validate variables; define, output and manage only within the function that receives as parameter <br />
an associative array : <br />
&nbsp;&nbsp;&nbsp; array('index'=&gt;'value','index'=&gt;'value');<br />
index = reference to variable to be used within function<br />
value = name of the variable to be used within function<br />
<span class="default">&lt;?php <br />
<br />
$vars </span><span class="keyword">= [</span><span class="string">'id'</span><span class="keyword">=&gt;</span><span class="string">'user_id'</span><span class="keyword">,</span><span class="string">'email'</span><span class="keyword">=&gt;</span><span class="string">'user_email'</span><span class="keyword">];<br />
<br />
</span><span class="default">validateVarsFunction</span><span class="keyword">(</span><span class="default">$vars</span><span class="keyword">);<br />
<br />
function </span><span class="default">validateVarsFunction</span><span class="keyword">(</span><span class="default">$vars</span><span class="keyword">){<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//$vars['id']=34; &lt;- does not work<br />
&nbsp;&nbsp; &nbsp; // define allowed variables<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$user_id</span><span class="keyword">=</span><span class="default">21</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$user_email</span><span class="keyword">=</span><span class="string">'email@mail.com'</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp; echo </span><span class="default">$vars</span><span class="keyword">[</span><span class="string">'id'</span><span class="keyword">]; </span><span class="comment">// prints name of variable: user_id<br />
&nbsp;&nbsp; &nbsp; </span><span class="keyword">echo ${</span><span class="default">$vars</span><span class="keyword">[</span><span class="string">'id'</span><span class="keyword">]}; </span><span class="comment">// prints 21&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; </span><span class="keyword">echo </span><span class="string">'Email: '</span><span class="keyword">.${</span><span class="default">$vars</span><span class="keyword">[</span><span class="string">'email'</span><span class="keyword">]};&nbsp; </span><span class="comment">// print email@mail.com<br />
<br />
&nbsp;&nbsp; &nbsp; // we don't have the name of the variables before declaring them inside the function<br />
</span><span class="keyword">}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="123599""></a>
  <div class="note">
   <strong class="user">marcin dot dzdza at gmail dot com</strong>
   <a href="#123599" class="date">10-Feb-2019 11:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The feature of variable variable names is welcome, but it should be avoided when possible. Modern IDE software fails to interpret such variables correctly, regular find/replace also fails. It's a kind of magic :) This may really make it hard to refactor code. Imagine you want to rename variable $username to $userName and try to find all occurrences of $username in code by checking "$userName". You may easily omit:<br />
$a = 'username';<br />
echo $$a;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="119582""></a>
  <div class="note">
   <strong class="user">herebepost (ta at ta) [iwonderr] gmail dot com</strong>
   <a href="#119582" class="date">11-Jul-2016 07:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
While not relevant in everyday PHP programming, it seems to be possible to insert whitespace and comments between the dollar signs of a variable variable.&nbsp; All three comment styles work. This information becomes relevant when writing a parser, tokenizer or something else that operates on PHP syntax.<br />
<br />
<span class="default">&lt;?php<br />
<br />
&nbsp;&nbsp;&nbsp; $foo </span><span class="keyword">= </span><span class="string">'bar'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; $<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/*<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; I am complete legal and will compile without notices or error as a variable variable.<br />
&nbsp;&nbsp;&nbsp; */<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$foo </span><span class="keyword">= </span><span class="string">'magic'</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">$bar</span><span class="keyword">; </span><span class="comment">// Outputs magic.<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Behaviour tested with PHP Version 5.6.19</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="116632""></a>
  <div class="note">
   <strong class="user">jefrey.sobreira [at] gmail [dot] com</strong>
   <a href="#116632" class="date">01-Feb-2015 05:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to use a variable value in part of the name of a variable variable (not the whole name itself), you can do like the following:<br />
<br />
<span class="default">&lt;?php<br />
$price_for_monday </span><span class="keyword">= </span><span class="default">10</span><span class="keyword">;<br />
</span><span class="default">$price_for_tuesday </span><span class="keyword">= </span><span class="default">20</span><span class="keyword">;<br />
</span><span class="default">$price_for_wednesday </span><span class="keyword">= </span><span class="default">30</span><span class="keyword">;<br />
<br />
</span><span class="default">$today </span><span class="keyword">= </span><span class="string">'tuesday'</span><span class="keyword">;<br />
<br />
</span><span class="default">$price_for_today </span><span class="keyword">= ${ </span><span class="string">'price_for_' </span><span class="keyword">. </span><span class="default">$today</span><span class="keyword">};<br />
echo </span><span class="default">$price_for_today</span><span class="keyword">; </span><span class="comment">// will return 20<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="109230""></a>
  <div class="note">
   <strong class="user">nils dot rocine at gmail dot com</strong>
   <a href="#109230" class="date">28-Jun-2012 01:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Variable Class Instantiation with Namespace Gotcha:<br />
<br />
Say you have a class you'd like to instantiate via a variable (with a string value of the Class name)<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">Foo <br />
</span><span class="keyword">{ <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__construct</span><span class="keyword">() <br />
&nbsp;&nbsp;&nbsp; { <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"I'm a real class!" </span><span class="keyword">. </span><span class="default">PHP_EOL</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">$class </span><span class="keyword">= </span><span class="string">'Foo'</span><span class="keyword">;<br />
<br />
</span><span class="default">$instance </span><span class="keyword">= new </span><span class="default">$class</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
The above works fine UNLESS you are in a (defined) namespace. Then you must provide the full namespaced identifier of the class as shown below. This is the case EVEN THOUGH the instancing happens in the same namespace. Instancing a class normally (not through a variable) does not require the namespace. This seems to establish the pattern that if you are using an namespace and you have a class name in a string, you must provide the namespace with the class for the PHP engine to correctly resolve (other cases: class_exists(), interface_exists(), etc.) <br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">namespace </span><span class="default">MyNamespace</span><span class="keyword">;<br />
<br />
class </span><span class="default">Foo <br />
</span><span class="keyword">{ <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__construct</span><span class="keyword">() <br />
&nbsp;&nbsp;&nbsp; { <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"I'm a real class!" </span><span class="keyword">. </span><span class="default">PHP_EOL</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">$class </span><span class="keyword">= </span><span class="string">'MyNamespace\Foo'</span><span class="keyword">;<br />
<br />
</span><span class="default">$instance </span><span class="keyword">= new </span><span class="default">$class</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="98641""></a>
  <div class="note">
   <strong class="user">mason</strong>
   <a href="#98641" class="date">28-Jun-2010 12:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
PHP actually supports invoking a new instance of a class using a variable class name since at least version 5.2<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">Foo </span><span class="keyword">{<br />
&nbsp;&nbsp; public function </span><span class="default">hello</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp;&nbsp; echo </span><span class="string">'Hello world!'</span><span class="keyword">;<br />
&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">$my_foo </span><span class="keyword">= </span><span class="string">'Foo'</span><span class="keyword">;<br />
</span><span class="default">$a </span><span class="keyword">= new </span><span class="default">$my_foo</span><span class="keyword">();<br />
</span><span class="default">$a</span><span class="keyword">-&gt;</span><span class="default">hello</span><span class="keyword">(); </span><span class="comment">//prints 'Hello world!'<br />
</span><span class="default">?&gt;<br />
</span><br />
Additionally, you can access static methods and properties using variable class names, but only since PHP 5.3<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">Foo </span><span class="keyword">{<br />
&nbsp;&nbsp; public static function </span><span class="default">hello</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp;&nbsp; echo </span><span class="string">'Hello world!'</span><span class="keyword">;<br />
&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">$my_foo </span><span class="keyword">= </span><span class="string">'Foo'</span><span class="keyword">;<br />
</span><span class="default">$my_foo</span><span class="keyword">::</span><span class="default">hello</span><span class="keyword">(); </span><span class="comment">//prints 'Hello world!'<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="97222""></a>
  <div class="note">
   <strong class="user">userb at exampleb dot org</strong>
   <a href="#97222" class="date">08-Apr-2010 02:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
<br />
&nbsp; </span><span class="comment">//You can even add more Dollar Signs<br />
<br />
&nbsp; </span><span class="default">$Bar </span><span class="keyword">= </span><span class="string">"a"</span><span class="keyword">;<br />
&nbsp; </span><span class="default">$Foo </span><span class="keyword">= </span><span class="string">"Bar"</span><span class="keyword">;<br />
&nbsp; </span><span class="default">$World </span><span class="keyword">= </span><span class="string">"Foo"</span><span class="keyword">;<br />
&nbsp; </span><span class="default">$Hello </span><span class="keyword">= </span><span class="string">"World"</span><span class="keyword">;<br />
&nbsp; </span><span class="default">$a </span><span class="keyword">= </span><span class="string">"Hello"</span><span class="keyword">;<br />
<br />
&nbsp; </span><span class="default">$a</span><span class="keyword">; </span><span class="comment">//Returns Hello<br />
&nbsp; </span><span class="keyword">$</span><span class="default">$a</span><span class="keyword">; </span><span class="comment">//Returns World<br />
&nbsp; </span><span class="keyword">$$</span><span class="default">$a</span><span class="keyword">; </span><span class="comment">//Returns Foo<br />
&nbsp; </span><span class="keyword">$$$</span><span class="default">$a</span><span class="keyword">; </span><span class="comment">//Returns Bar<br />
&nbsp; </span><span class="keyword">$$$$</span><span class="default">$a</span><span class="keyword">; </span><span class="comment">//Returns a<br />
<br />
&nbsp; </span><span class="keyword">$$$$$</span><span class="default">$a</span><span class="keyword">; </span><span class="comment">//Returns Hello<br />
&nbsp; </span><span class="keyword">$$$$$$</span><span class="default">$a</span><span class="keyword">; </span><span class="comment">//Returns World<br />
<br />
&nbsp; //... and so on ...//<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="81033""></a>
  <div class="note">
   <strong class="user">Nathan Hammond</strong>
   <a href="#81033" class="date">11-Feb-2008 03:41</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
These are the scenarios that you may run into trying to reference superglobals dynamically. Whether or not it works appears to be dependent upon the current scope.<br />
<br />
<span class="default">&lt;?php<br />
<br />
$_POST</span><span class="keyword">[</span><span class="string">'asdf'</span><span class="keyword">] = </span><span class="string">'something'</span><span class="keyword">;<br />
<br />
function </span><span class="default">test</span><span class="keyword">() {<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// NULL -- not what initially expected<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$string </span><span class="keyword">= </span><span class="string">'_POST'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">var_dump</span><span class="keyword">(${</span><span class="default">$string</span><span class="keyword">});<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Works as expected<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">var_dump</span><span class="keyword">(${</span><span class="string">'_POST'</span><span class="keyword">});<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Works as expected<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">global ${</span><span class="default">$string</span><span class="keyword">};<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">var_dump</span><span class="keyword">(${</span><span class="default">$string</span><span class="keyword">});<br />
<br />
}<br />
<br />
</span><span class="comment">// Works as expected<br />
</span><span class="default">$string </span><span class="keyword">= </span><span class="string">'_POST'</span><span class="keyword">;<br />
</span><span class="default">var_dump</span><span class="keyword">(${</span><span class="default">$string</span><span class="keyword">});<br />
<br />
</span><span class="default">test</span><span class="keyword">();<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="75669""></a>
  <div class="note">
   <strong class="user">Sinured</strong>
   <a href="#75669" class="date">11-Jun-2007 06:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
One interesting thing I found out: You can concatenate variables and use spaces. Concatenating constants and function calls are also possible.
<br />

<br />
<span class="default">&lt;?php
<br />
define</span><span class="keyword">(</span><span class="string">'ONE'</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);
<br />
function </span><span class="default">one</span><span class="keyword">() {
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">1</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">$one </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;
<br />

<br />
${</span><span class="string">"foo</span><span class="default">$one</span><span class="string">"</span><span class="keyword">} = </span><span class="string">'foo'</span><span class="keyword">;
<br />
echo </span><span class="default">$foo1</span><span class="keyword">; </span><span class="comment">// foo
<br />
</span><span class="keyword">${</span><span class="string">'foo' </span><span class="keyword">. </span><span class="default">ONE</span><span class="keyword">} = </span><span class="string">'bar'</span><span class="keyword">; 
<br />
echo </span><span class="default">$foo1</span><span class="keyword">; </span><span class="comment">// bar
<br />
</span><span class="keyword">${</span><span class="string">'foo' </span><span class="keyword">. </span><span class="default">one</span><span class="keyword">()} = </span><span class="string">'baz'</span><span class="keyword">;
<br />
echo </span><span class="default">$foo1</span><span class="keyword">; </span><span class="comment">// baz
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
This syntax doesn't work for functions:
<br />

<br />
<span class="default">&lt;?php
<br />
$foo </span><span class="keyword">= </span><span class="string">'info'</span><span class="keyword">;
<br />
{</span><span class="string">"php</span><span class="default">$foo</span><span class="string">"</span><span class="keyword">}(); </span><span class="comment">// Parse error
<br />

<br />
// You'll have to do:
<br />
</span><span class="default">$func </span><span class="keyword">= </span><span class="string">"php</span><span class="default">$foo</span><span class="string">"</span><span class="keyword">;
<br />
</span><span class="default">$func</span><span class="keyword">();
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
Note: Don't leave out the quotes on strings inside the curly braces, PHP won't handle that graciously.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="50912""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#50912" class="date">13-Mar-2005 07:25</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It may be worth specifically noting, if variable names follow some kind of "template," they can be referenced like this:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// Given these variables ...<br />
</span><span class="default">$nameTypes&nbsp; &nbsp; </span><span class="keyword">= array(</span><span class="string">"first"</span><span class="keyword">, </span><span class="string">"last"</span><span class="keyword">, </span><span class="string">"company"</span><span class="keyword">);<br />
</span><span class="default">$name_first&nbsp;&nbsp; </span><span class="keyword">= </span><span class="string">"John"</span><span class="keyword">;<br />
</span><span class="default">$name_last&nbsp; &nbsp; </span><span class="keyword">= </span><span class="string">"Doe"</span><span class="keyword">;<br />
</span><span class="default">$name_company </span><span class="keyword">= </span><span class="string">"PHP.net"</span><span class="keyword">;<br />
<br />
</span><span class="comment">// Then this loop is ...<br />
</span><span class="keyword">foreach(</span><span class="default">$nameTypes </span><span class="keyword">as </span><span class="default">$type</span><span class="keyword">)<br />
&nbsp; print ${</span><span class="string">"name_</span><span class="default">$type</span><span class="string">"</span><span class="keyword">} . </span><span class="string">"\n"</span><span class="keyword">;<br />
<br />
</span><span class="comment">// ... equivalent to this print statement.<br />
</span><span class="keyword">print </span><span class="string">"</span><span class="default">$name_first</span><span class="string">\n</span><span class="default">$name_last</span><span class="string">\n</span><span class="default">$name_company</span><span class="string">\n"</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
This is apparent from the notes others have left, but is not explicitly stated.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
