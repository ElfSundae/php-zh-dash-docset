<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>else</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="control-structures.if.html">? if</a></li>
      <li style="float: right;"><a href="control-structures.elseif.html">elseif/else if ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="language.control-structures.html">流程控制</a></li>
    <li>else</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="control-structures.else" class="sect1">
 <h2 class="title">else</h2>
 <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p>
 <p class="para">
  经常需要在满足某个条件时执行一条语句，而在不满足该条件时执行其它语句，这正是
  <code class="literal">else</code> 的功能。<code class="literal">else</code> 延伸了
  <code class="literal">if</code> 语句，可以在 <code class="literal">if</code>
  语句中的表达式的值为 <strong><code><a href="reserved.constants.html#constant.false">false</a></code></strong> 时执行语句。例如以下代码在
  <var class="varname">$a</var> 大于 <var class="varname">$b</var> 时显示
  <span class="computeroutput">a is bigger than b</span>，反之则显示
  <span class="computeroutput">a is NOT bigger than b</span>：
  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">if (</span><span style="color: #0000BB">$a </span><span style="color: #007700">&gt; </span><span style="color: #0000BB">$b</span><span style="color: #007700">) {<br />  echo </span><span style="color: #DD0000">"a is greater than b"</span><span style="color: #007700">;<br />} else {<br />  echo </span><span style="color: #DD0000">"a is NOT greater than b"</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

  </div>
  <code class="literal">else</code> 语句仅在 <code class="literal">if</code> 以及
  <code class="literal">elseif</code>（如果有的话）语句中的表达式的值为
  <strong><code><a href="reserved.constants.html#constant.false">false</a></code></strong> 时执行（参见 <a href="control-structures.elseif.html" class="link">elseif</a>）。
 </p>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
  <strong>悬挂的 else</strong><br />
  <p class="para">
   在多层嵌套 <code class="literal">if</code>-<code class="literal">else</code> 语句的情况下，
   <code class="literal">else</code> 总是与最近的 <code class="literal">if</code> 进行关联。
   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br />$a </span><span style="color: #007700">= </span><span style="color: #0000BB">false</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$b </span><span style="color: #007700">= </span><span style="color: #0000BB">true</span><span style="color: #007700">;<br />if (</span><span style="color: #0000BB">$a</span><span style="color: #007700">)<br />    if (</span><span style="color: #0000BB">$b</span><span style="color: #007700">)<br />        echo </span><span style="color: #DD0000">"b"</span><span style="color: #007700">;<br />else<br />    echo </span><span style="color: #DD0000">"c"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
   虽然存在缩进（对 PHP 来说，无关紧要）， 但是 <code class="literal">else</code> 还是与 <code class="literal">if ($b)</code> 
   进行关联，所以以上示例不会产生任何输出。虽然可以依赖此特性，但是推荐使用花括号，避免潜在的歧义问题。
  </p>
 </p></blockquote>
</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="82472""></a>
  <div class="note">
   <strong class="user">dormeydo at gmail dot com</strong>
   <a href="#82472" class="date">12-Apr-2008 04:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
An alternative and very useful syntax is the following one:<br />
<br />
statement ? execute if true : execute if false<br />
<br />
Ths is very usefull for dynamic outout inside strings, for example:<br />
<br />
print('$a is ' . ($a &gt; $b ? 'bigger than' : ($a == $b ? 'equal to' : 'smaler than' )) .&nbsp; '&nbsp; $b');<br />
<br />
This will print "$a is smaler than $b" is $b is bigger than $a, "$a is bigger than $b" if $a si bigger and "$a is equal to $b" if they are same.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="47252""></a>
  <div class="note">
   <strong class="user">Caliban Darklock</strong>
   <a href="#47252" class="date">08-Nov-2004 11:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you're coming from another language that does not have the "elseif" construct (e.g. C++), it's important to recognise that "else if" is a nested language construct and "elseif" is a linear language construct; they may be compared in performance to a recursive loop as opposed to an iterative loop. <br />
<br />
<span class="default">&lt;?php<br />
$limit</span><span class="keyword">=</span><span class="default">1000</span><span class="keyword">;<br />
for(</span><span class="default">$idx</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$idx</span><span class="keyword">&lt;</span><span class="default">$limit</span><span class="keyword">;</span><span class="default">$idx</span><span class="keyword">++)&nbsp; <br />
{ </span><span class="default">$list</span><span class="keyword">[]=</span><span class="string">"if(false) echo \"</span><span class="default">$idx</span><span class="string">;\n\"; else"</span><span class="keyword">; }<br />
</span><span class="default">$list</span><span class="keyword">[]=</span><span class="string">" echo \"</span><span class="default">$idx</span><span class="string">\n\";"</span><span class="keyword">;<br />
</span><span class="default">$space</span><span class="keyword">=</span><span class="default">implode</span><span class="keyword">(</span><span class="string">" "</span><span class="keyword">,</span><span class="default">$list</span><span class="keyword">);| </span><span class="comment">// if ... else if ... else<br />
</span><span class="default">$nospace</span><span class="keyword">=</span><span class="default">implode</span><span class="keyword">(</span><span class="string">""</span><span class="keyword">,</span><span class="default">$list</span><span class="keyword">); </span><span class="comment">// if ... elseif ... else<br />
</span><span class="default">$start</span><span class="keyword">=</span><span class="default">array_sum</span><span class="keyword">(</span><span class="default">explode</span><span class="keyword">(</span><span class="string">" "</span><span class="keyword">,</span><span class="default">microtime</span><span class="keyword">()));<br />
eval(</span><span class="default">$space</span><span class="keyword">);<br />
</span><span class="default">$end</span><span class="keyword">=</span><span class="default">array_sum</span><span class="keyword">(</span><span class="default">explode</span><span class="keyword">(</span><span class="string">" "</span><span class="keyword">,</span><span class="default">microtime</span><span class="keyword">()));<br />
echo </span><span class="default">$end</span><span class="keyword">-</span><span class="default">$start </span><span class="keyword">. </span><span class="string">" seconds\n"</span><span class="keyword">;<br />
</span><span class="default">$start</span><span class="keyword">=</span><span class="default">array_sum</span><span class="keyword">(</span><span class="default">explode</span><span class="keyword">(</span><span class="string">" "</span><span class="keyword">,</span><span class="default">microtime</span><span class="keyword">()));<br />
eval(</span><span class="default">$nospace</span><span class="keyword">);<br />
</span><span class="default">$end</span><span class="keyword">=</span><span class="default">array_sum</span><span class="keyword">(</span><span class="default">explode</span><span class="keyword">(</span><span class="string">" "</span><span class="keyword">,</span><span class="default">microtime</span><span class="keyword">()));<br />
echo </span><span class="default">$end</span><span class="keyword">-</span><span class="default">$start </span><span class="keyword">. </span><span class="string">" seconds\n"</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
This test should show that "elseif" executes in roughly two-thirds the time of "else if". (Increasing $limit will also eventually cause a parser stack overflow error, but the level where this happens is ridiculous in real world terms. Nobody normally nests if() blocks to more than a thousand levels unless they're trying to break things, which is a whole different problem.)<br />
<br />
There is still a need for "else if", as you may have additional code to be executed unconditionally at some rung of the ladder; an "else if" construction allows this unconditional code to be elegantly inserted before or after the entire rest of the process. Consider the following elseif() ladder:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if(</span><span class="default">$a</span><span class="keyword">) { </span><span class="default">conditional1</span><span class="keyword">(); }<br />
elseif(</span><span class="default">$b</span><span class="keyword">) { </span><span class="default">conditional2</span><span class="keyword">(); }<br />
elseif(</span><span class="default">$c</span><span class="keyword">) { </span><span class="default">conditional3</span><span class="keyword">(); }<br />
elseif(</span><span class="default">$d</span><span class="keyword">) { </span><span class="default">conditional4</span><span class="keyword">(); }<br />
elseif(</span><span class="default">$e</span><span class="keyword">) { </span><span class="default">conditional5</span><span class="keyword">(); }<br />
elseif(</span><span class="default">$f</span><span class="keyword">) { </span><span class="default">conditional6</span><span class="keyword">(); }<br />
elseif(</span><span class="default">$g</span><span class="keyword">) { </span><span class="default">conditional7</span><span class="keyword">(); }<br />
elseif(</span><span class="default">$h</span><span class="keyword">) { </span><span class="default">conditional8</span><span class="keyword">(); }<br />
else { </span><span class="default">conditional9</span><span class="keyword">(); }<br />
</span><span class="default">?&gt;<br />
</span><br />
To insert unconditional preprocessing code for $e onward, one need only split the "elseif":<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if(</span><span class="default">$a</span><span class="keyword">) { </span><span class="default">conditional1</span><span class="keyword">(); }<br />
elseif(</span><span class="default">$b</span><span class="keyword">) { </span><span class="default">conditional2</span><span class="keyword">(); }<br />
elseif(</span><span class="default">$c</span><span class="keyword">) { </span><span class="default">conditional3</span><span class="keyword">(); }<br />
elseif(</span><span class="default">$d</span><span class="keyword">) { </span><span class="default">conditional4</span><span class="keyword">(); }<br />
else {<br />
....</span><span class="default">unconditional</span><span class="keyword">();<br />
....if(</span><span class="default">$e</span><span class="keyword">) { </span><span class="default">conditional5</span><span class="keyword">(); }<br />
....elseif(</span><span class="default">$f</span><span class="keyword">) { </span><span class="default">conditional6</span><span class="keyword">(); }<br />
....elseif(</span><span class="default">$g</span><span class="keyword">) { </span><span class="default">conditional7</span><span class="keyword">(); }<br />
....elseif(</span><span class="default">$h</span><span class="keyword">) { </span><span class="default">conditional8</span><span class="keyword">(); }<br />
....else { </span><span class="default">conditional9</span><span class="keyword">(); }<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
The alternative is to duplicate the unconditional code throughout the construct.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
