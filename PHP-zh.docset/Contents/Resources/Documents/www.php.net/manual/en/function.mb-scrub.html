<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>Replace ill-formed byte sequences with the substitute character</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.mb-regex-set-options.html">? mb_regex_set_options</a></li>
      <li style="float: right;"><a href="function.mb-send-mail.html">mb_send_mail ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.mbstring.html">多字节字符串 函数</a></li>
    <li>Replace ill-formed byte sequences with the substitute character</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.mb-scrub" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">mb_scrub</h1>
  <p class="verinfo">(PHP 7 &gt;= 7.2.0, PHP 8)</p><p class="refpurpose"><span class="refname">mb_scrub</span> &mdash; <span class="dc-title">Replace ill-formed byte sequences with the substitute character</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.mb-scrub-description">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>mb_scrub</strong></span>(<span class="methodparam"><span class="type"><a href="language.types.string.html" class="type string">string</a></span> <code class="parameter">$string</code></span>, <span class="methodparam"><span class="type"><span class="type"><a href="language.types.null.html" class="type null">?</a></span><span class="type"><a href="language.types.string.html" class="type string">string</a></span></span> <code class="parameter">$encoding</code><span class="initializer"> = <strong><code><a href="reserved.constants.html#constant.null">null</a></code></strong></span></span>): <span class="type"><a href="language.types.string.html" class="type string">string</a></span></div>

  <p class="para rdfs-comment">
   Perform a character set conversion from the specified encoding, or the default encoding if no
   encoding was specified, to the same encoding. This has the effect of replacing any invalid
   byte sequences with the substitute character.
  </p>

 </div>


 <div class="refsect1 parameters" id="refsect1-function.mb-scrub-parameters">
  <h3 class="title">参数</h3>
  <dl>
   
    <dt><code class="parameter">string</code></dt>
    <dd>
     <p class="para">
      The input string.
     </p>
    </dd>
   
   
    <dt><code class="parameter">encoding</code></dt>
    <dd>
     <p class="para">
      The encoding used to interpret <code class="parameter">string</code>.
      If it is omitted or <strong><code><a href="reserved.constants.html#constant.null">null</a></code></strong>, the
      <a href="mbstring.configuration.html#ini.mbstring.internal-encoding" class="link">mbstring.internal_encoding setting</a>
      will be used if set, otherwise the <a href="ini.core.html#ini.default-charset" class="link">default_charset setting</a>
      will be used.
     </p>
    </dd>
   
  </dl>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.mb-scrub-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   The <span class="type"><a href="language.types.string.html" class="type string">string</a></span> result with invalid byte sequences replaced.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.mb-scrub-changelog">
  <h3 class="title">更新日志</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>版本</th>
      <th>说明</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
  <td>8.0.0</td>
  <td>
   现在 <code class="parameter">encoding</code> 可以为 null。
  </td>
 </tr>

    </tbody>
   
  </table>

 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="122482""></a>
  <div class="note">
   <strong class="user">Sammitch</strong>
   <a href="#122482" class="date">06-Mar-2018 08:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Replaces 'ill-formed' byte sequences with '?'.<br />
<br />
See: https://github.com/php/php-src/pull/1099</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
