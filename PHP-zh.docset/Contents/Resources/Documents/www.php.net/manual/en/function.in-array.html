<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>检查数组中是否存在某个值</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.extract.html">? extract</a></li>
      <li style="float: right;"><a href="function.key-exists.html">key_exists ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.array.html">数组 函数</a></li>
    <li>检查数组中是否存在某个值</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.in-array" class="refentry">
   <div class="refnamediv">
    <h1 class="refname">in_array</h1>
    <p class="verinfo">(PHP 4, PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">in_array</span> &mdash; <span class="dc-title">检查数组中是否存在某个值</span></p>

   </div>
 <div class="refsect1 description" id="refsect1-function.in-array-description">
  <h3 class="title">说明</h3>
    <div class="methodsynopsis dc-description">
     <span class="methodname"><strong>in_array</strong></span>
      ( <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$needle</code></span>
     , <span class="methodparam"><span class="type">array</span> <code class="parameter">$haystack</code></span>
   [, <span class="methodparam"><span class="type">bool</span> <code class="parameter">$strict</code><span class="initializer"> = <strong><code>FALSE</code></strong></span></span>
    ] ) : <span class="type">bool</span></div>

    <p class="para rdfs-comment">
     大海捞针，在大海（<code class="parameter">haystack</code>）中搜索针（
     <code class="parameter">needle</code>），如果没有设置         <code class="parameter">strict</code> 则使用宽松的比较。
    </p>
   </div>

 <div class="refsect1 parameters" id="refsect1-function.in-array-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">needle</code></dt>

     <dd>

      <p class="para">
       待搜索的值。
      </p>
      <blockquote class="note"><p><strong class="note">Note</strong>: 
       <p class="para">
        如果 <code class="parameter">needle</code> 是字符串，则比较是区分大小写的。
       </p>
      </p></blockquote>
     </dd>

    
    
     <dt>
<code class="parameter">haystack</code></dt>

     <dd>

      <p class="para">
       待搜索的数组。
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">strict</code></dt>

     <dd>

      <p class="para">
        如果第三个参数 <code class="parameter">strict</code> 的值为
     <strong><code>TRUE</code></strong> 则 <span class="function"><strong>in_array()</strong></span> 函数还会检查
     <code class="parameter">needle</code> 的<a href="language.types.html" class="link">类型</a>是否和
     <code class="parameter">haystack</code> 中的相同。
      </p>
     </dd>

    
   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.in-array-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">如果找到 <code class="parameter">needle</code> 则返回 <strong><code>TRUE</code></strong>，否则返回 <strong><code>FALSE</code></strong>。
  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-function.in-array-examples">
  <h3 class="title">范例</h3>
  <p class="para">
   <div class="example" id="example-6140">
    <p><strong>Example #1 <span class="function"><strong>in_array()</strong></span> 例子</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$os&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">"Mac"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"NT"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"Irix"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"Linux"</span><span style="color: #007700">);<br />if&nbsp;(</span><span style="color: #0000BB">in_array</span><span style="color: #007700">(</span><span style="color: #DD0000">"Irix"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$os</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Got&nbsp;Irix"</span><span style="color: #007700">;<br />}<br />if&nbsp;(</span><span style="color: #0000BB">in_array</span><span style="color: #007700">(</span><span style="color: #DD0000">"mac"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$os</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Got&nbsp;mac"</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>
      第二个条件失败，因为 <span class="function"><strong>in_array()</strong></span>
       是区分大小写的，所以以上程序显示为：
    </p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
Got Irix
</pre></div>
    </div>
   </div>
  </p>
  <p class="para">
   <div class="example" id="example-6141">
    <p><strong>Example #2 <span class="function"><strong>in_array()</strong></span> 严格类型检查例子</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$a&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">'1.10'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">12.4</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1.13</span><span style="color: #007700">);<br /><br />if&nbsp;(</span><span style="color: #0000BB">in_array</span><span style="color: #007700">(</span><span style="color: #DD0000">'12.4'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"'12.4'&nbsp;found&nbsp;with&nbsp;strict&nbsp;check\n"</span><span style="color: #007700">;<br />}<br /><br />if&nbsp;(</span><span style="color: #0000BB">in_array</span><span style="color: #007700">(</span><span style="color: #0000BB">1.13</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"1.13&nbsp;found&nbsp;with&nbsp;strict&nbsp;check\n"</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>以上例程会输出：</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
1.13 found with strict check
</pre></div>
    </div>
   </div>
  </p>
  <p class="para">
   <div class="example" id="example-6142">
    <p><strong>Example #3 <span class="function"><strong>in_array()</strong></span> 中用数组作为 needle</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$a&nbsp;</span><span style="color: #007700">=&nbsp;array(array(</span><span style="color: #DD0000">'p'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'h'</span><span style="color: #007700">),&nbsp;array(</span><span style="color: #DD0000">'p'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'r'</span><span style="color: #007700">),&nbsp;</span><span style="color: #DD0000">'o'</span><span style="color: #007700">);<br /><br />if&nbsp;(</span><span style="color: #0000BB">in_array</span><span style="color: #007700">(array(</span><span style="color: #DD0000">'p'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'h'</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"'ph'&nbsp;was&nbsp;found\n"</span><span style="color: #007700">;<br />}<br /><br />if&nbsp;(</span><span style="color: #0000BB">in_array</span><span style="color: #007700">(array(</span><span style="color: #DD0000">'f'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'i'</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"'fi'&nbsp;was&nbsp;found\n"</span><span style="color: #007700">;<br />}<br /><br />if&nbsp;(</span><span style="color: #0000BB">in_array</span><span style="color: #007700">(</span><span style="color: #DD0000">'o'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"'o'&nbsp;was&nbsp;found\n"</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>以上例程会输出：</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
  &#039;ph&#039; was found
  &#039;o&#039; was found
</pre></div>
    </div>
   </div>
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-function.in-array-seealso">
  <h3 class="title">参见</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.array-search.html" class="function" rel="rdfs-seeAlso">array_search()</a> - 在数组中搜索给定的值，如果成功则返回首个相应的键名</span></li>
    <li class="member"><span class="function"><a href="function.isset.html" class="function" rel="rdfs-seeAlso">isset()</a> - 检测变量是否已设置并且非 NULL</span></li>
    <li class="member"><span class="function"><a href="function.array-key-exists.html" class="function" rel="rdfs-seeAlso">array_key_exists()</a> - 检查数组里是否有指定的键名或索引</span></li>
   </ul>
  </p>
 </div>

  </div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="124374""></a>
  <div class="note">
   <strong class="user">Camille Dugas</strong>
   <a href="#124374" class="date">06-Nov-2019 03:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">Method </span><span class="keyword">{<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/** @var int current number of inMultiArray() loop */<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">private static </span><span class="default">$currentMultiArrayExec </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; &nbsp; * Checks if an element is found in an array or one of its subarray.<br />
&nbsp;&nbsp; &nbsp; * The verification layer of this method is limited to the parameter boundary xdebug.max_nesting_level of your php.ini.<br />
&nbsp;&nbsp; &nbsp; * @param mixed $element<br />
&nbsp;&nbsp; &nbsp; * @param array $array<br />
&nbsp;&nbsp; &nbsp; * @param bool $strict<br />
&nbsp;&nbsp; &nbsp; * @return bool<br />
&nbsp;&nbsp; &nbsp; */<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public static function </span><span class="default">inMultiArray</span><span class="keyword">(</span><span class="default">$element</span><span class="keyword">, array </span><span class="default">$array</span><span class="keyword">, </span><span class="default">bool $strict </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">) : </span><span class="default">bool </span><span class="keyword">{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">self</span><span class="keyword">::</span><span class="default">$currentMultiArrayExec</span><span class="keyword">++;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">self</span><span class="keyword">::</span><span class="default">$currentMultiArrayExec </span><span class="keyword">&gt;= </span><span class="default">ini_get</span><span class="keyword">(</span><span class="string">"xdebug.max_nesting_level"</span><span class="keyword">)) return </span><span class="default">false</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$bool </span><span class="keyword">= </span><span class="default">$strict </span><span class="keyword">? </span><span class="default">$element </span><span class="keyword">=== </span><span class="default">$key </span><span class="keyword">: </span><span class="default">$element </span><span class="keyword">== </span><span class="default">$key</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$bool</span><span class="keyword">) return </span><span class="default">true</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$bool </span><span class="keyword">= </span><span class="default">self</span><span class="keyword">::</span><span class="default">inMultiArray</span><span class="keyword">(</span><span class="default">$element</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">, </span><span class="default">$strict</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$bool </span><span class="keyword">= </span><span class="default">$strict </span><span class="keyword">? </span><span class="default">$element </span><span class="keyword">=== </span><span class="default">$value </span><span class="keyword">: </span><span class="default">$element </span><span class="keyword">== </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$bool</span><span class="keyword">) return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">self</span><span class="keyword">::</span><span class="default">$currentMultiArrayExec </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return isset(</span><span class="default">$bool</span><span class="keyword">) ? </span><span class="default">$bool </span><span class="keyword">: </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">$array </span><span class="keyword">= array(</span><span class="string">"foo" </span><span class="keyword">=&gt; array(</span><span class="string">"foo2"</span><span class="keyword">, </span><span class="string">"bar"</span><span class="keyword">));<br />
</span><span class="default">$search </span><span class="keyword">= </span><span class="string">"foo"</span><span class="keyword">;<br />
<br />
if(</span><span class="default">Method</span><span class="keyword">::</span><span class="default">inMultiArray</span><span class="keyword">(</span><span class="default">$search</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">, </span><span class="default">false</span><span class="keyword">)){<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">$search </span><span class="keyword">. </span><span class="string">" it is found in the array or one of its sub array."</span><span class="keyword">;<br />
} else {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">$search </span><span class="keyword">. </span><span class="string">" was not found."</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="comment"># foo it is found in the array or one of its sub array.</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="124214""></a>
  <div class="note">
   <strong class="user">loordu</strong>
   <a href="#124214" class="date">20-Sep-2019 11:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In PHP array function the in_array() function mainly used to check the item are available or not in array.<br />
<br />
In_array() Syntax:<br />
<br />
in_array( 'search_item' , $array, boolean)<br />
<br />
Where,<br />
&nbsp;&nbsp; &nbsp; boolean - It is used to check strict validation. And this field is optional one. If you want the strict validation you can use this.<br />
<br />
We using in_array() function to performing following following two function. That is ,<br />
<br />
1. Non-strict validation<br />
2. Strict validation<br />
<br />
1. Non-strict validation:<br />
&nbsp;&nbsp; &nbsp; This method to validate array with some negotiation. And it allow two parameters.<br />
<br />
&nbsp;&nbsp; &nbsp; For example,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $array_sample = array (&nbsp; 'key1' =&gt; 567 , 'key2' =&gt; 579);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; in_array('key1', $array_sample);&nbsp;&nbsp; // output1:&nbsp; true<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; in_array('577', $array_sample, false);&nbsp;&nbsp; // output2:&nbsp; true<br />
<br />
&nbsp;&nbsp; &nbsp;&nbsp; Note: the Example 1, we use only two parameter. Because we can't mention `false` value. Because In default the in_array() take `false` as a boolean value.<br />
<br />
&nbsp;&nbsp; &nbsp;&nbsp; In above example, <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Example 1 : The `key1` is not value in the array.&nbsp; &nbsp; This is key of the array. So this scenario the in_array accept the search key as a value of the array.<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Example 2: The value `577` is not in the value and key of the array. It is some similar to the value `579`. So this is also accepted.<br />
<br />
&nbsp;&nbsp; &nbsp; So this reason this type is called non-strict function.<br />
<br />
2. Strict validation<br />
&nbsp;&nbsp; &nbsp; This method to validate array without any negotiation. And it have three parameters. If you only mention two parameter the `in_array()` function take as a non-strict validation.<br />
<br />
&nbsp;&nbsp; &nbsp; For example,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $array_sample = array (&nbsp; 'key1' =&gt; 567 , 'key2' =&gt; 579);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; in_array('key1', $array_sample , true);&nbsp;&nbsp; // output1:&nbsp; false<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; in_array('577', $array_sample, true);&nbsp;&nbsp; // output2:&nbsp; false<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; This is return `true` only the search string is match exactly with the array value with case sensitivity.<br />
<br />
Thanks for your time.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="124168""></a>
  <div class="note">
   <strong class="user">artem dot g dot prozorov at gmail dot com</strong>
   <a href="#124168" class="date">04-Sep-2019 11:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
in_array() may also return NULL if the second argument is NULL and strict types are off.<br />
<br />
<span class="default">&lt;?php<br />
var_dump</span><span class="keyword">(</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">, </span><span class="default">null</span><span class="keyword">));<br />
</span><span class="default">?&gt;<br />
</span><br />
The output is NULL<br />
<br />
If the strict mode is on, then this code would end up with the TypeError</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="123311""></a>
  <div class="note">
   <strong class="user">roman dot varuta at gmail dot com</strong>
   <a href="#123311" class="date">06-Nov-2018 01:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If array contain at least one true value, in_array() will return true every times if it is not false or null<br />
<br />
Use strict = true<br />
<br />
<span class="default">&lt;?php<br />
<br />
$arr </span><span class="keyword">= array(</span><span class="default">true</span><span class="keyword">);<br />
<br />
</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$any</span><span class="keyword">, </span><span class="default">$arr</span><span class="keyword">); </span><span class="comment">// Will return true every time except null and false<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="123260""></a>
  <div class="note">
   <strong class="user">iammanjil at gmail dot com</strong>
   <a href="#123260" class="date">25-Oct-2018 08:00</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If third parameter is not set to Strict then, the needle is found in haystack eventhought the values are not same. the limit behind the decimal seems to be 6 after which, the haystack and needle match no matter what is behind the 6th.<br />
<br />
Wrong Response.<br />
$os = array("652875063.10089021");<br />
if (in_array("652875063.10089021", $os)) {<br />
&nbsp;&nbsp;&nbsp; echo "In Array";<br />
}<br />
<br />
Correct Response<br />
$os = array("652875063.1008902");<br />
if (in_array("652875063.1008901", $os)) {<br />
&nbsp;&nbsp;&nbsp; echo "In Array";<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="122955""></a>
  <div class="note">
   <strong class="user">msegit post pl</strong>
   <a href="#122955" class="date">18-Jul-2018 12:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You can use my function inArray, to search:<br />
- multidimensional arrays<br />
- for substrings (case [in]sensitive)<br />
- for sub-arrays<br />
- get array of keys of found values<br />
Look at github https://gist.github.com/msegu/80093a65316ded5b69558d5456f80ff9 (here is too long)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="122393""></a>
  <div class="note">
   <strong class="user">Carmen</strong>
   <a href="#122393" class="date">15-Feb-2018 11:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Esta función falla con las letras acentuadas y con las e?es. Por tanto, no sirve para los caracteres UTF-8. <br />
El siguiente código falla para na cadena = "María Ma?as", no reconoce ni la "í" ni la "?":<br />
<br />
&nbsp;&nbsp;&nbsp; function validarNombreYApellidos ($cadena, $selector)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; /* Se admiten las letras (he puesto sólo las mayusculas,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; porque paso la cadena con el nombre o<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; el apellido a mayúscula antes de hacer la comparación), <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; las vocales acentuadas, la diéresis,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; las e?es, los espacios en blanco y el guión <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (para los apellidos compuestos)*/<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $caracteresPermitidos = <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; array ("A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M",<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; "N", "?", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; "Y",&nbsp; "Z", " ", "á", "é", "í", "ó", "ú", "ü", "-");<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $correcto = true;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // ?La cadena está vacía?<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (empty ($cadena))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $correcto = false;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $nombreOapellido = mb_strtoupper ($cadena, "utf-8");<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $longitudCadena = mb_strlen ($cadena, "utf-8");<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for ($i = 0; ($i &lt; $longitudCadena) &amp;&amp; $correcto; $i++)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (!in_array ($nombreOapellido [$i], <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $caracteresPermitidos))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // Se ha encontrado un carácter no permitido<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $correcto = false;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return $correcto;<br />
&nbsp;&nbsp; &nbsp; }</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="122392""></a>
  <div class="note">
   <strong class="user">Carmen</strong>
   <a href="#122392" class="date">15-Feb-2018 11:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Esta función falla con las letras acentuadas y con las e?es. Por tanto, no sirve para los caracteres UTF-8. <br />
El siguiente código falla para na cadena = "María Ma?as", no reconoce ni la "í" ni la "?":<br />
<br />
&nbsp;&nbsp;&nbsp; function validarNombreYApellidos ($cadena, $selector)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; /* Se admiten las letras (he puesto sólo las mayusculas,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; porque paso la cadena con el nombre o<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; el apellido a mayúscula antes de hacer la comparación), <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; las vocales acentuadas, la diéresis,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; las e?es, los espacios en blanco y el guión <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (para los apellidos compuestos)*/<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $caracteresPermitidos = <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; array ("A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M",<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; "N", "?", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; "Y",&nbsp; "Z", " ", "á", "é", "í", "ó", "ú", "ü", "-");<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $correcto = true;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // ?La cadena está vacía?<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (empty ($cadena))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $correcto = false;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $nombreOapellido = mb_strtoupper ($cadena, "utf-8");<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $longitudCadena = mb_strlen ($cadena, "utf-8");<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for ($i = 0; ($i &lt; $longitudCadena) &amp;&amp; $correcto; $i++)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (!in_array ($nombreOapellido [$i], <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $caracteresPermitidos))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // Se ha encontrado un carácter no permitido<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $correcto = false;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return $correcto;<br />
&nbsp;&nbsp; &nbsp; }</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="121479""></a>
  <div class="note">
   <strong class="user">Geoffrey Hoffman</strong>
   <a href="#121479" class="date">04-Aug-2017 04:00</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Be careful to use the strict parameter with truth comparisons of specific strings like "false":<br />
<br />
<span class="default">&lt;?php<br />
<br />
$truthy </span><span class="keyword">= [</span><span class="default">true</span><span class="keyword">, </span><span class="string">'true'</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, </span><span class="string">'1'</span><span class="keyword">, </span><span class="string">'y'</span><span class="keyword">, </span><span class="string">'Y'</span><span class="keyword">, </span><span class="string">'yes'</span><span class="keyword">, </span><span class="string">'YES'</span><span class="keyword">];<br />
<br />
if (</span><span class="default">in_array</span><span class="keyword">(</span><span class="string">'false'</span><span class="keyword">, </span><span class="default">$truthy</span><span class="keyword">)) {<br />
&nbsp;&nbsp; echo </span><span class="string">"False is truthy.\n"</span><span class="keyword">;<br />
} else {<br />
&nbsp;&nbsp; echo </span><span class="string">"False is not truthy.\n"</span><span class="keyword">;<br />
}<br />
<br />
if (</span><span class="default">in_array</span><span class="keyword">(</span><span class="string">'false'</span><span class="keyword">, </span><span class="default">$truthy</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">)) {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"False is truthy.\n"</span><span class="keyword">;<br />
} else {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"False is not truthy.\n"</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
The above example prints:<br />
<br />
False is truthy.<br />
False is not truthy.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="121177""></a>
  <div class="note">
   <strong class="user">stocki dot r at gmail dot com</strong>
   <a href="#121177" class="date">02-Jun-2017 02:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Add an extra if() to adrian foeder's comment to make it work properly:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">...<br />
&nbsp;&nbsp;&nbsp; if (!@</span><span class="default">$ret</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ret </span><span class="keyword">= </span><span class="default">rec_in_array</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$element</span><span class="keyword">, </span><span class="default">$alsokeys</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; ...<br />
</span><span class="default">?&gt;<br />
</span><br />
So this will work, too:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; $array </span><span class="keyword">= array(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; array(</span><span class="string">'a'</span><span class="keyword">, </span><span class="string">'b'</span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; array(</span><span class="string">'c'</span><span class="keyword">, </span><span class="string">'d'</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; );<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">rec_in_array</span><span class="keyword">(</span><span class="string">'a'</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">));<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="120397""></a>
  <div class="note">
   <strong class="user">rhuan at rhuan dot com dot br</strong>
   <a href="#120397" class="date">31-Dec-2016 11:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This code will search for a value in a multidimensional array with strings or numbers on keys.<br />
<br />
function in_multiarray($elem, $array)<br />
{<br />
&nbsp;&nbsp;&nbsp; while (current($array) !== false) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (current($array) == $elem) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return true;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } elseif (is_array(current($array))) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (in_multiarray($elem, current($array))) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return true;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; next($array);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return false;<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="120146""></a>
  <div class="note">
   <strong class="user">hoopyfroop at yahoo dot com</strong>
   <a href="#120146" class="date">11-Nov-2016 02:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you search for numbers, in_array will convert any strings in your array to numbers, dropping any letters/characters, forcing a numbers-to-numbers comparison. So if you search for 1234, it will say that '1234abcd' is a match.&nbsp; Example:<br />
<br />
<span class="default">&lt;?php<br />
$test_array </span><span class="keyword">= array(</span><span class="string">'test'</span><span class="keyword">, </span><span class="string">'1234abcd'</span><span class="keyword">);<br />
if (</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">1234</span><span class="keyword">, </span><span class="default">$test_array</span><span class="keyword">)) {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">'1234 is a match!'</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="118744""></a>
  <div class="note">
   <strong class="user">tjamadeira at gmail dot com</strong>
   <a href="#118744" class="date">29-Jan-2016 07:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This function is for search a needle in a multidimensional haystack:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/**<br />
&nbsp;* A special function for search in a multidimensional array a needle<br />
&nbsp;*<br />
&nbsp;* @param mixed needle The searched variable<br />
&nbsp;* @param array haystack The array where search<br />
&nbsp;* @param bool strict It is or it isn't a strict search?<br />
&nbsp;*<br />
&nbsp;* @return bool<br />
&nbsp;**/<br />
</span><span class="keyword">function </span><span class="default">in_array_r</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$strict </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">){<br />
&nbsp;foreach(</span><span class="default">$haystack </span><span class="keyword">as </span><span class="default">$item</span><span class="keyword">){<br />
&nbsp;&nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$item</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; if(</span><span class="default">in_array_r</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$item</span><span class="keyword">, </span><span class="default">$strict</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; }<br />
&nbsp;&nbsp; }else{<br />
&nbsp;&nbsp; &nbsp; if((</span><span class="default">$strict </span><span class="keyword">? </span><span class="default">$needle </span><span class="keyword">=== </span><span class="default">$item </span><span class="keyword">: </span><span class="default">$needle </span><span class="keyword">== </span><span class="default">$item</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; }<br />
&nbsp;&nbsp; }<br />
&nbsp;}<br />
&nbsp;return </span><span class="default">false</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="118268""></a>
  <div class="note">
   <strong class="user">splogamurugan at gmail dot com</strong>
   <a href="#118268" class="date">06-Nov-2015 11:49</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
var_dump(in_array('invalid', array(0,10,20))); <br />
The above code gives true since the 'invalid' is getting converted to 0 and checked against the array(0,10,20)<br />
<br />
but var_dump(in_array('invalid', array(10,20)));&nbsp; gives 'false' since 0 not there in the array</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="118045""></a>
  <div class="note">
   <strong class="user">dazero0 dot ls at gmail dot com</strong>
   <a href="#118045" class="date">24-Sep-2015 10:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I would like to add something to beingmrkenny at gmail dot com comparison post. After debugging a system, i discovered a security issue in our system and his post helped me find the problem.<br />
<br />
In my additional testing i found out that not matter what you search for in an array, except for 0 and null, you get true as the result if the array contains true as the value.<br />
<br />
Examples as php code :<br />
<br />
<span class="default">&lt;?php<br />
$a </span><span class="keyword">= [</span><span class="string">'a'</span><span class="keyword">, </span><span class="default">32</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">, </span><span class="string">'x' </span><span class="keyword">=&gt; </span><span class="default">y</span><span class="keyword">];<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">25</span><span class="keyword">, </span><span class="default">$a</span><span class="keyword">)); </span><span class="comment">// true, one would expect false<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">in_array</span><span class="keyword">(</span><span class="string">'ggg'</span><span class="keyword">, </span><span class="default">$a</span><span class="keyword">)); </span><span class="comment">// true, one would expect false<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">$a</span><span class="keyword">)); </span><span class="comment">// false<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">null</span><span class="keyword">, </span><span class="default">$a</span><span class="keyword">)); </span><span class="comment">// false<br />
</span><span class="default">?&gt;</span> <br />
<br />
Such the best practice in our case is to use strict mode. Which was not so obvious.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="116580""></a>
  <div class="note">
   <strong class="user">Harry Willis</strong>
   <a href="#116580" class="date">24-Jan-2015 11:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Kelvin's case-insensitive in_arrayi is fine if you desire loose typing, but mapping strtolower onto the array will (attempt to) cast all array members to string. If you have an array of mixed types, and you wish to preserve the typing, the following will work:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">in_array_ci</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, array </span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$strict </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$haystack </span><span class="keyword">as </span><span class="default">$element</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">gettype</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">) == </span><span class="string">'string' </span><span class="keyword">&amp;&amp; </span><span class="default">gettype</span><span class="keyword">(</span><span class="default">$element</span><span class="keyword">) == </span><span class="string">'string'</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (!</span><span class="default">strcasecmp</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$element</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; elseif (</span><span class="default">$strict</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$needle </span><span class="keyword">=== </span><span class="default">$element</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$needle </span><span class="keyword">== </span><span class="default">$element</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114171""></a>
  <div class="note">
   <strong class="user">what loose checking means</strong>
   <a href="#114171" class="date">20-Jan-2014 05:03</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In a high-voted example, an array is given that contains, amongst other things, true, false and null, against which various variables are tested using in_array and loose checking.<br />
<br />
It impossible to receive false as a return value from in_array using loose checking if your arrays contains both the constants true and false. You might understandably trip over this (or the inverse - passing boolean true to check against an array of e.g. non-empty strings), but it's certainly not counter intuitive and makes perfect sense.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114117""></a>
  <div class="note">
   <strong class="user">rolf dot dergham dot public at gmail dot com</strong>
   <a href="#114117" class="date">13-Jan-2014 01:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Watch out for this:<br />
<br />
&lt;?<br />
<br />
print_r( (int) in_array('hello',array( 0 =&gt; 0)) );<br />
<br />
?&gt;<br />
<br />
returns 1<br />
<br />
Yes, it seems that is_array thinks that a random string and 0 are the same thing.<br />
Excuse me, that's not loose checking, that's drunken logic.<br />
Or maybe I found a bug?</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="112168""></a>
  <div class="note">
   <strong class="user">Valerchik</strong>
   <a href="#112168" class="date">13-May-2013 07:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Beware when using this function to validate user input:<br />
<br />
$a = array('0' =&gt; 'Opt 1', '1' =&gt; 'Opt 2', '2' =&gt; 'Opt 3');<br />
$v = 'sql injection';<br />
var_dump(in_array($v, array_keys($a)));<br />
<br />
This will result : true;<br />
<br />
array_keys($a) will cast array keys to int instead of string !<br />
then when in_array will compare it will cast&nbsp; 'sql injection' to int 0 !<br />
Beware of this!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="107721""></a>
  <div class="note">
   <strong class="user">janis dot janovskis at gmail dot com</strong>
   <a href="#107721" class="date">28-Feb-2012 11:03</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Since sometimes in_array returns strange results - see notes above.<br />
I was able to find value in array by this quite a simple function;<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/**<br />
* $find &lt;mixed&gt; value to find<br />
* $array&lt;array&gt; array to search in<br />
*/<br />
<br />
</span><span class="keyword">function </span><span class="default">_value_in_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$find</span><span class="keyword">){<br />
&nbsp;</span><span class="default">$exists </span><span class="keyword">= </span><span class="default">FALSE</span><span class="keyword">;<br />
&nbsp;if(!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)){<br />
&nbsp;&nbsp; return;<br />
}<br />
foreach (</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp; if(</span><span class="default">$find </span><span class="keyword">== </span><span class="default">$value</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$exists </span><span class="keyword">= </span><span class="default">TRUE</span><span class="keyword">;<br />
&nbsp; }<br />
}<br />
&nbsp; return </span><span class="default">$exists</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="comment">// Note<br />
// You can't use wildcards and it does not check variable type<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="106319""></a>
  <div class="note">
   <strong class="user">beingmrkenny at gmail dot com</strong>
   <a href="#106319" class="date">27-Oct-2011 03:35</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Loose checking returns some crazy, counter-intuitive results when used with certain arrays. It is completely correct behaviour, due to PHP's leniency on variable types, but in "real-life" is almost useless.<br />
<br />
The solution is to use the strict checking option.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">// Example array<br />
<br />
</span><span class="default">$array </span><span class="keyword">= array(<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'egg' </span><span class="keyword">=&gt; </span><span class="default">true</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'cheese' </span><span class="keyword">=&gt; </span><span class="default">false</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'hair' </span><span class="keyword">=&gt; </span><span class="default">765</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'goblins' </span><span class="keyword">=&gt; </span><span class="default">null</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'ogres' </span><span class="keyword">=&gt; </span><span class="string">'no ogres allowed in this array'<br />
</span><span class="keyword">);<br />
<br />
</span><span class="comment">// Loose checking -- return values are in comments<br />
<br />
// First three make sense, last four do not<br />
<br />
</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">null</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">); </span><span class="comment">// true<br />
</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">false</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">); </span><span class="comment">// true<br />
</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">765</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">); </span><span class="comment">// true<br />
</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">763</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">); </span><span class="comment">// true<br />
</span><span class="default">in_array</span><span class="keyword">(</span><span class="string">'egg'</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">); </span><span class="comment">// true<br />
</span><span class="default">in_array</span><span class="keyword">(</span><span class="string">'hhh'</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">); </span><span class="comment">// true<br />
</span><span class="default">in_array</span><span class="keyword">(array(), </span><span class="default">$array</span><span class="keyword">); </span><span class="comment">// true<br />
<br />
// Strict checking<br />
<br />
</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">null</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">); </span><span class="comment">// true<br />
</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">false</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">); </span><span class="comment">// true<br />
</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">765</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">); </span><span class="comment">// true<br />
</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">763</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">); </span><span class="comment">// false<br />
</span><span class="default">in_array</span><span class="keyword">(</span><span class="string">'egg'</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">); </span><span class="comment">// false<br />
</span><span class="default">in_array</span><span class="keyword">(</span><span class="string">'hhh'</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">); </span><span class="comment">// false<br />
</span><span class="default">in_array</span><span class="keyword">(array(), </span><span class="default">$array</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">); </span><span class="comment">// false<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="105251""></a>
  <div class="note">
   <strong class="user">Lea Hayes</strong>
   <a href="#105251" class="date">04-Aug-2011 05:40</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Determine whether an object field matches needle.
<br />

<br />
Usage Example:
<br />
---------------
<br />

<br />
<span class="default">&lt;?php
<br />
$arr </span><span class="keyword">= array( new </span><span class="default">stdClass</span><span class="keyword">(), new </span><span class="default">stdClass</span><span class="keyword">() );
<br />
</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]-&gt;</span><span class="default">colour </span><span class="keyword">= </span><span class="string">'red'</span><span class="keyword">;
<br />
</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]-&gt;</span><span class="default">colour </span><span class="keyword">= </span><span class="string">'green'</span><span class="keyword">;
<br />
</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]-&gt;</span><span class="default">state&nbsp; </span><span class="keyword">= </span><span class="string">'enabled'</span><span class="keyword">;
<br />

<br />
if (</span><span class="default">in_array_field</span><span class="keyword">(</span><span class="string">'red'</span><span class="keyword">, </span><span class="string">'colour'</span><span class="keyword">, </span><span class="default">$arr</span><span class="keyword">))
<br />
&nbsp;&nbsp; echo </span><span class="string">'Item exists with colour red.'</span><span class="keyword">;
<br />
if (</span><span class="default">in_array_field</span><span class="keyword">(</span><span class="string">'magenta'</span><span class="keyword">, </span><span class="string">'colour'</span><span class="keyword">, </span><span class="default">$arr</span><span class="keyword">))
<br />
&nbsp;&nbsp; echo </span><span class="string">'Item exists with colour magenta.'</span><span class="keyword">;
<br />
if (</span><span class="default">in_array_field</span><span class="keyword">(</span><span class="string">'enabled'</span><span class="keyword">, </span><span class="string">'state'</span><span class="keyword">, </span><span class="default">$arr</span><span class="keyword">))
<br />
&nbsp;&nbsp; echo </span><span class="string">'Item exists with enabled state.'</span><span class="keyword">;
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
Output:
<br />
--------
<br />
Item exists with colour red.
<br />
Item exists with enabled state.
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">in_array_field</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$needle_field</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$strict </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">) {
<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$strict</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$haystack </span><span class="keyword">as </span><span class="default">$item</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (isset(</span><span class="default">$item</span><span class="keyword">-&gt;</span><span class="default">$needle_field</span><span class="keyword">) &amp;&amp; </span><span class="default">$item</span><span class="keyword">-&gt;</span><span class="default">$needle_field </span><span class="keyword">=== </span><span class="default">$needle</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; else {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$haystack </span><span class="keyword">as </span><span class="default">$item</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (isset(</span><span class="default">$item</span><span class="keyword">-&gt;</span><span class="default">$needle_field</span><span class="keyword">) &amp;&amp; </span><span class="default">$item</span><span class="keyword">-&gt;</span><span class="default">$needle_field </span><span class="keyword">== </span><span class="default">$needle</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="99676""></a>
  <div class="note">
   <strong class="user">ctulek at gmail dot com</strong>
   <a href="#99676" class="date">30-Aug-2010 11:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you have an array like:<br />
$arr = array(0,1,2,3,4,5);<br />
<br />
in_array(NULL, $arr) returns true because you have 0 in your array. That is, in_array does not use === for equal check.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="97465""></a>
  <div class="note">
   <strong class="user">bogdan AT bogdanconstantinescu DOT com</strong>
   <a href="#97465" class="date">21-Apr-2010 08:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you found yourself in need of a multidimensional array in_array like function you can use the one below. Works in a fair amount of time<br />
<br />
<span class="default">&lt;?php<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">in_multiarray</span><span class="keyword">(</span><span class="default">$elem</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$top </span><span class="keyword">= </span><span class="default">sizeof</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) - </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$bottom </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; while(</span><span class="default">$bottom </span><span class="keyword">&lt;= </span><span class="default">$top</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$bottom</span><span class="keyword">] == </span><span class="default">$elem</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$bottom</span><span class="keyword">]))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">in_multiarray</span><span class="keyword">(</span><span class="default">$elem</span><span class="keyword">, (</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$bottom</span><span class="keyword">])))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$bottom</span><span class="keyword">++;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="96198""></a>
  <div class="note">
   <strong class="user">jv at vip dot ie</strong>
   <a href="#96198" class="date">13-Feb-2010 04:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you're working with very large 2 dimensional arrays (eg 20,000+ elements) it's much faster to do this...
<br />

<br />
<span class="default">&lt;?php
<br />
$needle </span><span class="keyword">= </span><span class="string">'test for this'</span><span class="keyword">;
<br />

<br />
</span><span class="default">$flipped_haystack </span><span class="keyword">= </span><span class="default">array_flip</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">);
<br />

<br />
if ( isset(</span><span class="default">$flipped_haystack</span><span class="keyword">[</span><span class="default">$needle</span><span class="keyword">]) )
<br />
{
<br />
&nbsp; print </span><span class="string">"Yes it's there!"</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
I had a script that went from 30+ seconds down to 2 seconds (when hunting through a 50,000 element array 50,000 times).
<br />

<br />
Remember to only flip it once at the beginning of your code though!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93880""></a>
  <div class="note">
   <strong class="user">thomas dot sahlin at gmail dot com</strong>
   <a href="#93880" class="date">05-Oct-2009 12:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you're creating an array yourself and then using in_array to search it, consider setting the keys of the array and using isset instead since it's much faster.<br />
<br />
<span class="default">&lt;?php<br />
<br />
$slow </span><span class="keyword">= array(</span><span class="string">'apple'</span><span class="keyword">, </span><span class="string">'banana'</span><span class="keyword">, </span><span class="string">'orange'</span><span class="keyword">);<br />
<br />
if (</span><span class="default">in_array</span><span class="keyword">(</span><span class="string">'banana'</span><span class="keyword">, </span><span class="default">$slow</span><span class="keyword">))<br />
&nbsp;&nbsp;&nbsp; print(</span><span class="string">'Found it!'</span><span class="keyword">);<br />
<br />
</span><span class="default">$fast </span><span class="keyword">= array(</span><span class="string">'apple' </span><span class="keyword">=&gt; </span><span class="string">'apple'</span><span class="keyword">, </span><span class="string">'banana' </span><span class="keyword">=&gt; </span><span class="string">'banana'</span><span class="keyword">, </span><span class="string">'orange' </span><span class="keyword">=&gt; </span><span class="string">'orange'</span><span class="keyword">);<br />
<br />
if (isset(</span><span class="default">$fast</span><span class="keyword">[</span><span class="string">'banana'</span><span class="keyword">]))<br />
&nbsp;&nbsp;&nbsp; print(</span><span class="string">'Found it!'</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="91911""></a>
  <div class="note">
   <strong class="user">john at dwarven dot co dot uk</strong>
   <a href="#91911" class="date">01-Jul-2009 04:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I just struggled for a while with this, although it may be obvious to others.<br />
<br />
If you have an array with mixed type content such as:<br />
<br />
<span class="default">&lt;?php<br />
<br />
&nbsp;$ary </span><span class="keyword">= array (<br />
&nbsp;&nbsp; </span><span class="default">1</span><span class="keyword">,<br />
&nbsp;&nbsp; </span><span class="string">"John"</span><span class="keyword">,<br />
&nbsp;&nbsp; </span><span class="default">0</span><span class="keyword">,<br />
&nbsp;&nbsp; </span><span class="string">"Foo"</span><span class="keyword">,<br />
&nbsp;&nbsp; </span><span class="string">"Bar"<br />
&nbsp;</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
be sure to use the strict checking when searching for a string in the array, or it will match on the 0 int in that array and give a true for all values of needle that are strings strings.<br />
<br />
<span class="default">&lt;?php<br />
<br />
var_dump</span><span class="keyword">( </span><span class="default">in_array</span><span class="keyword">( </span><span class="default">2</span><span class="keyword">, </span><span class="default">$ary </span><span class="keyword">) );<br />
<br />
</span><span class="comment">// outputs FALSE<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">( </span><span class="default">in_array</span><span class="keyword">( </span><span class="string">'Not in there'</span><span class="keyword">, </span><span class="default">$ary </span><span class="keyword">) );<br />
<br />
</span><span class="comment">// outputs TRUE<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">( </span><span class="default">in_array</span><span class="keyword">( </span><span class="string">'Not in there'</span><span class="keyword">, </span><span class="default">$ary</span><span class="keyword">, </span><span class="default">TRUE </span><span class="keyword">) );<br />
<br />
</span><span class="comment">// outputs FALSE<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="89256""></a>
  <div class="note">
   <strong class="user">Kelvin J</strong>
   <a href="#89256" class="date">28-Feb-2009 05:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For a case-insensitive in_array(), you can use array_map() to avoid a foreach statement, e.g.:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">in_arrayi</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">in_array</span><span class="keyword">(</span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">), </span><span class="default">array_map</span><span class="keyword">(</span><span class="string">'strtolower'</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="88260""></a>
  <div class="note">
   <strong class="user">rhill at xenu-directory dot net</strong>
   <a href="#88260" class="date">17-Jan-2009 01:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I found out that in_array will *not* find an associative array within a haystack of associative arrays in strict mode if the keys were not generated in the *same order*:<br />
<br />
<span class="default">&lt;?php<br />
<br />
$needle </span><span class="keyword">= array(<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'fruit'</span><span class="keyword">=&gt;</span><span class="string">'banana'</span><span class="keyword">, </span><span class="string">'vegetable'</span><span class="keyword">=&gt;</span><span class="string">'carrot'<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">);<br />
<br />
</span><span class="default">$haystack </span><span class="keyword">= array(<br />
&nbsp;&nbsp;&nbsp; array(</span><span class="string">'vegetable'</span><span class="keyword">=&gt;</span><span class="string">'carrot'</span><span class="keyword">, </span><span class="string">'fruit'</span><span class="keyword">=&gt;</span><span class="string">'banana'</span><span class="keyword">),<br />
&nbsp;&nbsp;&nbsp; array(</span><span class="string">'fruit'</span><span class="keyword">=&gt;</span><span class="string">'apple'</span><span class="keyword">, </span><span class="string">'vegetable'</span><span class="keyword">=&gt;</span><span class="string">'celery'</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; );<br />
<br />
echo </span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">) ? </span><span class="string">'true' </span><span class="keyword">: </span><span class="string">'false'</span><span class="keyword">;<br />
</span><span class="comment">// Output is 'false'<br />
<br />
</span><span class="keyword">echo </span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">) ? </span><span class="string">'true' </span><span class="keyword">: </span><span class="string">'false'</span><span class="keyword">;<br />
</span><span class="comment">// Output is 'true'<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
I had wrongly assumed the order of the items in an associative array were irrelevant, regardless of whether 'strict' is TRUE or FALSE: The order is irrelevant *only* if not in strict mode.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="84602""></a>
  <div class="note">
   <strong class="user">crashrox at gmail dot com</strong>
   <a href="#84602" class="date">21-Jul-2008 08:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Recursive in array using SPL
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">in_array_recursive</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">) {
<br />

<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$it </span><span class="keyword">= new </span><span class="default">RecursiveIteratorIterator</span><span class="keyword">(new </span><span class="default">RecursiveArrayIterator</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">));
<br />

<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$it </span><span class="keyword">AS </span><span class="default">$element</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$element </span><span class="keyword">== </span><span class="default">$needle</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; }
<br />

<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83285""></a>
  <div class="note">
   <strong class="user">Martijn Wieringa</strong>
   <a href="#83285" class="date">19-May-2008 02:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
When using numbers as needle, it gets tricky:<br />
<br />
Note this behaviour (3rd statement):<br />
<br />
in_array(0, array(42)) = FALSE<br />
in_array(0, array('42')) = FALSE<br />
in_array(0, array('Foo')) = TRUE<br />
in_array('0', array('Foo')) = FALSE</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="81593""></a>
  <div class="note">
   <strong class="user">sick949 at hotmail dot com</strong>
   <a href="#81593" class="date">05-Mar-2008 03:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A first idea for a function that checks if a text is in a specific column of an array.<br />
It does not use in_array function because it doesn't check via columns.<br />
Its a test, could be much better. Do not use it without test.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">in_array_column</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">, </span><span class="default">$column</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if (!empty(</span><span class="default">$array</span><span class="keyword">) &amp;&amp; </span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">))<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="default">$column</span><span class="keyword">]==</span><span class="default">$text </span><span class="keyword">|| </span><span class="default">strcmp</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="default">$column</span><span class="keyword">],</span><span class="default">$text</span><span class="keyword">)==</span><span class="default">0</span><span class="keyword">) return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="67159""></a>
  <div class="note">
   <strong class="user">musik at krapplack dot de</strong>
   <a href="#67159" class="date">04-Jun-2006 05:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I needed a version of in_array() that supports wildcards in the haystack. Here it is:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">my_inArray</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment"># this function allows wildcards in the array to be searched<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">foreach (</span><span class="default">$haystack </span><span class="keyword">as </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">true </span><span class="keyword">=== </span><span class="default">fnmatch</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$haystack </span><span class="keyword">= array(</span><span class="string">'*krapplack.de'</span><span class="keyword">);<br />
</span><span class="default">$needle </span><span class="keyword">= </span><span class="string">'www.krapplack.de'</span><span class="keyword">;<br />
<br />
echo </span><span class="default">my_inArray</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">); </span><span class="comment"># outputs "true"<br />
</span><span class="default">?&gt;<br />
</span><br />
Unfortunately, fnmatch() is not available on Windows or other non-POSIX compliant systems.<br />
<br />
Cheers,<br />
Thomas</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="58560""></a>
  <div class="note">
   <strong class="user">adrian foeder</strong>
   <a href="#58560" class="date">08-Nov-2005 01:21</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
hope this function may be useful to you, it checks an array recursively (if an array has sub-array-levels) and also the keys, if wanted:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">rec_in_array</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$alsokeys</span><span class="keyword">=</span><span class="default">false</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">)) return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$haystack</span><span class="keyword">) || (</span><span class="default">$alsokeys </span><span class="keyword">&amp;&amp; </span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">)) )) return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$haystack </span><span class="keyword">AS </span><span class="default">$element</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ret </span><span class="keyword">= </span><span class="default">rec_in_array</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$element</span><span class="keyword">, </span><span class="default">$alsokeys</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$ret</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="53745""></a>
  <div class="note">
   <strong class="user">Aragorn5551 at gmx dot de</strong>
   <a href="#53745" class="date">11-Jun-2005 05:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you have a multidimensional array filled only with Boolean values like me, you need to use 'strict', otherwise in_array() will return an unexpected result.
<br />

<br />
Example:
<br />

<br />
<span class="default">&lt;?php
<br />
$error_arr </span><span class="keyword">= array(</span><span class="string">'error_one' </span><span class="keyword">=&gt; </span><span class="default">FALSE</span><span class="keyword">, </span><span class="string">'error_two' </span><span class="keyword">=&gt; </span><span class="default">FALSE</span><span class="keyword">, array(</span><span class="string">'error_three' </span><span class="keyword">=&gt; </span><span class="default">FALSE</span><span class="keyword">, </span><span class="string">'error_four' </span><span class="keyword">=&gt; </span><span class="default">FALSE</span><span class="keyword">));
<br />

<br />
if (</span><span class="default">in_array </span><span class="keyword">(</span><span class="default">TRUE</span><span class="keyword">, </span><span class="default">$error_arr</span><span class="keyword">)) { 
<br />
&nbsp;&nbsp; echo </span><span class="string">'An error occurred'</span><span class="keyword">;
<br />
}
<br />
else {
<br />
&nbsp;&nbsp; echo </span><span class="string">'No error occurred'</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
This will return 'An error occurred' although theres no TRUE value inside the array in any dimension. With 'strict' the function will return the correct result 'No error occurred'.
<br />

<br />
Hope this helps somebody, cause it took me some time to figure this out.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
