<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=gb2312">
  <title>得到所有输出缓冲区的状态</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.ob-get-level.html">? ob_get_level</a></li>
      <li style="float: right;"><a href="function.ob-implicit-flush.html">ob_implicit_flush ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.outcontrol.html">输出控制 函数</a></li>
    <li>得到所有输出缓冲区的状态</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.ob-get-status" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">ob_get_status</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.2.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">ob_get_status</span> &mdash; <span class="dc-title">得到所有输出缓冲区的状态</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.ob-get-status-description">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>ob_get_status</strong></span>(<span class="methodparam"><span class="type"><a href="language.types.boolean.html" class="type bool">bool</a></span> <code class="parameter">$full_status</code><span class="initializer"> = <strong><code><a href="reserved.constants.html#constant.false">false</a></code></strong></span></span>): <span class="type"><a href="language.types.array.html" class="type array">array</a></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>ob_get_status()</strong></span> 返回最顶层输出缓冲区的状态信息；或者如果 <code class="parameter">full_status</code>
   设为 <strong><code><a href="reserved.constants.html#constant.true">true</a></code></strong>，返回所有有效的输出缓冲级别。
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.ob-get-status-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>
    
     <dt><code class="parameter">full_status</code></dt>
     <dd>
      <p class="para">
        设为 <strong><code><a href="reserved.constants.html#constant.true">true</a></code></strong> 返回所有有效的输出缓冲区级别的状态信息。如果设为 <strong><code><a href="reserved.constants.html#constant.false">false</a></code></strong> 或者没有设置，仅返回最顶层输出缓冲区的状态信息。
      </p>
     </dd>
    
   </dl>
  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.ob-get-status-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   如果省略了 <code class="parameter">full_status</code> 或传递
   <strong><code><a href="reserved.constants.html#constant.false">false</a></code></strong>，则返回简单的数组，该数组保存有关活动输出级别的状态信息。
  </p>
  <p class="para">
   如果 <code class="parameter">full_status</code> 为 <strong><code><a href="reserved.constants.html#constant.true">true</a></code></strong>，则返回数组，其中每个元素都包含活动输出缓冲区级别。输出级别用作顶级数组的
   key，每个数组元素本身又是另一个数组，包含活动输出级别的状态信息。
  </p>
  <p class="para">
   如果未打开输出缓冲，则返回空数组。
  </p>
  <p class="para">
   <table class="segmentedlist">
    <caption><strong><span class="function"><strong>ob_get_status()</strong></span> 返回的数组元素</strong></caption>
    <thead><tr><th>Key</th><th>值</th>
    </tr></thead><tbody><tr class="seglistitem">
     <td class="seg">name</td>
     <td class="seg">
      活动输出处理程序的名称（有关详细信息，请参阅 <span class="function"><a href="function.ob-list-handlers.html" class="function">ob_list_handlers()</a></span> 的返回值）
     </td>
    </tr>
    <tr class="seglistitem">
     <td class="seg">type</td>
     <td class="seg">
      <code class="literal">0</code>（内部处理程序）或
      <code class="literal">1</code>（用户提供的处理程序）
     </td>
    </tr>
    <tr class="seglistitem">
     <td class="seg">flags</td>
     <td class="seg">
      <span class="function"><a href="function.ob-start.html" class="function">ob_start()</a></span> 设置的 flag 掩码、输出处理程序的类型（见上文）和缓冲过程的状态（<a href="outcontrol.constants.html#outcontrol.constants.flags-returned-by-handler" class="link">
      <strong><code>PHP_OUTPUT_HANDLER_<span class="replaceable">*</span></code></strong></a> 常量）。如果处理程序成功处理缓冲并且没有返回 <strong><code><a href="reserved.constants.html#constant.false">false</a></code></strong>，则将会设置
      <strong><code><a href="outcontrol.constants.html#constant.php-output-handler-started">PHP_OUTPUT_HANDLER_STARTED</a></code></strong> 和 <strong><code><a href="outcontrol.constants.html#constant.php-output-handler-processed">PHP_OUTPUT_HANDLER_PROCESSED</a></code></strong>。如果处理程序在处理缓冲时失败或返回 <strong><code><a href="reserved.constants.html#constant.false">false</a></code></strong>，则将设置
      <strong><code><a href="outcontrol.constants.html#constant.php-output-handler-started">PHP_OUTPUT_HANDLER_STARTED</a></code></strong> 和 <strong><code><a href="outcontrol.constants.html#constant.php-output-handler-disabled">PHP_OUTPUT_HANDLER_DISABLED</a></code></strong>。
     </td>
    </tr>
    <tr class="seglistitem">
     <td class="seg">level</td>
     <td class="seg">
      输出嵌套级别（从 0 开始）。注意 <span class="function"><a href="function.ob-get-level.html" class="function">ob_get_level()</a></span> 对于相同级别返回的值相差 1。<span class="function"><strong>ob_get_status()</strong></span>
      的第一级为 <code class="literal">0</code>，<span class="function"><a href="function.ob-get-level.html" class="function">ob_get_level()</a></span> 的第一级为 <code class="literal">1</code>。
     </td>
    </tr>
    <tr class="seglistitem">
     <td class="seg">chunk_size</td>
     <td class="seg">
      块大小（以字节为单位）。通过 <span class="function"><a href="function.ob-start.html" class="function">ob_start()</a></span> 设置或启用 <a href="outcontrol.configuration.html#ini.output-buffering" class="link">output_buffering</a> 并将其值设置为正整数
     </td>
    </tr>
    <tr class="seglistitem">
     <td class="seg">buffer_size</td>
     <td class="seg">
      输出缓冲区字节大小
     </td>
    </tr>
    <tr class="seglistitem">
     <td class="seg">buffer_used</td>
     <td class="seg">
      输出缓冲区中数据的字节大小（与 <span class="function"><a href="function.ob-get-length.html" class="function">ob_get_length()</a></span> 的整数返回值相同）
     </td>
    </tr>
   </tbody></table>
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.ob-get-status-examples">
  <h3 class="title">示例</h3>
  <p class="para">
   <div class="example" id="example-528">
    <p><strong>Example #1 当 <code class="parameter">full_status</code> 是 <strong><code><a href="reserved.constants.html#constant.false">false</a></code></strong> 的返回数组</strong></p>
    <div class="example-contents screen">
<div class="examplescode"><pre class="examplescode">Array
(
    [name] =&gt; URL-Rewriter
    [type] =&gt; 0
    [flags] =&gt; 112
    [level] =&gt; 2
    [chunk_size] =&gt; 0
    [buffer_size] =&gt; 16384
    [buffer_used] =&gt; 1024
)</pre>
</div>
    </div>
   </div>
  </p>
  <p class="para">
   <div class="example" id="example-529">
    <p><strong>Example #2 当 <code class="parameter">full_status</code> 是 <strong><code><a href="reserved.constants.html#constant.true">true</a></code></strong> 的返回数组</strong></p>
    <div class="example-contents screen">
<div class="examplescode"><pre class="examplescode">Array
(
    [0] =&gt; Array
        (
            [name] =&gt; default output handler
            [type] =&gt; 0
            [flags] =&gt; 112
            [level] =&gt; 1
            [chunk_size] =&gt; 0
            [buffer_size] =&gt; 16384
            [buffer_used] =&gt; 2048
        )

    [1] =&gt; Array
        (
            [name] =&gt; URL-Rewriter
            [type] =&gt; 0
            [flags] =&gt; 112
            [level] =&gt; 2
            [chunk_size] =&gt; 0
            [buffer_size] =&gt; 16384
            [buffer_used] =&gt; 1024
        )

)</pre>
</div>
    </div>
   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.ob-get-status-seealso">
  <h3 class="title">参见</h3>
  <p class="para">
   <ul class="simplelist">
    <li><span class="function"><a href="function.ob-get-level.html" class="function" rel="rdfs-seeAlso">ob_get_level()</a> - 返回输出缓冲机制的嵌套级别</span></li>
    <li><span class="function"><a href="function.ob-list-handlers.html" class="function" rel="rdfs-seeAlso">ob_list_handlers()</a> - 列出所有使用的输出处理程序</span></li>
    <li><span class="function"><a href="function.ob-get-length.html" class="function" rel="rdfs-seeAlso">ob_get_length()</a> - 返回输出缓冲区内容的长度</span></li>
    <li><span class="function"><a href="function.ob-start.html" class="function" rel="rdfs-seeAlso">ob_start()</a> - 打开输出控制缓冲</span></li>
   </ul>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="121633""></a>
  <div class="note">
   <strong class="user">rmagalhaess at hotmail dot com</strong>
   <a href="#121633" class="date">12-Sep-2017 07:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The fields inside the array returned by ob_get_status() are:<br />
<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [name] =&gt; default output handler<br />
&nbsp;&nbsp;&nbsp; [type] =&gt; 0<br />
&nbsp;&nbsp;&nbsp; [flags] =&gt; 112<br />
&nbsp;&nbsp;&nbsp; [level] =&gt; 1<br />
&nbsp;&nbsp;&nbsp; [chunk_size] =&gt; 0<br />
&nbsp;&nbsp;&nbsp; [buffer_size] =&gt; 16384<br />
&nbsp;&nbsp;&nbsp; [buffer_used] =&gt; 0<br />
)<br />
<br />
These values are filled just after the function ob_start()</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
